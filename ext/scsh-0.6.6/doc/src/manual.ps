%!PS-Adobe-2.0
%%Creator: dvips(k) 5.92b Copyright 2002 Radical Eye Software
%%Title: manual.dvi
%%Pages: 64
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Palatino-Roman Palatino-Italic Palatino-Bold Courier
%%+ CMR8 CMSY10 CMSY8 CMR10 CMMI10 CMMI8 CMR7
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips manual -o manual.ps
%DVIPSParameters: dpi=1200, compressed
%DVIPSSource:  TeX output 2004.03.29:0834
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% File  8r.enc as of 2002-03-12 for PSNFSS 9
%
% This is the encoding vector for Type1 and TrueType fonts to be used
% with TeX.  This file is part of the PSNFSS bundle, version 9
% 
% Authors: S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry, W. Schmidt
%
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida + Euro.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
%
% (6) /Euro is assigned to 128, as in Windows ANSI
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /Euro /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: f7b6d320.enc
% Thomas Esser, Dec 2002. public domain
%
% Encoding for:
%     cmb10 cmbx10 cmbx12 cmbx5 cmbx6 cmbx7 cmbx8 cmbx9 cmbxsl10
%     cmdunh10 cmr10 cmr12 cmr17cmr6 cmr7 cmr8 cmr9 cmsl10 cmsl12 cmsl8
%     cmsl9 cmss10cmss12 cmss17 cmss8 cmss9 cmssbx10 cmssdc10 cmssi10
%     cmssi12 cmssi17 cmssi8cmssi9 cmssq8 cmssqi8 cmvtt10
%
/TeXf7b6d320Encoding [
/Gamma /Delta /Theta /Lambda /Xi /Pi /Sigma /Upsilon /Phi /Psi /Omega
/ff /fi /fl /ffi /ffl /dotlessi /dotlessj /grave /acute /caron /breve
/macron /ring /cedilla /germandbls /ae /oe /oslash /AE /OE /Oslash
/suppress /exclam /quotedblright /numbersign /dollar /percent /ampersand
/quoteright /parenleft /parenright /asterisk /plus /comma /hyphen
/period /slash /zero /one /two /three /four /five /six /seven /eight
/nine /colon /semicolon /exclamdown /equal /questiondown /question /at
/A /B /C /D /E /F /G /H /I /J /K /L /M /N /O /P /Q /R /S /T /U /V /W /X
/Y /Z /bracketleft /quotedblleft /bracketright /circumflex /dotaccent
/quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o /p /q /r /s /t /u
/v /w /x /y /z /endash /emdash /hungarumlaut /tilde /dieresis /suppress
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /space
/Gamma /Delta /Theta /Lambda /Xi /Pi /Sigma /Upsilon /Phi /Psi /.notdef
/.notdef /Omega /ff /fi /fl /ffi /ffl /dotlessi /dotlessj /grave /acute
/caron /breve /macron /ring /cedilla /germandbls /ae /oe /oslash /AE
/OE /Oslash /suppress /dieresis /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
] def

%%EndProcSet
%%BeginProcSet: bbad153f.enc
% Thomas Esser, Dec 2002. public domain
%
% Encoding for:
%     cmsy10 cmsy5 cmsy6 cmsy7 cmsy8 cmsy9
%
/TeXbbad153fEncoding [
/minus /periodcentered /multiply /asteriskmath /divide /diamondmath
/plusminus /minusplus /circleplus /circleminus /circlemultiply
/circledivide /circledot /circlecopyrt /openbullet /bullet
/equivasymptotic /equivalence /reflexsubset /reflexsuperset /lessequal
/greaterequal /precedesequal /followsequal /similar /approxequal
/propersubset /propersuperset /lessmuch /greatermuch /precedes /follows
/arrowleft /arrowright /arrowup /arrowdown /arrowboth /arrownortheast
/arrowsoutheast /similarequal /arrowdblleft /arrowdblright /arrowdblup
/arrowdbldown /arrowdblboth /arrownorthwest /arrowsouthwest /proportional
/prime /infinity /element /owner /triangle /triangleinv /negationslash
/mapsto /universal /existential /logicalnot /emptyset /Rfractur /Ifractur
/latticetop /perpendicular /aleph /A /B /C /D /E /F /G /H /I /J /K
/L /M /N /O /P /Q /R /S /T /U /V /W /X /Y /Z /union /intersection
/unionmulti /logicaland /logicalor /turnstileleft /turnstileright
/floorleft /floorright /ceilingleft /ceilingright /braceleft /braceright
/angbracketleft /angbracketright /bar /bardbl /arrowbothv /arrowdblbothv
/backslash /wreathproduct /radical /coproduct /nabla /integral
/unionsq /intersectionsq /subsetsqequal /supersetsqequal /section
/dagger /daggerdbl /paragraph /club /diamond /heart /spade /arrowleft
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/minus /periodcentered /multiply /asteriskmath /divide /diamondmath
/plusminus /minusplus /circleplus /circleminus /.notdef /.notdef
/circlemultiply /circledivide /circledot /circlecopyrt /openbullet
/bullet /equivasymptotic /equivalence /reflexsubset /reflexsuperset
/lessequal /greaterequal /precedesequal /followsequal /similar
/approxequal /propersubset /propersuperset /lessmuch /greatermuch
/precedes /follows /arrowleft /spade /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
] def

%%EndProcSet
%%BeginProcSet: aae443f0.enc
% Thomas Esser, Dec 2002. public domain
%
% Encoding for:
%     cmmi10 cmmi12 cmmi5 cmmi6 cmmi7 cmmi8 cmmi9 cmmib10
%
/TeXaae443f0Encoding [
/Gamma /Delta /Theta /Lambda /Xi /Pi /Sigma /Upsilon /Phi /Psi /Omega
/alpha /beta /gamma /delta /epsilon1 /zeta /eta /theta /iota /kappa
/lambda /mu /nu /xi /pi /rho /sigma /tau /upsilon /phi /chi /psi
/omega /epsilon /theta1 /pi1 /rho1 /sigma1 /phi1 /arrowlefttophalf
/arrowleftbothalf /arrowrighttophalf /arrowrightbothalf /arrowhookleft
/arrowhookright /triangleright /triangleleft /zerooldstyle /oneoldstyle
/twooldstyle /threeoldstyle /fouroldstyle /fiveoldstyle /sixoldstyle
/sevenoldstyle /eightoldstyle /nineoldstyle /period /comma /less /slash
/greater /star /partialdiff /A /B /C /D /E /F /G /H /I /J /K /L /M /N
/O /P /Q /R /S /T /U /V /W /X /Y /Z /flat /natural /sharp /slurbelow
/slurabove /lscript /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o /p
/q /r /s /t /u /v /w /x /y /z /dotlessi /dotlessj /weierstrass /vector
/tie /psi /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/space /Gamma /Delta /Theta /Lambda /Xi /Pi /Sigma /Upsilon /Phi /Psi
/.notdef /.notdef /Omega /alpha /beta /gamma /delta /epsilon1 /zeta /eta
/theta /iota /kappa /lambda /mu /nu /xi /pi /rho /sigma /tau /upsilon
/phi /chi /psi /tie /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]FontType 0
ne{/Metrics exch def dict begin Encoding{exch dup type/integertype ne{
pop pop 1 sub dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get
div def}ifelse}forall Metrics/Metrics currentdict end def}{{1 index type
/nametype eq{exit}if exch pop}loop}ifelse[2 index currentdict end
definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{dup
sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1 roll
mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def dup[
exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}if}
forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}def
end

%%EndProcSet
%%BeginFont: CMR7
%!PS-AdobeFont-1.1: CMR7 1.0
%%CreationDate: 1991 Aug 20 16:39:21
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMR7) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMR7 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-27 -250 1122 750}readonly def
/UniqueID 5000790 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF5B8CABB9FFC6CC3F1E9AE32F234EB60FE7D
E34995B1ACFF52428EA20C8ED4FD73E3935CEBD40E0EAD70C0887A451E1B1AC8
47AEDE4191CCDB8B61345FD070FD30C4F375D8418DDD454729A251B3F61DAE7C
8882384282FDD6102AE8EEFEDE6447576AFA181F27A48216A9CAD730561469E4
78B286F22328F2AE84EF183DE4119C402771A249AAC1FA5435690A28D1B47486
1060C8000D3FE1BF45133CF847A24B4F8464A63CEA01EC84AA22FD005E74847E
01426B6890951A7DD1F50A5F3285E1F958F11FC7F00EE26FEE7C63998EA1328B
C9841C57C80946D2C2FC81346249A664ECFB08A2CE075036CEA7359FCA1E90C0
F686C3BB27EEFA45D548F7BD074CE60E626A4F83C69FE93A5324133A78362F30
8E8DCC80DD0C49E137CDC9AC08BAE39282E26A7A4D8C159B95F227BDA2A281AF
A9DAEBF31F504380B20812A211CF9FEB112EC29A3FB3BD3E81809FC6293487A7
455EB3B879D2B4BD46942BB1243896264722CB59146C3F65BD59B96A74B12BB2
9A1354AF174932210C6E19FE584B1B14C00E746089CBB17E68845D7B3EA05105
EEE461E3697FCF835CBE6D46C75523478E766832751CF6D96EC338BDAD57D53B
52F5340FAC9FE0456AD13101824234B262AC0CABA43B62EBDA39795BAE6CFE97
563A50AAE1F195888739F2676086A9811E5C9A4A7E0BF34F3E25568930ADF80F
0BDDAC3B634AD4BA6A59720EA4749236CF0F79ABA4716C340F98517F6F06D9AB
7ED8F46FC1868B5F3D3678DF71AA772CF1F7DD222C6BF19D8EF0CFB7A76FC6D1
0AD323C176134907AB375F20CFCD667AB094E2C7CB2179C4283329C9E435E7A4
1E042AD0BAA059B3F862236180B34D3FCED833472577BACD472A4B067A46F8EE
2AFACDE591ADF7304939394F37018327C1B4E53C8D6C39E9B246C2D5FC828A32
73B84253139F2C6B481F04AF58F214F040517073839F9755E4CD617458F69780
588263E8AE4F31263902D7D3FD4678C62FD46B635D3C58A7889BAE8B1A90BC93
3F40E07284B2810F1341749474A7B6739A81D32D10896D255229BA209327549E
94EECC4118BC2FCAF2EF08F609197A8BAEC51CCD340D5F0620A3CB41964D487D
DDFD0E60882A5D836480F5C04F1911A3DCE205724503F9F2C1C682DDB75E0D93
583387BA5A73FBC7D5D1CB54A63CA5EEF72DAB92D71E04F1D1031290976C570C
AC1FFB336E0A87CE1654CC92C45E080A4119002172D426E1F39BA3E99B9A0E18
27FE4AD80A35AA2AAF0D103562DEAF06CB14131D2164378DB0B4784889675DFE
B4168C4428FEE73ED8D59C224ED43D5438EA5D17E421EBA1BEEC329137DC7E1B
4478460DC1E9501A510BE07442FC0DBA4B9040C959CE033DEC458C3D8ED49E5A
7DEFF3C14F0A953BA55DC6F7DF00E864B9508F98CE53A60076D2D61202D67406
B2375AF1954CC3240965C98B1D4368F9B4CCCAA8585130458D424CB0DB7CF2AE
DE1B38C3D6C6817BD1A214E41728749368DC45E052F2B73A36BF9FA639BD40AE
6DE0F9FE14C7FFAF2774C371C33631D724578C73C997A9E5B7BC796AF5208736
90B0A8B2DC1E8A9BED9B67328F45B25D9003518EB7148C1D842413A4CC4CD09F
93DAE64D7E32AE1450660397CBCE196B98E89E0F7829A2C5430990EFC8A263F3
9932AC812EDE813303AE6A7C9A3BB14EE47E6E88632D7461C7EE5FCC874E3D7C
0B7BADADEC490ADFD4277C0CB478B53F3BF5AD
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMMI8
%!PS-AdobeFont-1.1: CMMI8 1.100
%%CreationDate: 1996 Jul 23 07:53:54
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.100) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMMI8) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.04 def
/isFixedPitch false def
end readonly def
/FontName /CMMI8 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-24 -250 1110 750}readonly def
/UniqueID 5087383 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA0529731C99A784CCBE85B4993B2EEBDE
3B12D472B7CF54651EF21185116A69AB1096ED4BAD2F646635E019B6417CC77B
532F85D811C70D1429A19A5307EF63EB5C5E02C89FC6C20F6D9D89E7D91FE470
B72BEFDA23F5DF76BE05AF4CE93137A219ED8A04A9D7D6FDF37E6B7FCDE0D90B
986423E5960A5D9FBB4C956556E8DF90CBFAEC476FA36FD9A5C8175C9AF513FE
D919C2DDD26BDC0D99398B9F4D03D6A8F05B47AF95EF28A9C561DBDC98C47CF5
5250011D19E9366EB6FD153D3A100CAA6212E3D5D93990737F8D326D347B7EDC
4391C9DF440285B8FC159D0E98D4258FC57892DDF753642CD526A96ACEDA4120
788F22B1D09F149794E66DD1AC2C2B3BC6FEC59D626F427CD5AE9C54C7F78F62
C36F49B3C2E5E62AFB56DCEE87445A12A942C14AE618D1FE1B11A9CF9FAA1F32
617B598CE5058715EF3051E228F72F651040AD99A741F247C68007E68C84E9D1
D0BF99AA5D777D88A7D3CED2EA67F4AE61E8BC0495E7DA382E82DDB2B009DD63
532C74E3BE5EC555A014BCBB6AB31B8286D7712E0E926F8696830672B8214E9B
5D0740C16ADF0AFD47C4938F373575C6CA91E46D88DE24E682DEC44B57EA8AF8
4E57D45646073250D82C4B50CBBB0B369932618301F3D4186277103B53B3C9E6
DB42D6B30115F67B9D078220D5752644930643BDF9FACF684EBE13E39B65055E
B1BD054C324962025EC79E1D155936FE32D9F2224353F2A46C3558EF216F6BB2
A304BAF752BEEC36C4440B556AEFECF454BA7CBBA7537BCB10EBC21047333A89
8936419D857CD9F59EBA20B0A3D9BA4A0D3395336B4CDA4BA6451B6E4D1370FA
D9BDABB7F271BC1C6C48D9DF1E5A6FAE788F5609DE3C48D47A67097C547D9817
AD3A7CCE2B771843D69F860DA4059A71494281C0AD8D4BAB3F67BB6739723C04
AE05F9E35B2B2CB9C7874C114F57A185C8563C0DCCA93F8096384D71A2994748
A3C7C8B8AF54961A8838AD279441D9A5EB6C1FE26C98BD025F353124DA68A827
AE2AF8D25CA48031C242AA433EEEBB8ABA4B96821786C38BACB5F58C3D5DA011
85B385124DFAE11BA4AB27032F02AB84277DB8B54826CB75B5ECF9878D64D0D2
5AC4506D5C656629EACE8AE5685D415E22C59E84B89527286786C675B1AFA454
2837A67268F06EF698B0294A84F007116B2822424AE0CDC8F3D495E64302BAA4
E4C20BA2356BA1DF864C793A55D32F4310DFB4F23DE921399D432EECD8D03F52
ABFA21F4EBA4C418139A32C220A65D626D98A34BDAABDB371E848A7CD912531C
D29DA90A905E4FAE9F504CC5B2A5EABD0E35F5B21D9FAF1366996091CA53E206
5728501386D3E0F7FFF4F43F1DB0FB3A72E51B920608C6167756F098DE6EE04B
CC9697DC6F999B2CA4A7FA934CBC03FD200FF4D8D22635F254EC09E460EC0526
5029482FBD526753CBDF8F0768DF986359B433FF810C57BFB8407DB80E6EBD64
904D3660CD46E96162A1E64B21DEFEFD0E09C8FAFFFB82467C1DF41BA078171F
9F24E6CAEE32FC0CF25A5D8409B1E6541EF667E6B4E05D8D6289E5E7B8532013
6EC8C91D6DA1AA512D806CA8F21153F07C880212C3B5B38A2297CA4E33C2B61E
C1A092945DB7391335455D783DD84D23DB4218F1233CE690759514E9939C3D45
C1E78123BAB987AA59FB83A9604B4031CC0FB047BB7A240D1B87C886CB8AAB27
5CF6F37DC9B5E5304144E406CC68B5D4F09A31C788C25D2ACAF85324BFF39451
FD72EC05EDF48BB887A6B467F030564C7E9C68C5376DE6FEFDBE9EE60B672372
BABB3E598FFDE699DEE9E5997E0FFC320DEB415DB90AE2AF2E598B569CE58E20
2ECF99BB0DDF4D3E5C6764074EC3A3CCC143DDE9A23370BCEBD689DF8C71EA62
FC6A73E3F75B4D4CEB8EA14EA7AF87E23F
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMMI10
%!PS-AdobeFont-1.1: CMMI10 1.100
%%CreationDate: 1996 Jul 23 07:53:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.100) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMMI10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.04 def
/isFixedPitch false def
end readonly def
/FontName /CMMI10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-32 -250 1048 750}readonly def
/UniqueID 5087385 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA0529731C99A784CCBE85B4993B2EEBDE
3B12D472B7CF54651EF21185116A69AB1096ED4BAD2F646635E019B6417CC77B
532F85D811C70D1429A19A5307EF63EB5C5E02C89FC6C20F6D9D89E7D91FE470
B72BEFDA23F5DF76BE05AF4CE93137A219ED8A04A9D7D6FDF37E6B7FCDE0D90B
986423E5960A5D9FBB4C956556E8DF90CBFAEC476FA36FD9A5C8175C9AF513FE
D919C2DDD26BDC0D99398B9F4D03D5993DFC0930297866E1CD0A319B6B1FD958
9E394A533A081C36D456A09920001A3D2199583EB9B84B4DEE08E3D12939E321
990CD249827D9648574955F61BAAA11263A91B6C3D47A5190165B0C25ABF6D3E
6EC187E4B05182126BB0D0323D943170B795255260F9FD25F2248D04F45DFBFB
DEF7FF8B19BFEF637B210018AE02572B389B3F76282BEB29CC301905D388C721
59616893E774413F48DE0B408BC66DCE3FE17CB9F84D205839D58014D6A88823
D9320AE93AF96D97A02C4D5A2BB2B8C7925C4578003959C46E3CE1A2F0EAC4BF
8B9B325E46435BDE60BC54D72BC8ACB5C0A34413AC87045DC7B84646A324B808
6FD8E34217213E131C3B1510415CE45420688ED9C1D27890EC68BD7C1235FAF9
1DAB3A369DD2FC3BE5CF9655C7B7EDA7361D7E05E5831B6B8E2EEC542A7B38EE
03BE4BAC6079D038ACB3C7C916279764547C2D51976BABA94BA9866D79F13909
95AA39B0F03103A07CBDF441B8C5669F729020AF284B7FF52A29C6255FCAACF1
74109050FBA2602E72593FBCBFC26E726EE4AEF97B7632BC4F5F353B5C67FED2
3EA752A4A57B8F7FEFF1D7341D895F0A3A0BE1D8E3391970457A967EFF84F6D8
47750B1145B8CC5BD96EE7AA99DDC9E06939E383BDA41175233D58AD263EBF19
AFC0E2F840512D321166547B306C592B8A01E1FA2564B9A26DAC14256414E4C8
42616728D918C74D13C349F4186EC7B9708B86467425A6FDB3A396562F7EE4D8
40B43621744CF8A23A6E532649B66C2A0002DD04F8F39618E4F572819DD34837
B5A08E643FDCA1505AF6A1FA3DDFD1FA758013CAED8ACDDBBB334D664DFF5B53
95601766730045C2D9F29DC2BFEBDE5E7720CC7D82522859B92B2395E3305B29
73FD4E10D7424AD26B4CB3A3B63772EAC0C1D2105D9D905BDDAEAE6D1608B712
3FBE98033DCC0388B4F7C41BB62EDBB86AF2632E2DC8EA71119E0F4759CBAEA6
FB39E02D90A66D4873C70A5283BB5B0CC4C4BF87CA2A6E624ED832A06B473CF2
75C2BAF2BFE0284E56A99EB7B8A867B449051BB55D851F59AE7EAC447E8A750E
5CDCE6A21233C56C900EC1BE40109570CA5122D05C45E4AF9AEB89A1A634287E
7450B81D14D286B81A10C717068C7EB630E1242AB461E00D01F3DC4AC2E8444D
73F1827794AAED07781845DE4041E183F2CC5535E500D479478CD1FD7BBD0EAB
310FEAA700D88D6CABC01F3CAA93A81FCEC7B57D05E502D590FF148FC44DB55B
536FD6D69098044B7A13EADC7620B07AE75659EB28FC1F949D08879AC793789F
70494F0D8E87CEE425B3217E328C1D37CF17CF9047F29A18CDD1FA88E686D670
8E905CE5449DCBC0DF9F1BCD861519E36FCCB7F5B54B05481350FF5455CACB44
72FA6CEF57879262DD20360BF318240EA218F2BBCB3CE8F97DDB39FC46E9528E
2BA9F23642E9D5DD65B0B4154A12B3FC21A0B5FD415C110B6F602C78CD520947
65B0020274A74C8C6B5EC09F3CF3A74890C033294204E53149ACFE7CDA2A3FF4
5E87EF3BFE1472B3565587D043DE666741E66A8E8F645DDBEBC9579F62AE0200
0FFA8E45AA266F3CA1781FAFC0FF0E47B3289FFBF4B50F309C756F3084AA9F27
C1F269608AD3FD77C11FE60B38ACF00DBBB7AE08BCF058C4C39CCA9B20EFB86F
5919C97689BB5F63BAC69AC848E0C680DEDE66201F4F3652EC098BD65D968915
DB5A05667C3084E9938B10247EE79895F0577C76AFA11306F1ED3558A8F45426
F4F127EFD86FD23ECF8ABC9463F84F0A9C6B27E22A7349266C3C35481B9874C4
9021A87814AFE0CFA085D10ACF3485A21653043C0593D2BE2823835CCBC9B10B
BC9071DC58906145F5DADE0243643441306DF247A4EB13FE8936551A00EBCD02
68AA2A22DEC63E7F75EFDE9C56F275607426BE9DAC88A1195E2BC1EC4612ADBC
10312D1173B05878EEB41C2370A8C6EB98BB1052A5F435098538367CBE293103
3E796B1CF3D92174AF789C13CB482C416CB6B7E60E15498611CAC6B042F60CEE
629E74CC03096314868B7F02B94C9EDC469EE481FCDB1C4AAFAECD58EB6DA16B
0639E139DA65754055953B703A298E0F75B1CB21FDDC3EFACB07329A766125F2
BEFF3FA9A02C1033EB3888F7C29DDD884F9B961CEE8FD097F7E63ED20B232288
28147876803B9F76B2A7B5F3ED1D8A2BD0DE1FCF4048A09491ABD414D80CE4D7
0BA0DE9AA119B4C2C1308AE20A65BC7433D5929E5C2D99940CE281BACB892701
9C552F8491947D95591922A35451208A7A77BCBA06BA090B4A3F724AF29400E1
A14FBA28E32B0612B71628C487FDA7E74E6538427EB5DAC2424F26F14813C0DB
78A5AF24FCDF9BC758D9221BB338AD1D80F1564E145FE2E76399628E8FD4CAAA
0FBBD65BB7A15769F8079E1225A1C9B81962EAC3A45A9BF34E558A42524BDCE2
3730F02930B506FB4892ECD4B94B4CA2B8696943F740993939B8DBCE020189A6
2D33B7EF4FA4BAB132F7CECEB32235C2048713AEA44F8DE2DB5D86F0F0FB6826
3F31A71DE0
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMR10
%!PS-AdobeFont-1.1: CMR10 1.00B
%%CreationDate: 1992 Feb 19 19:54:52
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.00B) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMR10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMR10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-251 -250 1009 969}readonly def
/UniqueID 5000793 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF7158F1163BC1F3352E22A1452E73FECA8A4
87100FB1FFC4C8AF409B2067537220E605DA0852CA49839E1386AF9D7A1A455F
D1F017CE45884D76EF2CB9BC5821FD25365DDEA6E45F332B5F68A44AD8A530F0
92A36FAC8D27F9087AFEEA2096F839A2BC4B937F24E080EF7C0F9374A18D565C
295A05210DB96A23175AC59A9BD0147A310EF49C551A417E0A22703F94FF7B75
409A5D417DA6730A69E310FA6A4229FC7E4F620B0FC4C63C50E99E179EB51E4C
4BC45217722F1E8E40F1E1428E792EAFE05C5A50D38C52114DFCD24D54027CBF
2512DD116F0463DE4052A7AD53B641A27E81E481947884CE35661B49153FA19E
0A2A860C7B61558671303DE6AE06A80E4E450E17067676E6BBB42A9A24ACBC3E
B0CA7B7A3BFEA84FED39CCFB6D545BB2BCC49E5E16976407AB9D94556CD4F008
24EF579B6800B6DC3AAF840B3FC6822872368E3B4274DD06CA36AF8F6346C11B
43C772CC242F3B212C4BD7018D71A1A74C9A94ED0093A5FB6557F4E0751047AF
D72098ECA301B8AE68110F983796E581F106144951DF5B750432A230FDA3B575
5A38B5E7972AABC12306A01A99FCF8189D71B8DBF49550BAEA9CF1B97CBFC7CC
96498ECC938B1A1710B670657DE923A659DB8757147B140A48067328E7E3F9C3
7D1888B284904301450CE0BC15EEEA00E48CCD6388F3FC3A38ED682C65299D6C
67201AC4BEC92930ED59A43AFA43F24F6ACBEA592A03841835D631F03C2C1A78
D554F14F748CFE52EE1255995118829A77F388B119B21C90975F74DE5E4A6DA9
C531C14FDA14B4AA1EC720F6CE0342AD2CFE20771E4F80ECEB0ACA2CF89E2280
6BA7F408F14F24DEEFB988141457533E4822D51A43231D49BE8B184483530CDF
6B37AE44174A99A2367CDFA06D801B1588A55CD8FBC5B1A6903110F1BC42EC5F
FCCE6840E8ADC084E63A7C5C45FE6953D18AD1C2573314AF568A69608A9B3825
8DDD825D7E8041DCDA231DFB8E6ABD97BCDCA95500E72B2A64F2F989A6D7AD7C
875D0E0E051ACBD893E30EA56145D44F2DC60EA9D0F7D62021E05D2624B00B93
92171DBF9964BBEC03013F324BD4B1E3053CEED520CD0E02D3BD8695B3C1D422
9FD5F78A6F1810C4440110E7CF77EF9E89E7CFD5C7E6C184E7BB76320ACD38B5
901221B1DC3066AEFE92E3FBB7E4176DACC5D184E6656CFE6D2A1A68C78C7A79
A202BB5A0413926E46AB1937FA1C194776AFE922174C3CF9FECF5014A26B4316
E9D39BB8B292B008770A9A6BD49C275E97C009E56619ADA1F358E075B4C8C204
B79AA3BDBC5FE90D854F50DEE5F66EBD5BF7B5E77D508FDCD0BAB32E39CE5FA8
9B792177197D60828E206D39E46E562342D0E5C78D806514B06CA876E39E994E
EE65042FC82EFE76492A12EEF5998FB4A53A80DA41FF039E016DCB19ECC03793
C81694223DA4E5E3691B2D1D17221A810788F27D83CFA90873F1863778D4034D
89B67E5C8C1610F071C392984E1EBA45F0BF1E5660E868FB0AE482360B4475A2
F19DA0924345367B25D43E79F6199DEB692B830AE27C8A8E43BB5300F7765404
403C90EE3246BFE113A2632062F12720ECF8567BD20949A806881A252CA449BF
F931423FFB92F16B61DA753784D3B34B8C14A1646566C20A989FEFE19EA88D76
EB0429402623277E4A294BDC39DB550E353B8267B162C2BD63FB6922AD7B4297
93BC21F330D4DA8672690246386BA0774E58CD3AC3000236FBD1E7FF7EDE25F6
BE626A26FC500B923AF6803541E046924555EAB76DD7249B13BAE4118794D85E
A4187E9174EF9B9939C42462A757CA511B607A1EA7612D445160AF7FA085B991
F9BFA60FE1FFAFD25B195F557B235298A631DBACC936FAB950B1A36D53BFA898
A880DCBB9DA0B0723EC1BB03936C9389B45D520CD87123835C369912C3CE48FA
6790B510593260B903279F81329A8901488CC3CC5E7D7C7B5E6CDC0F0DC7AB6E
11BA16720A4464949E5653B43CAE15FD620690A8AD3304D1C70E32CB245E42C5
E87D5E520067E8283109CA865F7A82382D39C2CF7E3874731BC6A7729682C368
F0343F66366D947746471321AB2F7BD7522017D3FBBC842DA205AC99F98013D3
A67A9FD0C5AC6C99B9784C97C7276E5541547702D3730AB4FBE385371C9D76F4
6D4A7E42206362D8561B894EDBE958B09127DF63B734CC59DAB3552717550B14
411A088898FEB6DCFED472A7EB48D2DCE78E8C75B360D06746D80D47B24D29E9
8A18F45A219A580F71966768F6BACB6DEC965F67FCBF06098781FA4C871C7D57
F5DB7E7B0E7DF19DBE9DCF96AE8A1FFFE12D4881E7607B2B98A7D496C208DD07
2AD8222BBDA8BF6EED8B3E18E2FACDE387C62E3CE5B9EE95056FDB37A6220FD6
10FB8BD2AF1814E429D7FEA79616B9A0E49F641A1BECF211567D8CD58F44F6DF
158ED1D91394035460C3A7C29C0EF37CAB6EC87B1E11536C6E097D41C13EA442
E964890BF07A70A714C6D0956339D76346D2099992907420020A9798DC4BC407
AE05258F7A011EFB42BDD7977D7F3E6559B6E17C70FFA0D17C6DB14CE7BF3778
F8AA9588DA1FB41A9B9C64E4079A52C322D130BBEC705D59D7A97BB6604B6EE5
DCC958F758531C97106A2984E70F49EC6ED4588D9A380FE8A74A008A99C604E4
A01F37F5E17E96E3AA0D562EF1C89AE2915F202741B2738B70E044387E230436
7DCE8EBFB1D6F6E40A7A6A97B6C38EDE8215FA68DCC99D161FACA6C7B14DE6B7
F5379EADCE0BC34E04E53EF7AF6981352211F2DF46DC5ABD3E0C7080A336AFCE
BE57F6429B0CD63E3C5A8F010EE8A962D3D651CF49AAC230288D871238CBD1CB
8881BD5B190F408887C9C96105DE434B2AE5CA30F98D03E150CC4D2AF718E44F
ED0962F7084DEE42D07DCE46C8C69D68EBED7B355644C67EB0C6A60F91A9A2C3
C2B053D051
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMSY8
%!PS-AdobeFont-1.1: CMSY8 1.0
%%CreationDate: 1991 Aug 15 07:22:10
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMSY8) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.035 def
/isFixedPitch false def
end readonly def
/FontName /CMSY8 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-30 -955 1185 779}readonly def
/UniqueID 5000818 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052F09F9C8ADE9D907C058B87E9B6964
7D53359E51216774A4EAA1E2B58EC3176BD1184A633B951372B4198D4E8C5EF4
A213ACB58AA0A658908035BF2ED8531779838A960DFE2B27EA49C37156989C85
E21B3ABF72E39A89232CD9F4237FC80C9E64E8425AA3BEF7DED60B122A52922A
221A37D9A807DD01161779DDE7D5FC1B2109839E5B52DFBB2A7C1B5D8E7E8AA0
5B10EA43D6A8ED61AF5B23D49920D8F79DAB6A59062134D84AC0100187A6CD1F
80F5DDD9D222ACB1C23326A7656A635C4A241CCD32CBFDF8363206B8AA36E107
1477F5496111E055C7491002AFF272E46ECC46422F0380D093284870022523FB
DA1716CC4F2E2CCAD5F173FCBE6EDDB874AD255CD5E5C0F86214393FCB5F5C20
9C3C2BB5886E36FC3CCC21483C3AC193485A46E9D22BD7201894E4D45ADD9BF1
CC5CF6A5010B5654AC0BE0DA903DB563B13840BA3015F72E51E3BC80156388BA
F83C7D393392BCBC227771CDCB976E93302531886DDA73EBC9178917EFD0C20B
133F1E59AA9B568B69ECCFC0900517036FE3D4C09BBFD937BC5A9C0B89894A8F
63BCCA3746BA056D1B408B16E976D7BAA7D0F7693814ECF52D90BDB3398CF007
CAD14DF246B4D1886070D41A28110F88C9D3EB1F30B1823E0EAA1A35733AD321
E6338D62C26AB6FCD4BBB703248CD7C5CEE83E0167A63F89ACC9D09117C4D017
E773665CB7FA79D22231C8F858735B554E2ED612A436D299491FD31F810F202C
C865B87083F980C8DF6A3DD43D437617A69D3E58FFE85F106F7E7F6E50D4D25E
328F7A76B73078B3604C51CCDEAEFA74ADFB9A6C3A5A0EBDCFB578CCBC3553F8
44D4B2853DC7C8415AE3174A4C2209F4107C23000ECC343882C5E2ECA42D8B33
F4846EB85076770BD7E5AF795E1EEEFDC5F0229761DE6BA728FA78549D6E31AC
55ECFE0C64351DCC357F619E3771692B7DF8FFD7FAF48B4299C702F866374FDC
696E83BF09BDB1C40B
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMSY10
%!PS-AdobeFont-1.1: CMSY10 1.0
%%CreationDate: 1991 Aug 15 07:20:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMSY10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.035 def
/isFixedPitch false def
end readonly def
/FontName /CMSY10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-29 -960 1116 775}readonly def
/UniqueID 5000820 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052F09F9C8ADE9D907C058B87E9B6964
7D53359E51216774A4EAA1E2B58EC3176BD1184A633B951372B4198D4E8C5EF4
A213ACB58AA0A658908035BF2ED8531779838A960DFE2B27EA49C37156989C85
E21B3ABF72E39A89232CD9F4237FC80C9E64E8425AA3BEF7DED60B122A52922A
221A37D9A807DD01161779DDE7D31FF2B87F97C73D63EECDDA4C49501773468A
27D1663E0B62F461F6E40A5D6676D1D12B51E641C1D4E8E2771864FC104F8CBF
5B78EC1D88228725F1C453A678F58A7E1B7BD7CA700717D288EB8DA1F57C4F09
0ABF1D42C5DDD0C384C7E22F8F8047BE1D4C1CC8E33368FB1AC82B4E96146730
DE3302B2E6B819CB6AE455B1AF3187FFE8071AA57EF8A6616B9CB7941D44EC7A
71A7BB3DF755178D7D2E4BB69859EFA4BBC30BD6BB1531133FD4D9438FF99F09
4ECC068A324D75B5F696B8688EEB2F17E5ED34CCD6D047A4E3806D000C199D7C
515DB70A8D4F6146FE068DC1E5DE8BC57034F7455AB67138A1B6DFCA01660EDA
B80764458B5829EB2FEC53E0A1F53FF5AF7A2E1564E666101BC844AB50DE3860
2235ECED71E86452D47F2A3E0D887538BAFE377CFC4DD49B397BEE459E06CA48
29B9E43C4C347E647725BC1EF122B368DDE812998D429F648E69E50AD0677E4F
7DF4141D36DB8E851E5082B4FEBAABC181B0CBA7F8BBB9752221FD744FDFDA73
0EBCBCD6D303927FEE493B106FF9DEDDA6EA3D79EFDAE0C063218915C60BEAC9
EA7EF4A8A0FDAE52C7390A7EF58DDB46384B615BAC1512C5CB58C7EC10E35013
812BA234E65061F364B2001E589DF2DA850322315B1797BBEEA9BF7B531859EA
A5B748A56385CA50FE153ADE0365870067ABCF6E089660983600BAB334B80D8B
A7F93CAA428E03CC9A23B1A1E7B80742BD841B0C1AC320C179E9CE0E6A1B61D9
318C021876C083C5229C8C8C82A45F5B70BE6F2C35ECEC4DAC4365B7B2F2D6E9
29F65FDEA14904A3E0CC8713630FDC80848AFA3E375E14DA9E692E87F3F1AD44
36090A9E42CCA95E9163E549DD91A8913B4F450F0409169E4B0A5C845957F696
860169D2B2489962DB2C30992336807698E9FF4ED33EB0DFBAEC3516019921DB
4C7B941293F170AA707AD416C6F3691E85B93CFA4790B24F56ADDD54C937D426
499E3A4F47A34D9AE8722BD85FC22EA84ED19743751ABFC6D087BF660C7C6283
BD78E35BDBE782C9D00A5A2893DB4E13814F1413707E84A906A4633545D8CA8C
C452DE176A8341290AD26B373CC2797C7E287072021694D77FB7972EC69B2A3C
95DB6F6F09DB25292D9AFE9CBCF9BD0424AB594869B6882DD376B24DFAE9F490
39DAA160EEC983B87D97B0ED75C045E8775937525963EF7A020B75910212B066
E0B83BD188203BEB20AFE99A9C16D85146C94659EA69F11283192C6CF189A01E
FABA21195643459CCB4127C714874A1F9E4377E43F409ACD541214F146D44286
61901BC9BC75B41DA1EDBF7B12B5A4C914B24021E82B8FD49C5D0B4A918582E7
9D8F8EE647C864702895B71199DBA6E27A616E94D666886E27D7FA4D39A3A137
E4B60D93EF3B639FF10C4AF7771A9C9C0A2819AC5491FD8B1733DBE9413DF300
19263F0FB01112FC504B7DCE1D92D1806414B54C48054043C7C5135710B1F679
0B1014E6FA29764EBFBD57D1DE3E932CEC7BC609EDF7A39B1E3B2224C6D35F66
718CE858807E0E8F95F8E08D800CC4CDD2878FA0DA4B1AE8991B8ACE68B7D195
45C5FCE27A89B42B70BEEDA694E97EEB7E1FF648FD0B11DC5816057D6214543E
4F7D9C237BC81D303AC1C2C47709AF77DE6238DA6ABDCDA6D4829004F48FA8BB
7D4D5044C6D6DC3ECCF51172EAF88E0146CB2BB3C897CA8B37B4EAA0D58CCECC
BE9FE5A7E6BE2DA97AC5A0732442E28CCA397B87F5ADDC951CA1935A434E363C
6A8A08472905939F6B2BB360878E1ABAAA7C856BFF9EAC25A97FA2787F2B2EC9
DABDAA372A6D637458C34F101BBC774D1BC3C7FC98DFDC87DFD69AC2AF52DDAB
69C26CE1B96CA7536E682B1E600EC8562938DCF7E0A5B649238A36263FBDA1B1
03CA7727623A914345A6DB992C8478500A9970238B28539FE7C2A583DFFF45A0
B3347C402742BE80CEA9492285159AFC3941DB89D125D9D88291397A7E4107E5
BF4BFC9E0C7BC32F930FF6CF620E26BAB5DAAEF0C4CC2C0D60C49D8EAA0EFF87
66778155EBB072E7AF12AFDFF2710A1D161E8C974792D92B68C880B729212BAA
92B4E4B02692308A2D3EDEBA765030E30ACA5AABA31F9C00B9C2727791AE0D4A
7CD173EA9B57E80B942FC8BBFEF2F26780E425E22EBC34AED1CCBCDD87124733
569D5529B64817FD1D5DFBE01F71DDDCF54AC951C44A7454477B4CA7C4B6D183
5C73A9D38B29CF9629C71F44C10E0F862B0866272F76E79F5AE725B1ADA4E5BC
D901041C8DD28239B4DC614F715ECF97A01E9EBA16DF23EC051B49853E80DEE3
FFBF1453DDD1B2AF75C55311AC792B703DA551090F68647D3CE82CC2C9A732E8
BFB905AD36AE882DCEF1C8455011AF92723C19981F7900B47118FC36C9
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMR8
%!PS-AdobeFont-1.1: CMR8 1.0
%%CreationDate: 1991 Aug 20 16:39:40
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMR8) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMR8 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-36 -250 1070 750}readonly def
/UniqueID 5000791 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF4E9D2405B169CD5365D6ECED5D768D66D6C
68618B8C482B341F8CA38E9BB9BAFCFAAD9C2F3FD033B62690986ED43D9C9361
3645B82392D5CAE11A7CB49D7E2E82DCD485CBA1772CE422BB1D7283AD675B65
48A7EA0069A883EC1DAA3E1F9ECE7586D6CF0A128CD557C7E5D7AA3EA97EBAD3
9619D1BFCF4A6D64768741EDEA0A5B0EFBBF347CDCBE2E03D756967A16B613DB
0FC45FA2A3312E0C46A5FD0466AB097C58FFEEC40601B8395E52775D0AFCD7DB
8AB317333110531E5C44A4CB4B5ACD571A1A60960B15E450948A5EEA14DD330F
EA209265DB8E1A1FC80DCD3860323FD26C113B041A88C88A21655878680A4466
FA10403D24BB97152A49B842C180E4D258C9D48F21D057782D90623116830BA3
9902B3C5F2F2DD01433B0D7099C07DBDE268D0FFED5169BCD03D48B2F058AD62
D8678C626DC7A3F352152C99BA963EF95F8AD11DB8B0D351210A17E4C2C55AD8
9EB64172935D3C20A398F3EEEEC31551966A7438EF3FEE422C6D4E05337620D5
ACC7B52BED984BFAAD36EF9D20748B05D07BE4414A63975125D272FAD83F76E6
10FFF8363014BE526D580873C5A42B70FA911EC7B86905F13AFE55EB0273F582
83158793B8CC296B8DE1DCCF1250FD57CB0E035C7EDA3B0092ED940D37A05493
2EC54E09B984FCA4AB7D2EA182BCF1263AA244B07EC0EA901C077A059F709F30
4384CB5FA748F2054FAD9A7A43D4EA427918BD414F766531136B60C3477C6632
BEFE3897B58C19276A301926C2AEF2756B367319772C9B201C49B4D935A8267B
041D6F1783B6AEA4DAC4F5B3507D7032AA640AAB12E343A4E9BDCF419C04A721
3888B25AF4E293AACED9A6BDC78E61DA1C424C6503CC1885F762BCA9D2C2FD74
7B8DD210DB4E177D8A0977561ED07C977C66DED66FAC9701C4EA687BCDB9E908
E6B1D91F0DDFF89741309DE7BDD2D1BBBA5510F6C73AC4FB39C52A795396A53F
3B043AD6953AE42B99318F97549888B2ADBC42B468CE855E2DBDDF60EDEC2431
D33EB72DE1F2940422A5FD7D6410E8C2740552496B695D84B83DA5BD942A54D1
47196D80C0500B368563193DB6F0C9BE218EA08658458DB8CC529F20881ECCB9
3718AEFC2215CDCD0CFA969E2EA996FABF13B4B46AABC221195ED09651689AFD
D96972BA6AB5349949DF910FB5491B1C6C5C1415F12E82812997780C5D6ACD24
35EAB20E4089E7FC90E73CDB4840596A6CFE86BCE4B3143F741FA92CC43A12F4
90CE0D95F408AAC8327573C481B560B2DFBD8CE88B992813AC84326953A6D836
3F0AD03C814EB2E2962A1BCE4E0083927D781985258CAB91CE04F401D76DBBF9
3E8722019C66F61658F63B1FA0D82607748EE3E0A61E04DA5A78A95C8F498C0D
501273128A1DDA86822203D1AE03780763AC49EF09136F308C254519930A579A
71D8629D893EE4AF17277D1A8C209E2055327B5D6EF7161FB726D2F72BF333B8
CFDA66970D270B5B670FD454E9B5E4B2A98F55B9724FA6071DAEA3B289B4EC0A
4930F2AECFE5730FC4387EF694FFB57B231B9254B9E5480931DA8D7B90563ADD
1E2FBCE3B0AB85B2CFF74E93199461BF7733EBDC6B0010EC6036270873BBB499
50BA24CBE38736DF5C9A349C6AA01C097E3FEF93D8AE5925236F02DD6D406377
7721B21413A88856DDC2C4D71B4D403CF339725BEDD6188BAB61E2CFF2B8DBDB
0F57D84B9F4AE7C6842F5F4F53949B792013E71A8176825AA4A54D77AB25C86F
BAB27782A4536309B5695DAEF6A5E0081155244D61DA585CD413AD5E25E39D9A
444632398D68DF83BF1E28706A214BAD6FF5B40CA2AD245F99B5FBC41367EF60
57160D04BF7D106CF4B03AB215524364DB34629FE3B5C2908319FF7B7A68D48C
55D1A89DC3F24EE2B27A5E07745646AC96C591348BD3946FE253934BEF72F627
6384BD9AAFD7E0D40114FD4F099674E405F979D04FC7B20294CA8FCE0E6FF539
508EF41335824095E948B0C2E91F2C7358A1988BCF91B50B69509E1349A6B4BC
01F04A30B1C3853A4F24F5595562839F21A92D2B5B51BE9B987CC28AB53E29B3
6DB9AA76E007051BA30F80DC01E0DD3B288CC59CA2EB54B8AD9A4E6C2E24FFCE
86CACC4ECD070AE7F07166C8FDF7F3404867438D695C62B999CEA346968EA86B
40FA39729042F8AD276AAF90C453E55B6A2F7FA7EC877F8240134A2BAA631AF1
5E166C1479B76183AF370EB865B18849B63DDFEFE4F4D56B3E134AFA5999CB56
3E71D0B10157397787F361439A2D37A388F91CB973AD9B58B3290E45D03D5D37
B8113DEFE6BA1518167B5BDE10B1404C668CB328AEE160D153D1202AA28F8611
DEFCB9EE7A5B4505A6348B3B6C5FD2CD424E4654C50FBFAEF9E3BB6EE6FCD2B4
E2FBFC68A430FBFBA7180F322AB1085A26075B7FB4BFD76D8DB7A72B2305E78B
FE3F9E8DE02513121120AD69ACA4593D7F425C3597
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
TeXDict begin 39158280 55380996 1000 1200 1200 (manual.dvi)
@start /Fa 103[100 15[100 10[100 100 100 100 100 100
100 100 100 100 100 100 100 100 100 100 100 100 100 100
100 100 100 100 100 100 100 100 100 100 100 1[100 100
100 100 100 100 100 100 100 100 100 100 100 100 100 100
100 100 100 100 100 100 100 100 100 100 100 100 100 100
100 100 100 100 100 100 100 100 100 100 100 100 100 100
100 100 100 100 100 100 100 100 100 100 100 100 100 100
100 100 100 33[{ TeXBase1Encoding ReEncodeFont }94 166.044
/Courier rf /Fb 201[66 4[66 66 48[{ TeXf7b6d320Encoding ReEncodeFont }3
116.231 /CMR7 rf /Fc 133[83 92 86 138 94 100 54 70 66
93 100 91 97 147 48 92 39 48 97 92 55 80 101 74 92 83
7[111 111 1[120 129 102 87 111 131 100 131 138 157 101
121 1[56 138 127 92 101 129 118 101 129 12[83 83 83 83
3[55 41[101 100 2[{ TeXBase1Encoding ReEncodeFont }56
166.044 /Palatino-Roman rf /Fd 145[86 4[48 105[{
 TeXaae443f0Encoding ReEncodeFont }2 132.835 /CMMI8 rf
/Fe 134[111 100 166 111 122 66 88 78 1[122 111 122 177
66 122 66 66 122 111 78 100 122 88 122 100 13[122 144
4[199 122 155 3[166 1[122 1[144 9[100 1[100 100 100 1[100
100 100 2[50 66 45[{ TeXBase1Encoding ReEncodeFont }41
199.253 /Palatino-Bold rf /Ff 137[88 7[109 4[63 2[89
34[130 8[51 58[{ TeXaae443f0Encoding ReEncodeFont }6
181.818 /CMMI10 rf /Fg 194[141 3[91 3[91 2[91 91 91 48[{
 TeXf7b6d320Encoding ReEncodeFont }6 181.818 /CMR10 rf
/Fh 252[71 3[{ TeXbbad153fEncoding ReEncodeFont }1 132.835
/CMSY8 rf /Fi 147[143 143 1[143 2[143 143 3[143 19[143
41[143 35[{ TeXBase1Encoding ReEncodeFont }8 239.103
/Courier rf /Fj 149[51 71 71 91 91 60[182 7[182 12[141
4[91 14[141{ TeXbbad153fEncoding ReEncodeFont }10 181.818
/CMSY10 rf /Fk 134[133 120 199 133 146 80 106 93 146
146 133 146 213 80 146 1[80 146 133 93 120 146 106 146
120 11[186 159 146 173 199 146 2[239 146 2[93 199 1[133
146 199 173 159 186 7[120 120 120 120 120 120 120 120
120 120 1[60 80 42[146 2[{ TeXBase1Encoding ReEncodeFont }53
239.103 /Palatino-Bold rf /Fl 198[71 3[71 71 1[71 71
71 48[{ TeXf7b6d320Encoding ReEncodeFont }6 132.835 /CMR8
rf /Fm 135[172 3[115 1[134 1[210 1[210 4[115 210 2[172
210 2[172 29[249 1[268 10[172 172 172 172 172 172 49[{
 TeXBase1Encoding ReEncodeFont }18 344.375 /Palatino-Bold
rf /Fn 131[109 1[109 109 109 109 109 109 109 109 109
109 109 109 109 109 109 109 109 109 109 109 109 109 109
109 109 109 109 109 1[109 1[109 109 109 109 109 109 109
109 109 109 109 109 109 109 109 109 109 109 109 109 109
109 109 109 109 109 109 1[109 109 109 109 109 109 109
109 109 109 109 109 109 109 109 109 109 109 109 109 109
109 109 109 109 1[109 1[109 109 109 33[{ TeXBase1Encoding ReEncodeFont }
86 181.818 /Courier rf /Fo 134[101 91 2[111 61 81 71
1[111 101 111 162 61 2[61 111 101 1[91 111 81 111 91
11[141 1[111 5[182 111 2[71 5[131 121 141 7[91 91 91
91 91 91 91 91 91 9[51 39[{ TeXBase1Encoding ReEncodeFont }37
181.818 /Palatino-Bold rf /Fp 134[230 207 344 1[252 138
183 161 1[252 230 252 367 138 252 1[138 252 230 1[207
252 183 252 207 11[321 1[252 5[413 252 2[161 5[298 276
321 8[207 3[207 12[115 39[{ TeXBase1Encoding ReEncodeFont }32
413.118 /Palatino-Bold rf /Fq 133[81 91 91 131 91 101
61 71 71 84 91 81 101 141 51 81 1[51 91 91 51 71 91 74
84 81 10[131 1[111 101 121 1[111 141 141 172 101 2[61
141 131 101 111 141 121 1[131 8[91 3[91 5[45 61 45 2[61
61 51 35[99 96 2[{ TeXBase1Encoding ReEncodeFont }52
181.818 /Palatino-Italic rf /Fr 94[51 9[182 91 1[91 91
24[91 101 94 152 103 110 59 77 72 102 109 99 106 161
53 101 43 53 106 101 61 87 111 81 101 91 51 2[61 1[61
1[121 121 182 131 141 111 95 121 143 110 143 151 172
111 132 61 61 151 139 101 111 141 129 111 141 136 2[110
1[45 45 91 91 91 91 91 91 91 91 91 91 110 45 61 45 2[61
61 51 35[111 110 2[{ TeXBase1Encoding ReEncodeFont }82
181.818 /Palatino-Roman rf /Fs 138[173 2[113 3[167 253
83 3[167 1[96 137 1[127 1[143 13[151 192 4[271 20[143
3[143 52[{ TeXBase1Encoding ReEncodeFont }15 286.924
/Palatino-Roman rf /Ft 134[111 4[65 84 79 1[120 109 116
176 58 2[58 116 1[66 95 122 88 1[100 12[122 1[133 6[145
66 67 19[100 1[100 2[100 1[50 46[{ TeXBase1Encoding ReEncodeFont }25
199.253 /Palatino-Roman rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 1200dpi
TeXDict begin
%%PaperSize: A4
 end
%%EndSetup
%%Page: 1 1
TeXDict begin 1 0 bop 2899 4853 a Ft(The)51 b(Incomplete)1738
5218 y Fs(Scheme)73 b(48)f(Refer)-5 b(ence)74 b(Manual)2933
5583 y Ft(for)50 b(r)l(elease)h(0.53)2080 6361 y(Richar)l(d)e(Kelsey)i
(and)e(Jonathan)g(Rees)2321 6593 y Fr(with)c(a)g(chapter)h(by)f(Mike)g
(Sperber)p eop end
%%Page: 2 2
TeXDict begin 2 1 bop 787 1146 a Fr(A)46 b(line)f(may)g(take)h(us)f
(hours,)g(yet)h(if)f(it)h(does)g(not)f(seem)h(a)f(moment's)g(thought)
787 1372 y(All)g(our)h(stitching)f(and)g(unstitching)g(has)g(been)g(as)
h(nought.)4183 1797 y(Y)-17 b(eats)4183 2022 y Fq(Adam')-10
b(s)45 b(Curse)3699 12141 y Fr(ii)p eop end
%%Page: 3 3
TeXDict begin 3 2 bop 166 2474 a Fp(Acknowledgements)166
3397 y Fr(Thanks)81 b(to)h(Scheme)f(48's)f(users)h(for)g(their)g
(suggestions,)91 b(bug)80 b(r)m(eports,)91 b(and)81 b(forbearance.)166
3623 y(Thanks)46 b(also)f(to)h(Deborah)f(T)-17 b(atar)46
b(for)f(pr)m(oviding)g(the)h(Y)-17 b(eats)46 b(quotation.)3507
12141 y(iii)p eop end
%%Page: 4 4
TeXDict begin 4 3 bop 332 2481 a Fp(Contents)332 3568
y Fo(1)182 b(Introduction)5424 b(1)332 3991 y(2)182 b(User)10
b(')-10 b(s)44 b(guide)5441 b(2)605 4225 y Fr(2.1)191
b(Command)45 b(line)g(ar)m(guments)110 b(.)91 b(.)h(.)f(.)h(.)f(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)
f(.)h(.)249 b(2)605 4460 y(2.2)191 b(Command)45 b(pr)m(ocessor)136
b(.)91 b(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)
f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)249
b(3)605 4695 y(2.3)191 b(Editing)124 b(.)92 b(.)f(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)
f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)249
b(3)605 4930 y(2.4)191 b(Performance)100 b(.)92 b(.)f(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)
f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)249 b(3)605
5164 y(2.5)191 b(Disassembler)50 b(.)92 b(.)f(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)249 b(4)605 5399
y(2.6)191 b(Module)45 b(system)161 b(.)91 b(.)h(.)f(.)g(.)h(.)f(.)g(.)h
(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)h(.)f(.)h(.)249 b(4)605 5634 y(2.7)191
b(Library)117 b(.)92 b(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h
(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)h(.)f(.)h(.)249 b(5)332 6056 y Fo(3)182
b(Command)45 b(processor)4773 b(7)605 6291 y Fr(3.1)191
b(Curr)m(ent)45 b(focus)f(value)h(and)g Fn(##)145 b Fr(.)92
b(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)249 b(7)605 6526 y(3.2)191
b(Command)45 b(levels)173 b(.)92 b(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)h(.)f(.)h(.)249 b(8)605 6761 y(3.3)191 b(Logistical)46
b(commands)98 b(.)91 b(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)249
b(9)605 6995 y(3.4)191 b(Module)45 b(commands)109 b(.)91
b(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f
(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)249
b(9)605 7230 y(3.5)191 b(Debugging)44 b(commands)113
b(.)92 b(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)
h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)249 b(9)605
7465 y(3.6)191 b(Switches)145 b(.)91 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)158 b(10)605
7699 y(3.7)191 b(Inspection)46 b(mode)58 b(.)91 b(.)h(.)f(.)g(.)h(.)f
(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)158 b(11)605 7934
y(3.8)191 b(Command)45 b(pr)m(ograms)127 b(.)91 b(.)h(.)f(.)g(.)h(.)f
(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)h(.)f(.)h(.)158 b(13)605 8169 y(3.9)191 b(Building)45
b(images)87 b(.)k(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)
h(.)158 b(13)605 8404 y(3.10)100 b(Resour)m(ce)45 b(query)g(and)h
(contr)m(ol)141 b(.)92 b(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)
f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)158
b(14)605 8638 y(3.11)100 b(Thr)m(eads)66 b(.)92 b(.)f(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)158
b(14)605 8873 y(3.12)100 b(Quite)45 b(obscur)m(e)143
b(.)91 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)158
b(15)332 9296 y Fo(4)182 b(Module)45 b(system)5106 b(16)605
9530 y Fr(4.1)191 b(Intr)m(oduction)114 b(.)92 b(.)f(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)158 b(16)605
9765 y(4.2)191 b(The)46 b(con\002guration)f(language)132
b(.)92 b(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)158 b(17)605 10000
y(4.3)191 b(Interfaces)73 b(.)91 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)158 b(19)605 10235
y(4.4)191 b(Macr)m(os)129 b(.)92 b(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)158 b(20)605
10469 y(4.5)191 b(Higher)m(-or)m(der)45 b(modules)136
b(.)92 b(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)
h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)158 b(20)605
10704 y(4.6)191 b(Compiling)45 b(and)g(linking)110 b(.)92
b(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)158 b(20)605
10939 y(4.7)191 b(Semantics)45 b(of)h(con\002guration)f(mutation)105
b(.)92 b(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)h(.)f(.)h(.)158 b(21)605 11174 y(4.8)191 b(Command)45
b(pr)m(ocessor)g(support)138 b(.)91 b(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)158
b(22)605 11408 y(4.9)191 b(Con\002guration)45 b(packages)164
b(.)91 b(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)
f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)158 b(24)605
11643 y(4.10)100 b(Discussion)117 b(.)91 b(.)h(.)f(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)158 b(25)3674
12141 y(iv)p eop end
%%Page: 5 5
TeXDict begin 5 4 bop 166 1146 a Fo(5)182 b(Libraries)5636
b(27)439 1372 y Fr(5.1)191 b(ASCII)47 b(character)d(encoding)156
b(.)91 b(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159 b(27)439
1597 y(5.2)191 b(Bitwise)45 b(integer)h(operations)118
b(.)91 b(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159 b(27)439
1823 y(5.3)191 b(Byte)46 b(vectors)145 b(.)92 b(.)f(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159 b(28)439
2049 y(5.4)191 b(Cells)46 b(.)92 b(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)
h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159 b(28)439
2275 y(5.5)191 b(Queues)104 b(.)91 b(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159 b(28)439
2501 y(5.6)191 b(Arrays)164 b(.)91 b(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159 b(29)439
2726 y(5.7)191 b(Recor)m(ds)73 b(.)91 b(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)
f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159 b(30)857
2952 y(5.7.1)219 b(Low-level)44 b(access)i(to)g(r)m(ecor)m(ds)131
b(.)91 b(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)159 b(31)857 3178 y(5.7.2)219 b(Recor)m(d)45
b(types)181 b(.)91 b(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159
b(31)439 3404 y(5.8)191 b(Finite)45 b(r)m(ecor)m(d)g(types)175
b(.)91 b(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159
b(33)439 3630 y(5.9)191 b(Hash)45 b(tables)53 b(.)91
b(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
159 b(34)439 3856 y(5.10)100 b(Port)46 b(extensions)169
b(.)91 b(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159
b(35)439 4081 y(5.11)100 b(Fluid)45 b(bindings)83 b(.)91
b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159
b(36)439 4307 y(5.12)100 b(Shell)46 b(commands)73 b(.)91
b(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159
b(37)439 4533 y(5.13)100 b(SRFIs)127 b(.)91 b(.)g(.)h(.)f(.)h(.)f(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159
b(37)166 4941 y Fo(6)182 b(Mixing)44 b(Scheme)h(48)g(and)h(C)136
b Fr(Mike)46 b(Sperber)g(and)f(Richar)m(d)g(Kelsey)1494
b Fo(39)439 5166 y Fr(6.1)191 b(A)-17 b(vailable)45 b(facilities)67
b(.)92 b(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159
b(39)857 5392 y(6.1.1)219 b(Scheme)45 b(str)o(uctur)m(es)174
b(.)91 b(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159 b(39)857
5618 y(6.1.2)219 b(C)45 b(naming)g(conventions)96 b(.)91
b(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)159 b(40)857 5844 y(6.1.3)219
b(Garbage)44 b(collection)139 b(.)91 b(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
159 b(40)439 6070 y(6.2)191 b(Shar)m(ed)45 b(bindings)88
b(.)j(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159
b(40)857 6296 y(6.2.1)219 b(Exporting)46 b(Scheme)f(values)g(to)h(C)180
b(.)91 b(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)159 b(40)857 6521 y(6.2.2)219 b(Exporting)46
b(C)f(values)g(to)h(Scheme)180 b(.)91 b(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159 b(40)857
6747 y(6.2.3)219 b(Complete)46 b(shar)m(ed)f(binding)f(interface)75
b(.)92 b(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)159 b(41)439 6973 y(6.3)191 b(Calling)45 b(C)g(functions)g(fr)m(om)
f(Scheme)111 b(.)91 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159 b(42)439 7199
y(6.4)191 b(Adding)46 b(external)f(modules)g(to)h(the)g
Fn(Makefile)102 b Fr(.)91 b(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)159 b(42)439 7425 y(6.5)191 b(Dynamic)44
b(loading)144 b(.)92 b(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)159 b(43)439 7650 y(6.6)191 b(Compatibility)143 b(.)91
b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159
b(44)439 7876 y(6.7)191 b(Accessing)45 b(Scheme)h(data)f(fr)m(om)g(C)
154 b(.)92 b(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159 b(44)857 8102 y(6.7.1)219
b(Constants)151 b(.)92 b(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)159 b(44)857 8328 y(6.7.2)219 b(Converting)45
b(values)155 b(.)91 b(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h
(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159
b(44)857 8554 y(6.7.3)219 b(C)45 b(versions)g(of)h(Scheme)f(pr)m
(ocedur)m(es)67 b(.)91 b(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)159 b(45)439 8780 y(6.8)191 b(Calling)45
b(Scheme)g(functions)g(fr)m(om)f(C)111 b(.)91 b(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159
b(46)439 9005 y(6.9)191 b(Interacting)45 b(with)g(the)h(Scheme)f(heap)
75 b(.)91 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)159 b(47)857 9231 y(6.9.1)219
b(Registering)46 b(objects)f(with)g(the)h(GC)55 b(.)91
b(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)159 b(47)857 9457 y(6.9.2)219 b(Keeping)45 b(C)h(data)f(str)o
(uctur)m(es)g(in)g(the)g(Scheme)h(heap)124 b(.)91 b(.)h(.)f(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)159 b(47)857 9683 y(6.9.3)219 b(C)45
b(code)h(and)f(heap)h(images)85 b(.)92 b(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159
b(48)439 9909 y(6.10)100 b(Using)46 b(Scheme)f(r)m(ecor)m(ds)g(in)g(C)g
(code)i(.)92 b(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159 b(48)439 10134
y(6.11)100 b(Raising)46 b(exceptions)f(fr)m(om)g(external)g(code)121
b(.)91 b(.)g(.)h(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)159 b(49)439 10360 y(6.12)100 b(Unsafe)45
b(functions)g(and)g(macr)m(os)155 b(.)91 b(.)h(.)f(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)h(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)159
b(50)166 10768 y Fo(A)132 b(ASCII)45 b(character)f(encoding)4254
b(52)166 11176 y(B)152 b(Bibliography)5283 b(54)166 11583
y(C)142 b(Index)5910 b(55)3535 12141 y Fr(v)p eop end
%%Page: 6 6
TeXDict begin 6 5 bop 3674 12141 a Fr(vi)p eop end
%%Page: 1 7
TeXDict begin 1 6 bop 166 2391 a Fm(Chapter)87 b(1)166
3221 y Fp(Introduction)166 4111 y Fr(Scheme)54 b(48)g(is)g(an)f
(implementation)h(of)g(the)g(Scheme)f(pr)m(ogramming)g(language)h(as)g
(described)166 4337 y(in)70 b(the)g(Revised)1356 4271
y Fl(5)1506 4337 y Fr(Report)h(on)f(the)g(Algorithmic)g(Language)g
(Scheme)g([6)o(].)130 b(It)71 b(is)f(based)g(on)g(a)166
4563 y(compiler)49 b(and)h(interpr)m(eter)f(for)g(a)h(virtual)f(Scheme)
g(machine.)68 b(Scheme)49 b(48)g(tries)h(to)g(be)g(faithful)166
4789 y(to)71 b(the)f(Revised)1356 4723 y Fl(5)1505 4789
y Fr(Scheme)g(Report,)78 b(pr)m(oviding)69 b(neither)h(mor)m(e)g(nor)g
(less)g(in)g(the)g(initial)f(user)166 5015 y(envir)m(onment.)83
b(\(This)54 b(is)g(not)h(to)g(say)g(that)f(mor)m(e)g(isn't)g(available)
g(in)g(other)g(envir)m(onments;)59 b(see)166 5240 y(below)-17
b(.\))72 b(Support)51 b(for)g(numbers)e(is)h(weak:)67
b(bignums)50 b(ar)m(e)g(slow)g(and)h(\003oating)f(point)h(is)g(almost)
166 5466 y(nonexistent)46 b(\(see)f(description)h(of)f(\003oatnums,)g
(below\).)448 5692 y(Scheme)55 b(48)h(is)f(under)g(continual)f
(development.)87 b(Please)55 b(r)m(eport)h(bugs,)h(especially)f(in)f
(the)166 5918 y(VM,)65 b(especially)g(cor)m(e)f(dumps,)69
b(to)c(scheme-48-bugs@zurich.ai.mit.edu.)111 b(Include)64
b(the)g(ver)m(-)166 6144 y(sion)d(number)e(x.yy)i(fr)m(om)f(the)h
(\224W)-17 b(elcome)60 b(to)h(Scheme)g(48)f(x.yy\224)i(gr)m(eeting)e
(message)h(in)f(your)166 6369 y(bug)72 b(r)m(eport.)139
b(It)74 b(is)f(a)f(goal)h(of)g(this)g(pr)m(oject)f(to)i(pr)m(oduce)e(a)
h(bullet-pr)m(oof)f(system;)87 b(we)72 b(want)166 6595
y(no)80 b(bugs)g(and,)89 b(especially)-20 b(,)89 b(no)80
b(crashes.)161 b(\(Ther)m(e)80 b(ar)m(e)f(a)h(few)g(known)g(bugs,)88
b(listed)81 b(in)f(the)166 6821 y Fn(doc/todo.txt)47
b Fr(\002le)e(that)h(comes)f(with)g(the)h(distribution.\))448
7047 y(Send)58 b(mail)f(to)h(scheme-48-r)m(equest@zurich.ai.mit.edu)c
(to)k(be)f(put)h(on)f(a)g(mailing)g(list)g(for)166 7273
y(announcements,)45 b(discussion,)g(bug)g(r)m(eports,)h(and)g(bug)e
(\002xes.)448 7499 y(The)56 b(name)f(`Scheme)g(48')g(commemorates)g
(our)g(having)g(written)h(the)g(original)f(version)g(in)166
7724 y(forty-eight)45 b(hours,)h(on)f(August)h(6th)f(and)h(7th,)g
(1986.)3541 12141 y(1)p eop end
%%Page: 2 8
TeXDict begin 2 7 bop 332 2391 a Fm(Chapter)87 b(2)332
3221 y Fp(User)23 b(')-23 b(s)104 b(guide)332 4144 y
Fr(This)65 b(chapter)f(details)h(Scheme)f(48's)g(user)g(interface:)94
b(its)65 b(command-line)d(ar)m(guments,)69 b(com-)332
4370 y(mand)45 b(pr)m(ocessor)-13 b(,)46 b(debugger)-13
b(,)44 b(and)i(so)g(forth.)332 4967 y Fk(2.1)238 b(Command)58
b(line)h(arguments)332 5389 y Fr(A)46 b(few)f(command)f(line)h(ar)m
(guments)g(ar)m(e)g(pr)m(ocessed)g(by)h(Scheme)f(48)g(as)g(it)h(starts)
g(up.)614 5615 y Fn(scheme48)h Fr([)p Fn(-i)e Fq(image)p
Fr(])f([)p Fn(-h)h Fq(heapsize)p Fr(])e([)p Fn(-a)i Fq(ar)m(gument)g(.)
27 b(.)g(.)g Fr(])332 6036 y Fn(-i)46 b Fq(image)90 b
Fr(speci\002es)66 b(a)f(heap)h(image)f(\002le)h(to)g(r)m(esume.)116
b(This)65 b(defaults)h(to)g(a)f(heap)h(image)f(that)787
6261 y(r)o(uns)44 b(a)h(Scheme)h(command)e(pr)m(ocessor)-13
b(.)57 b(Heap)46 b(images)f(ar)m(e)g(cr)m(eated)g(by)h(the)f
Fn(,dump)h Fr(and)787 6487 y Fn(,build)109 b(commands)p
Fr(,)47 b(for)e(which)f(see)i(below)-17 b(.)332 6861
y Fn(-h)46 b Fq(heapsize)89 b Fr(speci\002es)61 b(how)g(much)f(space)h
(should)h(be)e(r)m(eserved)h(for)g(allocation.)104 b
Fq(Heapsize)60 b Fr(is)787 7087 y(in)53 b(wor)m(ds)g(\(wher)m(e)g(one)h
(wor)m(d)f(=)h(4)f(bytes\),)j(and)e(covers)f(both)h(semispaces,)i(only)
d(one)h(of)787 7313 y(which)48 b(is)h(in)g(use)f(at)i(any)f(given)f
(time)h(\(except)g(during)g(garbage)f(collection\).)67
b(Cons)49 b(cells)787 7539 y(ar)m(e)62 b(curr)m(ently)f(3)h(wor)m(ds,)
67 b(so)c(if)f(you)g(want)g(to)h(make)f(sur)m(e)g(you)g(can)g(allocate)
g(a)h(million)787 7764 y(cons)45 b(cells,)g(you)h(should)f(specify)g
Fn(-h)109 b(6000000)46 b Fr(\(actually)e(somewhat)h(mor)m(e)f(than)i
(this,)787 7990 y(to)d(account)g(for)g(the)g(initial)g(heap)g(image)g
(and)f(br)m(eathing)h(r)m(oom\).)55 b(The)43 b(default)g(heap)g(size)
787 8216 y(is)49 b(3000000)g(wor)m(ds.)69 b(The)50 b(system)g(will)f
(use)h(a)f(lar)m(ger)g(heap)h(if)f(the)h(speci\002ed)g(\(or)f
(default\))787 8442 y(size)c(is)h(less)f(than)g(the)h(size)g(of)f(the)g
(image)g(being)g(r)m(esumed.)332 8816 y Fn(-a)h Fq(ar)m(gument)e(.)27
b(.)g(.)120 b Fr(is)61 b(only)g(useful)f(with)g(images)h(built)f(using)
g Fn(,build)p Fr(.)104 b(The)61 b(ar)m(guments)f(ar)m(e)787
9042 y(passed)46 b(as)f(a)h(list)f(of)h(strings)f(to)h(the)g(pr)m
(ocedur)m(e)f(speci\002ed)h(in)f(the)h Fn(,build)g Fr(command)e(as)787
9267 y(for)h(example:)1117 9641 y Fn(>)110 b(\(define)f(\(f)h(a\))f
(\(for-each)h(display)f(a\))h(\(newline\))g(0\))1117
9867 y(>)g(,build)f(f)g(foo.image)1117 10093 y(>)h(,exit)1117
10319 y(\045)g(scheme48vm)g(-i)f(foo.image)h(-a)f(mumble)h("foo)f(x")
1117 10545 y(mumblefoo)h(x)1117 10770 y(\045)614 11191
y Fr(The)58 b(usual)f(de\002nition)h(of)g(the)g Fn(s48)g
Fr(or)g Fn(scheme48)g Fr(command)f(is)h(actually)f(a)g(shell)h(script)
332 11417 y(that)63 b(starts)g(up)g(the)g(Scheme)g(48)f(virtual)g
(machine)g(with)h(a)f Fn(-i)110 b Fq(image\002le)61 b
Fr(specifying)h(the)h(de-)332 11643 y(velopment)f(envir)m(onment)g
(heap)g(image)g(and)g(a)g Fn(-o)109 b Fq(vm-executable)61
b Fr(specifying)h(the)g(location)3707 12141 y(2)p eop
end
%%Page: 3 9
TeXDict begin 3 8 bop 166 1146 a Fr(of)49 b(the)g(virtual-machine)e
(executable)h(\(the)h(executable)f(is)i(needed)f(for)g(loading)g
(external)g(code)166 1372 y(on)63 b(some)g(versions)g(of)g(Unix;)73
b(see)63 b(section)g(6.5)h(for)e(mor)m(e)h(information\).)108
b(The)64 b(\002le)f Fn(go)g Fr(in)g(the)166 1597 y(Scheme)45
b(48)g(installation)h(sour)m(ce)f(dir)m(ectory)g(is)g(an)h(example)f
(of)g(such)g(a)g(shell)g(script.)166 2188 y Fk(2.2)238
b(Command)58 b(processor)166 2610 y Fr(When)51 b(you)g(invoke)g(the)h
(default)e(heap)i(image,)g(a)g(command)e(pr)m(ocessor)h(starts)h(r)o
(unning.)73 b(The)166 2835 y(command)45 b(pr)m(ocessor)h(acts)g(as)g
(both)g(a)g(r)m(ead-eval-print)e(loop,)j(r)m(eading)e(expr)m(essions,)i
(evaluat-)166 3061 y(ing)f(them,)g(and)g(printing)g(the)g(r)m(esults,)g
(and)g(as)g(an)g(interactive)f(debugger)h(and)g(data)g(inspector)-13
b(.)166 3287 y(See)46 b(Chapter)g(3)f(for)g(a)g(description)h(of)f(the)
h(command)e(pr)m(ocessor)-13 b(.)166 3877 y Fk(2.3)238
b(Editing)166 4299 y Fr(W)-17 b(e)112 b(r)m(ecommend)e(r)o(unning)g
(Scheme)i(48)f(under)h(GNU)f(Emacs)h(or)f(XEmacs)h(using)f(the)166
4525 y Fn(cmuscheme48)66 b Fr(command)e(package.)117
b(This)65 b(is)h(in)f(the)g(Scheme)g(48)g(distribution's)f
Fn(emacs/)166 4751 y Fr(subdir)m(ectory)75 b(and)g(is)h(included)f(in)g
(XEmacs's)g Fn(scheme)h Fr(package.)148 b(It)76 b(is)g(a)f(variant)g
(of)h(the)166 4977 y Fn(cmuscheme)63 b Fr(library)-20
b(,)65 b(which)c(comes)h(to)h(us)e(courtesy)h(of)g(Olin)g(Shivers,)k
(formerly)61 b(of)h(CMU.)166 5203 y(Y)-17 b(ou)46 b(might)f(want)g(to)h
(put)g(the)f(following)g(in)g(your)h(Emacs)e(init)i(\002le)f(\()p
Fn(.emacs)p Fr(\):)497 5543 y Fn(\(setq)109 b(scheme-program-name)i
("scheme48"\))497 5769 y(\(autoload)f('run-scheme)1588
5995 y("cmuscheme48")1588 6221 y("Run)f(an)g(inferior)h(Scheme)g
(process.")1588 6447 y(t\))166 6788 y Fr(The)43 b(Emacs)f(function)f
Fn(run-scheme)i Fr(can)f(then)h(be)f(used)g(to)h(start)g(a)f(pr)m
(ocess)h(r)o(unning)e(the)h(pr)m(o-)166 7013 y(gram)36
b Fn(scheme48)i Fr(in)f(a)f(new)h(buf)m(fer)-13 b(.)51
b(T)-17 b(o)38 b(make)f(the)g Fn(autoload)g Fr(and)g
Fn(\(require)110 b(...\))54 b Fr(forms)166 7239 y(work,)46
b(you)f(will)g(also)g(need)h(to)g(put)f(the)h(dir)m(ectory)f
(containing)g Fn(cmuscheme)h Fr(and)g(r)m(elated)f(\002les)166
7465 y(in)g(your)g(emacs)g(load-path:)497 7806 y Fn(\(setq)109
b(load-path)715 8032 y(\(append)h(load-path)g('\(")p
Fq(scheme-48-dir)m(ectory)p Fn(/emacs"\)\)\))166 8373
y Fr(Further)92 b(documentation)g(can)g(be)g(found)g(in)h(the)f
(\002les)h Fn(emacs/cmuscheme48.el)h Fr(and)166 8598
y Fn(emacs/comint.el)p Fr(.)166 9189 y Fk(2.4)238 b(Performance)166
9611 y Fr(If)72 b(you)h(want)f(to)h(generally)f(have)g(your)h(code)f(r)
o(un)g(faster)g(than)g(it)h(normally)f(would,)79 b(enter)166
9836 y Fn(inline-values)58 b Fr(mode)g(befor)m(e)e(loading)h(anything.)
92 b(Otherwise)56 b(calls)h(to)h(primitives)f(\(like)166
10062 y Fn(+)h Fr(and)g Fn(cons)p Fr(\))g(and)g(in-line)f(pr)m(ocedur)m
(es)g(\(like)g Fn(not)i Fr(and)e Fn(cadr)p Fr(\))h(won't)g(be)f
(open-coded,)62 b(and)166 10288 y(pr)m(ograms)45 b(will)g(r)o(un)f(mor)
m(e)h(slowly)-20 b(.)448 10514 y(The)40 b(system)g(doesn't)f(start)h
(in)f Fn(inline-values)h Fr(mode)g(by)f(default)f(because)h(the)g
(Scheme)166 10740 y(r)m(eport)48 b(permits)g(r)m(ede\002nitions)g(of)g
(built-in)e(pr)m(ocedur)m(es.)64 b(W)-10 b(ith)47 b(this)h(mode)g(set,)
i(such)d(r)m(ede\002ni-)166 10966 y(tions)c(don't)g(work)f(accor)m
(ding)g(to)h(the)g(r)m(eport,)h(because)e(pr)m(eviously)g(compiled)g
(calls)g(may)h(have)166 11191 y(in-lined)i(the)g(old)h(de\002nition,)g
(leaving)f(no)g(opportunity)i(to)f(call)f(the)g(new)g(de\002nition.)448
11417 y Fn(Inline-values)95 b Fr(mode)e(is)h(contr)m(olled)f(by)g(the)g
Fn(inline-values)i Fr(switch.)200 b Fn(,set)166 11643
y(inline-values)47 b Fr(and)e Fn(,unset)110 b(inline-values)46
b Fr(turn)f(it)h(on)f(and)h(of)m(f.)3541 12141 y(3)p
eop end
%%Page: 4 10
TeXDict begin 4 9 bop 332 1146 a Fk(2.5)238 b(Disassembler)332
1572 y Fr(The)46 b Fn(,dis)g Fr(command)e(prints)i(out)f(the)h
(disassembled)f(byte)g(codes)h(of)f(a)h(pr)m(ocedur)m(e.)663
1957 y Fn(>)109 b(,dis)g(cons)663 2185 y(cons)881 2413
y(0)g(\(protocol)h(2\))881 2641 y(2)f(\(pop\))881 2869
y(3)g(\(make-stored-object)i(2)e(pair\))881 3097 y(6)g(\(return\))663
3324 y(>)332 3708 y Fr(The)70 b(curr)m(ent)e(byte)h(codes)g(ar)m(e)g
(listed)h(in)f(the)g(\002le)g Fn(scheme/vm/arch.scm)p
Fr(.)130 b(A)69 b(somewhat)332 3934 y(out-of-date)45
b(description)h(of)f(them)g(can)g(be)g(found)g(in)g([5].)614
4161 y(The)50 b(command)f(ar)m(gument)f(is)i(optional;)i(if)d
(unsupplied)h(it)f(defaults)h(to)g(the)f(curr)m(ent)g(focus)332
4387 y(object)c(\()p Fn(##)p Fr(\).)614 4615 y(The)h(disassembler)f
(can)g(also)g(be)g(invoked)h(on)f(continuations)h(and)f(templates.)332
5225 y Fk(2.6)238 b(Module)59 b(system)332 5651 y Fr(This)68
b(section)g(gives)f(a)g(brief)g(description)g(of)h(modules)f(and)g(r)m
(elated)h(entities.)123 b(For)68 b(detailed)332 5877
y(information,)46 b(including)f(a)h(description)g(of)g(the)h(module)e
(con\002guration)h(language,)g(see)h(chap-)332 6103 y(ter)f(4.)614
6331 y(A)k Fq(module)g Fr(is)f(an)h(isolated)g(namespace,)g(with)g
(visibility)e(of)i(bindings)f(contr)m(olled)g(by)h(mod-)332
6556 y(ule)39 b(descriptions)i(written)e(in)h(a)f(special)h
(con\002guration)f(language.)55 b(A)40 b(module)f(may)g(be)h(instan-)
332 6782 y(tiated)62 b(as)f(a)g Fq(package)p Fr(,)k(which)60
b(is)h(an)g(envir)m(onment)f(in)h(which)f(code)i(can)f(be)g(evaluated.)
103 b(Most)332 7008 y(modules)63 b(ar)m(e)g(instantiated)h(only)g(once)
f(and)h(so)g(have)f(a)g(unique)g(package.)111 b(A)64
b Fq(structur)m(e)e Fr(is)h(a)332 7234 y(subset)44 b(of)g(the)h
(bindings)e(in)h(a)g(package.)57 b(Only)44 b(by)g(being)g(included)f
(in)h(a)g(str)o(uctur)m(e)f(can)h(a)g(bind-)332 7460
y(ing)50 b(be)f(made)g(visible)g(in)h(other)f(packages.)70
b(A)50 b(str)o(uctur)m(e)f(has)g(two)h(parts,)i(the)d(package)h(whose)
332 7685 y(bindings)h(ar)m(e)h(being)f(exported)h(and)g(the)g(set)g(of)
g(names)f(that)h(ar)m(e)g(to)g(be)f(exported.)77 b(This)52
b(set)g(of)332 7911 y(names)45 b(is)g(called)h(an)f Fq(interface)p
Fr(.)54 b(A)46 b(module)f(then)g(has)h(thr)m(ee)f(parts:)605
8295 y Fj(\017)91 b Fr(a)45 b(set)h(of)f(str)o(uctur)m(es)f(whose)i
(bindings)e(ar)m(e)h(to)h(be)g(visible)e(within)h(the)h(module)605
8678 y Fj(\017)91 b Fr(the)45 b(sour)m(ce)g(code)h(to)g(be)f(evaluated)
g(within)g(the)g(module)605 9062 y Fj(\017)91 b Fr(a)45
b(set)h(of)f(exported)h(interfaces)332 9445 y(Instantiating)g(a)g
(module)f(pr)m(oduces)g(a)h(package)g(and)f(a)h(set)g(of)f(str)o(uctur)
m(es,)g(one)h(for)f(each)g(of)h(the)332 9671 y(exported)g(interfaces.)
614 9899 y(The)52 b(following)f(example)h(uses)f Fn(define-structure)i
Fr(to)g(cr)m(eate)e(a)h(module)f(that)h(imple-)332 10124
y(ments)43 b(simple)g(cells)h(as)f(pairs,)h(instantiates)g(this)f
(module,)h(and)f(binds)g(the)h(r)m(esulting)e(str)o(uctur)m(e)332
10350 y(to)59 b Fn(cells)p Fr(.)94 b(The)58 b(syntax)g
Fn(\(export)110 b Fq(name)58 b(.)27 b(.)g(.)g Fn(\))96
b Fr(cr)m(eates)57 b(an)h(interface)f(containing)h Fq(name)f(.)27
b(.)g(.)g Fr(.)332 10576 y(The)58 b Fn(open)h Fr(clause)e(lists)h(str)o
(uctur)m(es)f(whose)h(bindings)f(ar)m(e)g(visible)g(within)h(the)g
(module.)94 b(The)332 10802 y Fn(begin)46 b Fr(clause)f(contains)g
(sour)m(ce)g(code.)663 11187 y Fn(\(define-structure)110
b(cells)g(\(export)g(make-cell)4154 11415 y(cell-ref)4154
11643 y(cell-set!\))3707 12141 y Fr(4)p eop end
%%Page: 5 11
TeXDict begin 5 10 bop 715 1146 a Fn(\(open)109 b(scheme\))715
1372 y(\(begin)h(\(define)f(\(make-cell)h(x\))1697 1597
y(\(cons)f('cell)h(x\)\))1479 1823 y(\(define)f(cell-ref)h(cdr\))1479
2049 y(\(define)f(cell-set!)h(set-cdr!\)\)\))448 2424
y Fr(Cells)45 b(could)f(also)h(have)f(been)g(implemented)g(using)h(the)
f(r)m(ecor)m(d)g(facility)g(described)g(in)h(sec-)166
2650 y(tion)h(5.7)f(and)h(available)e(in)h(str)o(uctur)m(e)f
Fn(define-record-type)p Fr(.)497 3025 y Fn(\(define-structure)110
b(cells)g(\(export)g(make-cell)3988 3251 y(cell-ref)3988
3477 y(cell-set!\))715 3703 y(\(open)f(scheme)h(define-record-types\))
715 3929 y(\(begin)g(\(define-record-type)g(cell)g(:cell)1697
4155 y(\(make-cell)g(value\))1697 4380 y(cell?)1697 4606
y(\(value)f(cell-ref)h(cell-set!\)\)\)\))448 4981 y Fr(W)-10
b(ith)53 b(either)f(de\002nition)g(the)h(r)m(esulting)f(str)o(uctur)m
(e)f(can)h(be)g(used)g(in)g(other)h(modules)f(by)g(in-)166
5207 y(cluding)45 b Fn(cells)h Fr(in)f(an)g Fn(open)h
Fr(clause.)448 5433 y(The)36 b(command)d(interpr)m(eter)i(is)g(always)f
(operating)i(within)e(a)h(particular)f(package.)53 b(Initially)166
5659 y(this)37 b(is)f(a)g(package)h(in)f(which)g(only)g(the)h(standar)m
(d)f(Scheme)g(bindings)g(ar)m(e)g(visible.)53 b(The)37
b(bindings)166 5885 y(of)63 b(other)h(str)o(uctur)m(es)e(can)h(be)g
(made)g(visible)g(by)g(using)g(the)g Fn(,open)h Fr(command)e(described)
h(in)166 6111 y(section)46 b(3.4)f(below)-17 b(.)448
6336 y(Note)38 b(that)g(this)f(initial)g(package)h(does)g(not)g
(include)e(the)i(con\002guration)e(language.)54 b(Module)166
6562 y(code)46 b(needs)g(to)g(be)f(evaluated)g(in)h(the)f
(con\002guration)g(package,)i(which)d(can)h(be)g(done)h(by)g(using)166
6788 y(the)g Fn(,)p Fr(con\002g)f(command:)497 7163 y
Fn(>)109 b(,config)h(\(define-structure)g(cells)g(...\))497
7389 y(>)f(,open)g(cells)497 7615 y(>)g(\(make-cell)h(4\))497
7841 y('\(cell)f(.)h(4\))497 8067 y(>)f(\(define)h(c)f(\(make-cell)h
(4\)\))497 8292 y(>)f(\(cell-ref)h(c\))497 8518 y(4)166
9116 y Fk(2.7)238 b(Library)166 9538 y Fr(A)64 b(number)f(of)h(useful)e
(utilities)i(ar)m(e)g(either)g(built)f(in)h(to)g(Scheme)g(48)g(or)g
(can)f(be)h(loaded)g(fr)m(om)166 9763 y(an)52 b(external)h(library)-20
b(.)76 b(These)53 b(utilities)g(ar)m(e)f(not)h(visible)f(in)g(the)g
(user)h(envir)m(onment)e(by)h(default,)166 9989 y(but)47
b(can)g(be)h(made)f(available)f(with)i(the)f Fn(open)h
Fr(command.)63 b(For)48 b(example,)g(to)g(use)g(the)f
Fn(tables)166 10215 y Fr(str)o(uctur)m(e,)e(do)497 10590
y Fn(>)109 b(,open)g(tables)497 10816 y(>)448 11191 y
Fr(If)49 b(the)h(utility)f(is)g(not)g(alr)m(eady)g(loaded,)i(then)e
(the)h Fn(,open)f Fr(command)f(will)h(load)g(it.)68 b(Or)-13
b(,)50 b(you)166 11417 y(can)67 b(load)h(something)f(explicitly)h
(\(without)e(opening)i(it\))g(using)f(the)g Fn(load-package)i
Fr(com-)166 11643 y(mand:)3541 12141 y(5)p eop end
%%Page: 6 12
TeXDict begin 6 11 bop 663 1146 a Fn(>)109 b(,load-package)h(queues)663
1372 y(>)f(,open)h(queues)614 1747 y Fr(When)68 b(loading)h(a)f
(utility)-20 b(,)75 b(the)69 b(message)f(\224Note:)104
b(optional)69 b(optimizer)g(not)g(invoked\224)f(is)332
1973 y(innocuous.)56 b(Feel)46 b(fr)m(ee)e(to)i(ignor)m(e)g(it.)614
2198 y(See)g(also)g(the)g(package)f(system)h(documentation,)f(in)h
(chapter)f(4.)614 2424 y(Not)122 b(all)e(of)h(the)g(the)g(libraries)f
(available)f(in)i(Scheme)f(48)h(ar)m(e)f(described)g(in)h(this)332
2650 y(manual.)297 b(All)126 b(ar)m(e)f(listed)i(in)e(\002les)h
Fn(rts-packages.scm)p Fr(,)148 b Fn(comp-packages.scm)p
Fr(,)332 2876 y Fn(env-packages.scm)p Fr(,)95 b(and)83
b Fn(more-packages.scm)i Fr(in)f(the)f Fn(scheme)h Fr(dir)m(ectory)g
(of)f(the)332 3102 y(distribution,)115 b(and)100 b(the)h(bindings)f
(they)h(export)g(ar)m(e)f(listed)h(in)f Fn(interfaces.scm)i
Fr(and)332 3328 y Fn(more-interfaces.scm)47 b Fr(in)e(the)h(same)f(dir)
m(ectory)-20 b(.)3707 12141 y(6)p eop end
%%Page: 7 13
TeXDict begin 7 12 bop 166 2425 a Fm(Chapter)87 b(3)166
3289 y Fp(Command)104 b(processor)166 4242 y Fr(This)41
b(chapter)f(details)g(Scheme)g(48's)g(command)f(pr)m(ocessor)-13
b(,)41 b(which)e(incorporates)i(both)f(a)g(r)m(ead-)166
4468 y(eval-print)55 b(loop)i(and)f(an)f(interactive)h(debugger)-13
b(.)87 b(At)56 b(the)g Fn(>)g Fr(pr)m(ompt,)j(you)d(can)g(type)g
(either)g(a)166 4694 y(Scheme)j(form)f(\(expr)m(ession)h(or)g
(de\002nition\))g(or)g(a)g(command)f(beginning)g(with)h(a)g(comma.)97
b(In)166 4919 y(inspection)53 b(mode)f(\(see)g(section)h(3.7\))f(the)g
(pr)m(ompt)h(changes)f(to)h Fn(:)70 b Fr(and)52 b(commands)g(no)g
(longer)166 5145 y(need)47 b(to)h(be)e(pr)m(eceded)h(by)g(a)g(comma;)g
(input)g(beginning)f(with)g(a)h(letter)h(or)f(digit)g(is)g(assumed)f
(to)166 5371 y(be)h(a)g(command,)g(not)g(an)g(expr)m(ession.)62
b(In)47 b(inspection)g(mode)g(the)h(command)e(pr)m(ocessor)h(prints)166
5597 y(out)f(a)f(menu)g(of)g(selectable)g(components)h(for)f(the)g
(curr)m(ent)g(object)g(of)g(inter)m(est.)166 6401 y Fk(3.1)238
b(Current)59 b(focus)h(value)e(and)i Fi(##)166 6891 y
Fr(The)e(command)f(pr)m(ocessor)h(keeps)g(track)f(of)h(a)f(curr)m(ent)g
Fq(focus)g(value)p Fr(.)92 b(This)58 b(value)f(is)h(normally)166
7117 y(the)69 b(last)h(value)e(r)m(eturned)h(by)g(a)g(command.)127
b(If)70 b(a)f(command)f(r)m(eturns)g(multiple)h(values)g(the)166
7342 y(focus)j(object)h(is)g(a)g(list)h(of)f(the)g(values.)140
b(The)73 b(focus)g(value)f(is)h(not)h(changed)e(if)h(a)g(command)166
7568 y(r)m(eturns)64 b(no)g(values)g(or)h(a)f(distinguished)h
(`unspeci\002c')d(value.)114 b(Examples)64 b(of)g(forms)g(that)h(r)m
(e-)166 7794 y(turn)51 b(this)h(unspeci\002c)f(value)f(ar)m(e)h
(de\002nitions,)j(uses)e(of)f Fn(set!)p Fr(,)j(and)d
Fn(\(if)110 b(#f)f(0\))p Fr(.)75 b(It)52 b(prints)g(as)166
8020 y Fn(#)p Fj(f)p Fn(Unspecific)p Fj(g)p Fr(.)448
8279 y(The)h(r)m(eader)f(used)h(by)f(the)h(command)e(pr)m(ocessor)i(r)m
(eads)f Fn(##)h Fr(as)f(a)h(special)f(expr)m(ession)h(that)166
8505 y(evaluates)45 b(to)h(the)g(curr)m(ent)e(focus)h(object.)497
9049 y Fn(>)109 b(\(list)g('a)h('b\))497 9308 y('\(a)f(b\))497
9567 y(>)g(\(car)g(##\))497 9827 y('a)497 10086 y(>)g(\(symbol->string)
h(##\))497 10346 y("a")497 10605 y(>)f(\(if)g(#f)h(0\))497
10865 y(#)p Fj(f)p Fn(Unspecific)p Fj(g)497 11124 y Fn(>)f(##)497
11384 y("a")497 11643 y(>)3541 12141 y Fr(7)p eop end
%%Page: 8 14
TeXDict begin 8 13 bop 332 1146 a Fk(3.2)238 b(Command)58
b(levels)332 1603 y Fr(If)j(an)g(err)m(or)-13 b(,)65
b(keyboar)m(d)c(interr)o(upt,)66 b(or)61 b(other)h(br)m(eakpoint)f
(occurs,)k(or)d(the)f Fn(,push)h Fr(command)332 1829
y(is)48 b(used,)g(the)g(command)f(pr)m(ocessor)g(invokes)h(a)f(r)m
(ecursive)g(copy)h(of)f(itself,)i(pr)m(eserving)e(the)g(dy-)332
2055 y(namic)60 b(state)h(of)g(the)g(pr)m(ogram)f(when)g(the)h(br)m
(eakpoint)g(occur)m(ed.)102 b(The)61 b(r)m(ecursive)e(invocation)332
2280 y(cr)m(eates)49 b(a)h(new)f Fq(command)h(level)p
Fr(.)67 b(The)50 b(command)e(levels)i(form)e(a)i(stack)f(with)g(the)h
(curr)m(ent)e(level)332 2506 y(at)58 b(the)g(top.)94
b(The)58 b(command)e(pr)m(ompt)i(indicates)f(the)h(number)e(of)i
(stopped)g(levels)g(below)f(the)332 2732 y(curr)m(ent)64
b(one:)95 b Fn(>)64 b Fr(or)h Fn(:)94 b Fr(for)65 b(the)f(base)g(level)
h(and)f Fq(n)p Fn(>)h Fr(or)f Fq(n)p Fn(:)95 b Fr(for)64
b(all)g(other)h(levels,)70 b(wher)m(e)63 b Fq(n)i Fr(is)332
2958 y(the)45 b(command-level)e(nesting)i(depth.)58 b(The)45
b Fn(auto-levels)h Fr(switch)e(described)h(below)f(can)g(be)332
3184 y(used)h(to)h(disable)f(the)h(automatic)f(pushing)g(of)g(new)g
(levels.)614 3427 y(The)179 b(command)e(pr)m(ocessor)13
b('s)179 b(evaluation)f(package)g(and)h(the)f(value)g(of)g(the)332
3653 y Fn(inspect-focus-value)119 b Fr(switch)d(ar)m(e)g(local)h(to)g
(each)f(command)g(level.)270 b(They)118 b(ar)m(e)332
3878 y(pr)m(eserved)43 b(when)g(a)h(new)f(level)g(is)g(pushed)h(and)f
(r)m(estor)m(ed)h(when)f(it)g(is)h(discar)m(ded.)56 b(The)43
b(settings)332 4104 y(of)i(all)h(other)f(switches)g(ar)m(e)g(shar)m(ed)
g(by)g(all)h(command)e(levels.)423 4616 y Fj(h)p Fr(eof)p
Fj(i)787 4842 y Fr(Discar)m(ds)f(the)h(curr)m(ent)f(command)g(level)h
(and)g(r)m(esumes)f(r)o(unning)g(the)h(level)g(down.)56
b Fj(h)p Fr(eof)p Fj(i)787 5068 y Fr(is)87 b(usually)g(contr)m(ol-)p
Fn(D)h Fr(at)g(a)f(Unix)h(shell)g(or)g(contr)m(ol-)p
Fn(C)f Fr(contr)m(ol-)p Fn(D)g Fr(using)h(the)g(Emacs)787
5294 y Fn(cmuscheme48)46 b Fr(library)-20 b(.)423 5739
y Fn(,pop)787 5964 y Fr(The)45 b(same)h(as)f Fj(h)p Fr(eof)p
Fj(i)p Fr(.)423 6409 y Fn(,proceed)110 b([)p Fq(exp)f
Fn(...)p Fr(])787 6635 y(Pr)m(oceed)70 b(after)g(an)g(interr)o(upt)g
(or)h(err)m(or)-13 b(,)76 b(r)m(esuming)70 b(the)g(next)h(command)f
(level)g(down,)787 6861 y(delivering)46 b(the)h(values)g(of)f
Fq(exp)h(.)27 b(.)g(.)90 b Fr(to)48 b(the)f(continuation.)61
b(Interr)o(upt)47 b(continuations)f(dis-)787 7087 y(car)m(d)62
b(any)h(r)m(eturned)f(values.)108 b Fn(,Pop)64 b Fr(and)e
Fn(,proceed)i Fr(have)e(the)h(same)g(ef)m(fect)f(after)g(an)787
7313 y(interr)o(upt)57 b(but)h(behave)f(dif)m(fer)m(ently)g(after)h
(err)m(ors.)95 b Fn(,Proceed)59 b Fr(r)m(estarts)f(the)g(err)m(oneous)
787 7538 y(computation)64 b(fr)m(om)f(the)i(point)g(wher)m(e)f(the)g
(err)m(or)g(occurr)m(ed)g(\(although)f(not)i(all)f(err)m(ors)787
7764 y(ar)m(e)42 b(pr)m(oceedable\))g(while)h Fn(,pop)g
Fr(\(and)f Fj(h)p Fr(eof)p Fj(i)p Fr(\))g(discar)m(ds)h(it)g(and)g(pr)m
(ompts)g(for)g(a)f(new)h(com-)787 7990 y(mand.)423 8435
y Fn(,push)787 8661 y Fr(Pushes)66 b(a)h(new)g(command)f(level)h(on)g
(above)g(the)g(curr)m(ent)f(one.)122 b(This)67 b(is)g(useful)f(if)h
(the)787 8886 y Fn(auto-levels)61 b Fr(switch)f(has)h(been)f(used)g(to)
h(disable)f(the)h(automatic)f(pushing)g(of)h(new)787
9112 y(levels)45 b(for)g(err)m(ors)g(and)g(interr)o(upts.)423
9557 y Fn(,level)110 b([)p Fq(number)p Fn(])787 9783
y Fr(Pops)46 b(down)f(to)h(a)f(given)g(level)g(and)h(r)m(estarts)f
(that)h(level.)56 b Fq(Number)47 b Fr(defaults)e(to)h(zer)m(o.)423
10228 y Fn(,reset)787 10454 y(,reset)g Fr(r)m(estarts)f(the)h(command)e
(pr)m(ocessor)-13 b(,)46 b(discar)m(ding)e(all)i(existing)f(levels.)614
10966 y(Whenever)75 b(moving)f(to)h(an)g(existing)g(level,)83
b(either)74 b(by)h(sending)g(an)g Fj(h)p Fr(eof)p Fj(i)f
Fr(or)h(by)g(using)332 11191 y Fn(,reset)53 b Fr(or)g(the)f(other)h
(commands)e(listed)i(above,)h(the)f(command)e(pr)m(ocessor)i(r)o(uns)e
(all)i(of)f(the)332 11417 y Fn(dynamic-wind)e Fr(\223after)13
b(\224)48 b(thunks)h(belonging)f(to)h(stopped)h(computations)f(on)g
(the)g(discar)m(ded)332 11643 y(level\(s\).)3707 12141
y(8)p eop end
%%Page: 9 15
TeXDict begin 9 14 bop 166 1146 a Fk(3.3)238 b(Logistical)58
b(commands)257 1568 y Fn(,load)109 b Fq(\002lename)45
b(.)27 b(.)g(.)621 1793 y Fr(Loads)48 b(the)g(named)f(Scheme)h(sour)m
(ce)f(\002le\(s\).)63 b(Easier)48 b(to)h(type)f(than)g
Fn(\(load)110 b(")p Fq(\002lename)p Fn("\))621 2019 y
Fr(because)47 b(you)h(don't)g(have)f(to)i(shift)f(to)g(type)h(the)f
(par)m(entheses)h(or)f(quote)g(marks.)64 b(Also,)50 b(it)621
2245 y(works)55 b(in)g(any)g(package,)k(unlike)c Fn(\(load)109
b(")p Fq(\002lename)p Fn("\))p Fr(,)58 b(which)d(will)f(work)i(only)f
(work)621 2471 y(in)45 b(packages)g(in)h(which)e(the)i(variable)e
Fn(load)i Fr(is)f(de\002ned)h(appr)m(opriately)-20 b(.)257
2840 y Fn(,exit)109 b([)p Fq(exp)p Fn(])40 b Fr(Exits)g(back)f(out)h
(to)g(shell)g(\(or)f(executive)g(or)h(whatever)f(invoked)h(Scheme)g(48)
f(in)621 3066 y(the)47 b(\002rst)h(place\).)63 b Fq(Exp)47
b Fr(should)g(evaluate)h(to)g(an)f(integer)-13 b(.)63
b(The)48 b(integer)f(is)h(r)m(eturned)f(to)h(the)621
3292 y(calling)56 b(pr)m(ogram.)90 b(The)57 b(default)g(value)f(of)g
Fq(exp)h Fr(is)f(zer)m(o,)k(which,)f(on)e(Unix,)j(is)d(generally)621
3518 y(interpr)m(eted)45 b(as)h(success.)166 4112 y Fk(3.4)238
b(Module)59 b(commands)166 4534 y Fr(Ther)m(e)49 b(ar)m(e)f(many)g
(commands)g(r)m(elated)h(to)g(modules.)67 b(Only)48 b(the)h(most)g
(commonly)f(used)h(mod-)166 4760 y(ule)66 b(commands)f(ar)m(e)h
(described)g(her)m(e;)76 b(documentation)66 b(for)g(the)g(r)m(est)h
(can)e(be)h(found)g(in)g(sec-)166 4986 y(tion)73 b(4.8.)137
b(Ther)m(e)72 b(is)g(also)h(a)f(brief)f(description)i(of)f(modules,)79
b(str)o(uctur)m(es,)f(and)72 b(packages)g(in)166 5211
y(section)46 b(2.6)f(below)-17 b(.)257 5619 y Fn(,open)109
b Fq(structur)m(e)44 b(.)27 b(.)g(.)621 5845 y Fr(Makes)37
b(the)h(bindings)e(in)h(the)h Fq(structur)m(e)p Fr(s)d(visible)h(in)h
(the)h(curr)m(ent)e(package.)54 b(The)38 b(packages)621
6070 y(associated)61 b(with)h(the)f Fq(structur)m(e)p
Fr(s)f(will)h(be)g(loaded)h(if)f(this)g(has)h(not)g(alr)m(eady)f(been)g
(done)621 6296 y(\(the)54 b Fn(ask-before-loading)i Fr(switch)e(can)f
(be)h(used)h(disable)f(the)g(automatic)g(loading)621
6522 y(of)45 b(packages\).)257 6891 y Fn(,config)110
b([)p Fq(command)p Fn(])621 7117 y Fr(Executes)48 b Fq(command)g
Fr(in)g(the)h Fn(config)g Fr(package,)g(which)e(includes)h(the)g
(module)g(con\002gu-)621 7343 y(ration)d(language.)56
b(For)46 b(example,)f(use)951 7712 y Fn(,config)110 b(,load)g
Fq(\002lename)621 8082 y Fr(to)44 b(load)g(a)f(\002le)h(containing)f
(module)h(de\002nitions.)56 b(If)44 b(no)g Fq(command)g
Fr(is)f(given,)i(the)e Fn(config)621 8307 y Fr(package)i(becomes)g(the)
h(execution)f(package)g(for)g(futur)m(e)f(commands.)257
8677 y Fn(,user)109 b([)p Fq(command)p Fn(])621 8903
y Fr(This)52 b(is)h(similar)f(to)h(the)g Fn(,config)p
Fr(.)79 b(It)53 b(moves)f(to)h(or)g(executes)f(a)h(command)e(in)i(the)f
(user)621 9128 y(package)43 b(\(which)e(is)i(the)g(default)f(package)h
(when)g(the)g(Scheme)f(48)h(command)f(pr)m(ocessor)621
9354 y(starts\).)166 9948 y Fk(3.5)238 b(Debugging)59
b(commands)257 10370 y Fn(,preview)621 10596 y Fr(Somewhat)e(like)g(a)f
(backtrace,)k(but)c(because)g(of)h(tail)g(r)m(ecursion)f(you)h(see)g
(less)g(than)g(you)621 10822 y(might)47 b(in)h(debuggers)f(for)h(some)g
(other)g(languages.)64 b(The)48 b(stack)g(to)g(display)g(is)g(chosen)g
(as)621 11048 y(follows:)793 11417 y(1.)92 b(If)47 b(the)h(curr)m(ent)f
(focus)g(object)g(is)h(a)f(continuation)h(or)f(a)h(thr)m(ead,)g(then)g
(that)g(continua-)1021 11643 y(tion)d(or)h(thr)m(ead's)f(stack)g(is)h
(displayed.)3541 12141 y(9)p eop end
%%Page: 10 16
TeXDict begin 10 15 bop 959 1146 a Fr(2.)92 b(Otherwise,)54
b(if)e(the)h(curr)m(ent)e(command)h(level)g(was)g(initiated)h(because)f
(of)g(a)g(br)m(eak-)1187 1372 y(point)45 b(in)f(the)g(next)h(level)f
(down,)h(then)f(the)h(stack)f(at)h(that)g(br)m(eakpoint)f(is)g
(displayed.)959 1669 y(3.)92 b(Otherwise,)76 b(ther)m(e)70
b(is)g(no)g(stack)h(to)f(display)h(and)f(a)g(message)g(is)g(printed)g
(to)h(that)1187 1895 y(ef)m(fect.)787 2280 y(One)39 b(line)g(is)g
(printed)h(out)g(for)f(each)g(continuation)g(on)g(the)h(chosen)f
(stack,)i(going)f(fr)m(om)e(top)787 2506 y(to)46 b(bottom.)423
2891 y Fn(,run)109 b Fq(exp)787 3117 y Fr(Evaluate)65
b Fq(exp)p Fr(,)72 b(printing)66 b(the)g(r)m(esult\(s\))f(and)h(making)
g(them)g(\(or)g(a)g(list)g(of)g(them,)72 b(if)66 b Fq(exp)787
3343 y Fr(r)m(eturns)i(multiple)g(r)m(esults\))g(the)h(new)f(focus)g
(object.)126 b(The)70 b Fn(,run)f Fr(command)e(is)i(useful)787
3569 y(when)44 b(writing)h(command)g(pr)m(ograms,)g(which)g(ar)m(e)g
(described)f(in)i(section)f(3.8)h(below)-17 b(.)423 3954
y Fn(,trace)110 b Fq(name)f Fn(...)787 4180 y Fr(Start)60
b(tracing)e(calls)h(to)h(the)f(named)g(pr)m(ocedur)m(e)f(or)h(pr)m
(ocedur)m(es.)97 b(W)-10 b(ith)59 b(no)h(ar)m(guments,)787
4406 y(displays)i(all)f(pr)m(ocedur)m(es)h(curr)m(ently)f(traced.)106
b(This)62 b(af)m(fects)e(the)j(binding)e(of)g Fq(name)p
Fr(,)67 b(not)787 4631 y(the)k(behavior)g(of)g(the)h(pr)m(ocedur)m(e)f
(that)g(is)h(its)f(curr)m(ent)g(value.)134 b Fq(Name)72
b Fr(is)f(r)m(ede\002ned)h(to)787 4857 y(be)d(a)h(pr)m(ocedur)m(e)g
(that)g(prints)g(a)h(message,)76 b(calls)70 b(the)g(original)g(value)f
(of)h Fq(name)p Fr(,)77 b(prints)787 5083 y(another)52
b(message,)i(and)d(\002nally)h(passes)h(along)f(the)g(value\(s\))e(r)m
(eturned)i(by)f(the)h(original)787 5309 y(pr)m(ocedur)m(e.)423
5694 y Fn(,untrace)110 b Fq(name)f Fn(...)787 5920 y
Fr(Stop)67 b(tracing)f(calls)f(to)i(the)f(named)g(pr)m(ocedur)m(e)f(or)
h(pr)m(ocedur)m(es.)119 b(W)-10 b(ith)66 b(no)g(ar)m(gument,)787
6146 y(stop)46 b(tracing)f(all)g(calls)g(to)h(all)f(pr)m(ocedur)m(es.)
423 6531 y Fn(,condition)787 6757 y Fr(The)59 b Fn(,condition)g
Fr(command)f(displays)h(the)g(condition)g(object)f(describing)g(the)h
(err)m(or)787 6983 y(or)c(interr)o(upt)g(that)h(initiated)f(the)h(curr)
m(ent)e(command)g(level.)87 b(The)56 b(condition)f(object)g(be-)787
7209 y(comes)63 b(the)g(curr)m(ent)f(focus)g(value.)110
b(This)63 b(is)g(particularly)g(useful)f(in)g(conjunction)g(with)787
7435 y(the)48 b(inspector)-13 b(.)65 b(For)49 b(example,)g(if)f(a)g(pr)
m(ocedur)m(e)g(is)g(passed)h(the)g(wr)m(ong)e(number)g(of)h(ar)m(gu-)
787 7660 y(ments,)42 b(do)g Fn(,condition)h Fr(followed)e(by)g
Fn(,inspect)i Fr(to)f(inspect)g(the)f(pr)m(ocedur)m(e)g(and)h(its)787
7886 y(ar)m(guments.)423 8271 y Fn(,bound?)110 b Fq(name)787
8497 y Fr(Display)45 b(the)h(binding)e(of)i Fq(name)p
Fr(,)f(if)g(ther)m(e)h(is)f(one,)h(and)f(otherwise)h(prints)f(`)p
Fn(Not)109 b(bound)p Fr('.)423 8883 y Fn(,expand)h Fq(form)423
9086 y Fn(,expand-all)g Fq(form)787 9312 y Fr(Show)41
b(macr)m(o)f(expansion)i(of)f Fq(form)p Fr(,)h(if)e(any)-20
b(.)55 b Fn(,expand)42 b Fr(performs)f(a)g(single)g(macr)m(o)g(expan-)
787 9538 y(sion)k(while)g Fn(,expand-all)h Fr(fully)f(expands)h(all)f
(macr)m(os)f(in)h Fq(form)p Fr(.)423 9923 y Fn(,where)110
b Fq(pr)m(ocedur)m(e)787 10149 y Fr(Display)45 b(name)g(of)g(\002le)h
(containing)f Fq(pr)m(ocedur)m(e)p Fr('s)e(sour)m(ce)h(code.)332
10762 y Fk(3.6)238 b(Switches)332 11189 y Fr(Ther)m(e)45
b(ar)m(e)g(a)f(number)g(of)h(binary)f(switches)g(that)i(contr)m(ol)e
(the)i(behavior)e(of)g(the)i(command)d(pr)m(o-)332 11415
y(cessor)-13 b(.)614 11643 y(The)46 b(switches)f(ar)m(e)g(as)h
(follows:)3661 12141 y(10)p eop end
%%Page: 11 17
TeXDict begin 11 16 bop 257 1146 a Fn(batch)109 b([on)h(|)f(off])621
1372 y Fr(In)39 b(`batch)e(mode')i(any)g(err)m(or)f(or)h(interr)o(upt)g
(that)g(comes)f(up)h(will)g(cause)f(Scheme)h(48)f(to)i(exit)621
1597 y(immediately)51 b(with)g(a)h(non-zer)m(o)f(exit)g(status.)76
b(Also,)55 b(the)c(command)g(pr)m(ocessor)h(doesn't)621
1823 y(print)45 b(pr)m(ompts.)57 b(Batch)45 b(mode)h(is)f(of)m(f)g(by)g
(default.)257 2200 y Fn(,levels)110 b([on)f(|)g(off])621
2426 y Fr(Enables)65 b(or)g(disables)h(the)g(automatic)f(pushing)g(of)h
(a)f(new)g(command)g(level)g(when)g(an)621 2652 y(err)m(or)-13
b(,)51 b(interr)o(upt,)i(or)e(other)g(br)m(eakpoint)g(occurs.)72
b(When)51 b(enabled)f(\(the)h(default\),)g(br)m(eak-)621
2877 y(points)d(push)f(a)g(new)g(command)f(level,)i(and)f
Fj(h)p Fr(eof)p Fj(i)g Fr(\(see)g(above\))g(or)g Fn(,reset)h
Fr(is)f(r)m(equir)m(ed)621 3103 y(to)f(r)m(eturn)e(to)i(top)g(level.)57
b(The)46 b(ef)m(fects)e(of)i(pushed)f(command)f(levels)i(include:)839
3480 y Fj(\017)91 b Fr(a)45 b(longer)g(pr)m(ompt)839
3773 y Fj(\017)91 b Fr(r)m(etention)45 b(of)g(the)h(continuation)f(in)g
(ef)m(fect)g(at)g(the)h(point)g(of)f(err)m(ors)839 4066
y Fj(\017)91 b Fr(confusion)44 b(among)h(some)h(newcomers)621
4443 y(W)-10 b(ith)51 b Fn(levels)h Fr(disabled)f(one)h(must)f(issue)h
(a)f Fn(,push)h Fr(command)f(immediately)g(follow-)621
4669 y(ing)62 b(an)g(err)m(or)g(in)h(or)m(der)f(to)h(r)m(etain)f(the)h
(err)m(or)f(continuation)g(for)g(debugging)g(purposes;)621
4895 y(otherwise)k(the)g(continuation)f(is)h(lost)h(as)f(soon)g(as)g
(the)g(focus)f(object)h(changes.)117 b(If)66 b(you)621
5121 y(don't)52 b(know)g(anything)g(about)g(the)g(available)f
(debugging)h(tools,)j(then)d(levels)g(might)g(as)621
5346 y(well)45 b(be)g(disabled.)257 5723 y Fn(break-on-warnings)111
b([on)e(|)g(off])621 5949 y Fr(Enter)46 b(a)g(new)g(command)f(level)h
(when)g(a)g(warning)f(is)h(pr)m(oduced,)h(just)f(as)g(when)g(an)f(err)m
(or)621 6175 y(occurs.)55 b(Normally)42 b(warnings)g(only)h(r)m(esult)f
(in)h(a)g(displayed)g(message)g(and)g(the)g(pr)m(ogram)621
6401 y(does)j(not)f(stop)i(executing.)166 7000 y Fk(3.7)238
b(Inspection)59 b(mode)166 7423 y Fr(Ther)m(e)i(is)g(a)g(data)g
(inspector)g(available)e(via)i(the)g Fn(,inspect)h Fr(and)e
Fn(,debug)i Fr(commands.)102 b(The)166 7649 y(inspector)40
b(is)g(particularly)g(useful)e(with)i(pr)m(ocedur)m(es,)h
(continuations,)g(and)f(r)m(ecor)m(ds.)55 b(The)40 b(com-)166
7875 y(mand)k(pr)m(ocessor)g(can)g(be)g(taken)g(out)h(of)f(inspection)g
(mode)h(by)e(using)h(the)h Fn(q)f Fr(command.)55 b(When)166
8101 y(in)48 b(inspection)h(mode,)h(input)f(that)f(begins)h(with)f(a)g
(letter)h(or)g(digit)g(is)g(r)m(ead)f(as)g(a)h(command,)g(not)166
8327 y(as)58 b(an)g(expr)m(ession.)95 b(T)-17 b(o)59
b(see)f(the)h(value)e(of)h(a)g(variable)f(or)h(number)-13
b(,)60 b(do)f Fn(\(begin)109 b Fq(exp)p Fn(\))58 b Fr(or)g(use)166
8552 y(the)46 b Fn(,run)109 b Fq(exp)45 b Fr(command.)448
8779 y(In)53 b(inspection)h(mode)f(the)g(command)f(pr)m(ocessor)h
(prints)g(out)g(a)g(menu)f(of)h(selectable)g(com-)166
9004 y(ponents)f(for)f(the)g(curr)m(ent)f(focus)h(object.)74
b(T)-17 b(o)52 b(inspect)f(a)g(particular)g(component,)i(just)e(type)h
(the)166 9230 y(corr)m(esponding)h(number)e(in)i(the)g(menu.)79
b(That)54 b(component)f(becomes)f(the)h(new)g(focus)f(object.)166
9456 y(For)46 b(example:)497 9833 y Fn(>)109 b(,inspect)h('\(a)f(\(b)g
(c\))h(d\))497 10060 y(\(a)f(\(b)g(c\))h(d\))497 10512
y([0])f(a)497 10738 y([1])g(\(b)g(c\))497 10964 y([2])g(d)497
11191 y(:)g(1)497 11417 y(\(b)g(c\))3495 12141 y Fr(11)p
eop end
%%Page: 12 18
TeXDict begin 12 17 bop 663 1146 a Fn([0])109 b(b)663
1393 y([1])g(c)663 1639 y(:)614 2099 y Fr(When)50 b(a)g(new)f(focus)g
(object)h(is)g(selected)g(the)g(pr)m(evious)g(one)g(is)g(pushed)g(onto)
g(a)g(stack.)71 b(Y)-17 b(ou)332 2324 y(can)58 b(pop)h(the)g(stack,)j
(r)m(everting)c(to)h(the)g(pr)m(evious)f(object,)k(with)c(the)g
Fn(u)h Fr(command,)i(or)e(use)f(the)332 2550 y Fn(stack)46
b Fr(command)e(to)i(move)f(to)h(an)g(earlier)f(object.)614
2797 y(Commands)g(useful)f(when)h(in)g(inspection)h(mode:)605
3256 y Fj(\017)91 b Fn(u)45 b Fr(\(up\))g(pop)h(object)f(stack)605
3715 y Fj(\017)91 b Fn(m)45 b Fr(\(mor)m(e\))f(print)i(mor)m(e)f(of)g
(a)g(long)h(menu)605 4175 y Fj(\017)91 b Fn(\(...\))56
b Fr(evaluate)45 b(a)h(form)e(and)i(select)f(r)m(esult)605
4634 y Fj(\017)91 b Fn(q)45 b Fr(quit)605 5093 y Fj(\017)91
b Fn(template)58 b Fr(select)g(a)g(closur)m(e)f(or)g(continuation's)g
(template)i(\(T)-17 b(emplates)58 b(ar)m(e)f(the)h(static)787
5319 y(components)j(of)g(pr)m(ocedur)m(es;)69 b(these)62
b(ar)m(e)f(found)g(inside)g(of)g(pr)m(ocedur)m(es)g(and)g(continu-)787
5545 y(ations,)f(and)d(contain)f(the)i(quoted)f(constants)g(and)g
(top-level)f(variables)g(r)m(eferr)m(ed)g(to)h(by)787
5771 y(byte-compiled)44 b(code.\))605 6230 y Fj(\017)91
b Fn(d)45 b Fr(\(down\))g(move)g(to)h(the)f(next)h(continuation)f
(\(curr)m(ent)f(object)h(must)g(be)g(a)g(continuation\))605
6689 y Fj(\017)91 b Fn(menu)45 b Fr(print)h(the)g(selection)f(menu)g
(for)g(the)h(focus)e(object)614 7148 y(Multiple)66 b(selection)g
(commands)f(\()p Fn(u)p Fr(,)71 b Fn(d)p Fr(,)h(and)65
b(menu)g(indexes\))h(may)f(be)g(put)h(on)g(a)g(single)332
7374 y(line.)614 7621 y(All)52 b(or)m(dinary)e(commands)g(ar)m(e)g
(available)g(when)h(in)f(inspection)h(mode.)74 b(Similarly)-20
b(,)52 b(the)f(in-)332 7847 y(spection)46 b(commands)e(can)h(be)g(used)
h(when)f(not)g(in)h(inspection)f(mode.)57 b(For)46 b(example:)663
8327 y Fn(>)109 b(\(list)h('a)f('\(b)g(c\))g('d\))663
8574 y('\(a)g(\(b)g(c\))h(d\))663 8821 y(>)f(,1)663 9067
y('\(b)g(c\))663 9314 y(>)g(,menu)663 9561 y([0])g(b)663
9808 y([1])g(c)663 10055 y(>)614 10514 y Fr(If)37 b(the)h(curr)m(ent)e
(command)g(level)g(was)h(initiated)g(because)f(of)h(a)g(br)m(eakpoint)g
(in)g(the)g(next)g(level)332 10740 y(down,)55 b(then)e
Fn(,debug)g Fr(will)f(invoke)h(the)f(inspector)h(on)g(the)g
(continuation)f(at)h(the)g(point)g(of)g(the)332 10966
y(err)m(or)-13 b(.)105 b(The)62 b Fn(u)f Fr(and)h Fn(d)f
Fr(\(up)g(and)h(down\))f(commands)g(then)g(make)g(the)h
(inspected-value)f(stack)332 11191 y(look)54 b(like)f(a)g(conventional)
f(stack)h(debugger)-13 b(,)55 b(with)d(continuations)h(playing)g(the)g
(r)m(ole)g(of)g(stack)332 11417 y(frames.)58 b Fn(D)47
b Fr(goes)g(to)f(older)h(or)f(deeper)h(continuations)f(\(frames\),)f
(and)h Fn(u)g Fr(goes)h(back)f(up)g(to)h(mor)m(e)332
11643 y(r)m(ecent)e(ones.)3661 12141 y(12)p eop end
%%Page: 13 19
TeXDict begin 13 18 bop 166 1146 a Fk(3.8)238 b(Command)58
b(programs)166 1573 y Fr(The)43 b Fn(exec)h Fr(package)e(contains)h(pr)
m(ocedur)m(es)f(that)h(ar)m(e)g(used)g(to)g(execute)g(the)g(command)f
(pr)m(oces-)166 1799 y(sor)13 b('s)48 b(commands.)62
b(A)47 b(command)g Fn(,)p Fq(foo)f Fr(is)i(executed)f(by)g(applying)h
(the)f(value)g(of)g(the)h(identi\002er)166 2024 y Fq(foo)c
Fr(in)i(the)f Fn(exec)h Fr(package)g(to)g(the)f(\(suitably)g(parsed\))g
(command)f(ar)m(guments.)257 2462 y Fn(,exec)109 b([)p
Fq(command)p Fn(])621 2688 y Fr(Evaluate)45 b Fq(command)g
Fr(in)h(the)f Fn(exec)h Fr(package.)57 b(For)46 b(example,)f(use)951
3076 y Fn(,exec)110 b(,load)f Fq(\002lename)621 3461
y Fr(to)54 b(load)h(a)f(\002le)g(containing)f(commands.)82
b(If)54 b(no)g Fq(command)h Fr(is)f(given,)i(the)e Fn(exec)h
Fr(package)621 3687 y(becomes)44 b(the)i(execution)f(package)h(for)f
(futur)m(e)f(commands.)448 4125 y(The)i(r)m(equir)m(ed)e(ar)m(gument)h
(types)h(ar)m(e)f(as)g(follows:)439 4510 y Fj(\017)91
b Fr(\002lenames)44 b(should)i(be)f(strings)439 4896
y Fj(\017)91 b Fr(other)45 b(names)g(and)g(identi\002ers)h(should)f(be)
g(symbols)439 5281 y Fj(\017)91 b Fr(expr)m(essions)45
b(should)g(be)g(s-expr)m(essions)439 5667 y Fj(\017)91
b Fr(commands)g(\(as)g(for)h Fn(,config)h Fr(and)f Fn(,exec)g
Fr(itself\))g(should)g(be)f(lists)i(of)f(the)g(form)621
5892 y Fn(\()p Fq(command-name)109 b(ar)m(gument)f(...)p
Fn(\))58 b Fr(wher)m(e)44 b Fq(command-name)i Fr(is)f(a)g(symbol.)448
6278 y(For)h(example,)f(the)h(following)f(two)h(commands)e(ar)m(e)h
(equivalent:)497 6666 y Fn(,config)109 b(,load)h(my-file.scm)497
7122 y(,exec)f(\(config)h('\(load)g("my-file.scm"\)\))448
7508 y Fr(The)56 b(\002le)f Fn(scheme/vm/load-vm.scm)i
Fr(in)e(the)h(sour)m(ce)e(dir)m(ectory)h(contains)g(an)g(example)166
7734 y(of)45 b(an)g Fn(exec)h Fr(pr)m(ogram.)166 8347
y Fk(3.9)238 b(Building)59 b(images)257 8774 y Fn(,dump)109
b Fq(\002lename)g Fn([)p Fq(identi\002cation)p Fn(])621
8999 y Fr(W)-13 b(rites)64 b(the)i(curr)m(ent)e(heap)h(out)g(to)h(a)f
(\002le,)71 b(which)64 b(can)h(then)g(be)g(r)o(un)f(using)g(the)i
(virtual)621 9225 y(machine.)i(The)51 b(new)e(image)g(\002le)h
(includes)f(the)h(command)f(pr)m(ocessor)-13 b(.)70 b(If)50
b(pr)m(esent,)h Fq(iden-)621 9451 y(ti\002cation)45 b
Fr(should)i(be)g(a)g(string)h(\(written)e(with)i(double)e(quotes\);)j
(this)f(string)f(will)g(be)g(part)621 9677 y(of)e(the)g(gr)m(eeting)h
(message)f(as)h(the)f(image)g(starts)h(up.)257 10062
y Fn(,build)110 b Fq(exp)e(\002lename)621 10288 y Fr(Like)39
b Fn(,dump)p Fr(,)i(except)e(that)h(the)f(image)g(\002le)g(contains)g
(the)g(value)f(of)h Fq(exp)p Fr(,)i(which)d(should)g(be)621
10514 y(a)43 b(pr)m(ocedur)m(e)g(of)h(one)g(ar)m(gument,)f(instead)h
(of)g(the)g(command)e(pr)m(ocessor)-13 b(.)56 b(When)44
b Fq(\002lename)621 10740 y Fr(is)58 b(r)m(esumed,)j(that)d(pr)m
(ocedur)m(e)g(will)g(be)f(invoked)i(on)f(the)h(VM's)f
Fn(-a)g Fr(ar)m(guments,)j(which)621 10966 y(ar)m(e)j(passed)h(as)g(a)g
(list)g(of)g(strings.)115 b(The)65 b(pr)m(ocedur)m(e)f(should)h(r)m
(eturn)f(an)g(integer)h(which)621 11191 y(is)56 b(r)m(eturned)g(to)g
(the)h(pr)m(ogram)f(that)g(invoked)g(the)h(VM.)g(The)g(command)e(pr)m
(ocessor)h(and)621 11417 y(debugging)f(system)h(ar)m(e)g(not)g
(included)g(in)f(the)i(image)e(\(unless)h(you)g(go)g(to)h(some)f(ef)m
(fort)621 11643 y(to)46 b(pr)m(eserve)f(them,)g(such)g(as)h(r)m
(etaining)e(a)i(continuation\).)3495 12141 y(13)p eop
end
%%Page: 14 20
TeXDict begin 14 19 bop 787 1146 a Fr(Doing)53 b Fn(,flush)h
Fr(befor)m(e)f(building)f(an)i(image)f(will)g(r)m(educe)g(the)g(amount)
g(of)h(debugging)787 1372 y(information)65 b(in)i(the)f(image,)72
b(making)66 b(for)g(a)h(smaller)f(image)g(\002le,)72
b(but)66 b(if)g(an)g(err)m(or)h(oc-)787 1597 y(curs,)81
b(the)75 b(err)m(or)f(message)h(may)f(be)g(less)h(helpful.)143
b(Doing)74 b Fn(,flush)110 b(source)g(maps)787 1823 y
Fr(befor)m(e)61 b(loading)h(any)g(pr)m(ograms)f(used)h(in)g(the)h
(image)e(will)h(make)f(it)i(still)f(smaller)-13 b(.)105
b(See)787 2049 y(section)45 b(3.10)h(for)f(mor)m(e)g(information.)332
2633 y Fk(3.10)238 b(Resource)58 b(query)i(and)f(control)332
3055 y Fr(.)423 3404 y Fn(,time)110 b Fq(exp)787 3629
y Fr(Measur)m(e)44 b(execution)i(time.)423 3979 y Fn(,collect)787
4205 y Fr(Invoke)74 b(the)f(garbage)g(collector)-13 b(.)141
b(Or)m(dinarily)73 b(this)h(happens)g(automatically)-20
b(,)80 b(but)73 b(the)787 4431 y(command)44 b(tells)i(how)f(much)f
(space)i(is)f(available)f(befor)m(e)h(and)g(after)g(the)h(collection.)
423 4781 y Fn(,keep)110 b Fq(kind)423 4949 y Fn(,flush)g
Fq(kind)787 5174 y Fr(These)71 b(contr)m(ol)f(the)h(amount)f(of)h
(debugging)f(information)g(r)m(etained)g(after)h(compiling)787
5400 y(pr)m(ocedur)m(es.)55 b(This)44 b(information)e(can)h(consume)g
(a)g(fair)g(amount)g(of)g(space.)56 b Fq(kind)43 b Fr(is)h(one)f(of)787
5626 y(the)i(following:)1005 5976 y Fj(\017)91 b Fn(maps)45
b Fr(-)g(envir)m(onment)g(maps)g(\(local)g(variable)f(names,)h(for)g
(inspector\))1005 6242 y Fj(\017)91 b Fn(source)46 b
Fr(-)f(sour)m(ce)f(code)i(for)f(continuations)g(\(displayed)h(by)f
(inspector\))1005 6509 y Fj(\017)91 b Fn(names)46 b Fr(-)f(pr)m(ocedur)
m(e)f(names)h(\(as)g(displayed)h(by)f Fn(write)h Fr(and)f(in)h(err)m
(or)f(messages\))1005 6776 y Fj(\017)91 b Fn(files)46
b Fr(-)f(sour)m(ce)f(\002le)i(names)787 7126 y(These)67
b(commands)e(r)m(efer)h(to)h(futur)m(e)e(compilations)h(only)-20
b(,)72 b(not)67 b(to)g(pr)m(ocedur)m(es)f(that)h(al-)787
7351 y(r)m(eady)50 b(exist.)72 b(T)-17 b(o)51 b(have)f(any)h(ef)m
(fect,)g(they)g(must)f(be)g(done)h(befor)m(e)e(pr)m(ograms)h(ar)m(e)g
(loaded.)787 7577 y(The)45 b(default)g(is)h(to)g(keep)g(all)f(four)g
(types.)423 7927 y Fn(,flush)787 8153 y Fr(The)57 b(\003ush)f(command)f
(with)i(no)g(ar)m(gument)e(deletes)j(the)f(database)f(of)h(names)f(of)g
(initial)787 8379 y(pr)m(ocedur)m(es.)124 b(Doing)68
b Fn(,flush)g Fr(befor)m(e)f(a)h Fn(,build)h Fr(or)f
Fn(,dump)h Fr(will)e(make)h(the)g(r)m(esult-)787 8604
y(ing)47 b(image)g(signi\002cantly)g(smaller)-13 b(,)47
b(but)f(will)h(compr)m(omise)g(the)g(information)g(content)g(of)787
8830 y(many)d(err)m(or)h(messages.)332 9415 y Fk(3.11)238
b(Threads)332 9836 y Fr(Each)47 b(command)g(level)g(has)g(its)h(own)f
(set)h(of)f(thr)m(eads.)63 b(These)48 b(thr)m(eads)f(ar)m(e)h
(suspended)f(when)g(a)332 10062 y(new)53 b(level)h(is)f(enter)m(ed)h
(and)f(r)m(esumed)g(when)g(the)h(owning)f(level)g(again)g(becomes)g
(the)h(curr)m(ent)332 10288 y(level.)i(A)44 b(thr)m(ead)f(that)h
(raises)f(an)h(err)m(or)f(is)g(not)h(r)m(esumed)f(unless)g(explicitly)g
(r)m(estarted)h(using)f(the)332 10514 y Fn(,proceed)48
b Fr(command.)59 b(In)47 b(addition)g(to)g(any)g(thr)m(eads)f(spawned)h
(by)f(the)h(user)-13 b(,)47 b(each)f(level)g(has)332
10740 y(a)52 b(thr)m(ead)f(that)h(r)o(uns)e(the)i(command)f(pr)m
(ocessor)h(on)f(that)h(level.)75 b(A)52 b(new)f(command-pr)m(ocessor)
332 10966 y(thr)m(ead)60 b(is)f(started)i(if)e(the)h(curr)m(ent)f(one)h
(dies)g(or)f(is)h(terminated.)100 b(When)59 b(a)h(command)f(level)g(is)
332 11191 y(abandoned)68 b(for)f(a)h(lower)g(level,)74
b(or)68 b(when)f(a)h(level)g(is)g(r)m(estarted)g(using)g
Fn(,reset)p Fr(,)74 b(all)68 b(of)g(the)332 11417 y(thr)m(eads)45
b(on)h(that)g(level)f(ar)m(e)g(terminated)g(and)g(any)h
Fn(dynamic-wind)g Fr(\223after)13 b(\224)45 b(thunks)h(ar)m(e)f(r)o
(un.)614 11643 y(The)h(following)f(commands)f(ar)m(e)h(useful)g(when)g
(debugging)f(multithr)m(eaded)h(pr)m(ograms:)3661 12141
y(14)p eop end
%%Page: 15 21
TeXDict begin 15 20 bop 257 1146 a Fn(,threads)621 1372
y Fr(Invokes)38 b(the)g(inspector)h(on)f(a)g(list)h(of)f(the)g(thr)m
(eads)g(r)o(unning)e(at)j(the)f(next)g(lower)g(command)621
1597 y(level.)257 1973 y Fn(,exit-when-done)110 b([)p
Fq(exp)p Fn(])621 2198 y Fr(W)-17 b(aits)53 b(until)f(all)h(user)f(thr)
m(eads)h(have)f(completed)h(and)g(then)g(exits)g(back)f(out)h(to)h
(shell)e(\(or)621 2424 y(executive)35 b(or)i(whatever)f(invoked)g
(Scheme)g(48)g(in)h(the)f(\002rst)h(place\).)53 b Fq(Exp)36
b Fr(should)h(evaluate)621 2650 y(to)46 b(an)f(integer)g(which)g(is)g
(then)h(r)m(eturned)e(to)i(the)g(calling)f(pr)m(ogram.)166
3247 y Fk(3.12)238 b(Quite)58 b(obscure)257 3669 y Fn(,go)109
b Fq(exp)621 3895 y Fr(This)67 b(is)g(like)g Fn(,exit)110
b Fq(exp)66 b Fr(except)i(that)f(the)g(evaluation)g(of)g
Fq(exp)f Fr(is)h(tail-r)m(ecursive)e(with)621 4121 y(r)m(espect)71
b(to)h(the)g(command)f(pr)m(ocessor)-13 b(.)135 b(This)72
b(means)f(that)h(the)f(command)g(pr)m(ocessor)621 4347
y(itself)46 b(can)f(pr)m(obably)h(be)g(GC'ed,)g(should)g(a)g(garbage)g
(collection)g(occur)g(in)g(the)g(execution)621 4573 y(of)f
Fq(exp)p Fr(.)56 b(If)45 b(an)h(err)m(or)f(occurs)f(Scheme)i(48)f(will)
g(exit)g(with)g(a)h(non-zer)m(o)e(value.)257 4948 y Fn(,translate)110
b Fq(fr)m(om)e(to)621 5174 y Fr(For)64 b Fn(load)g Fr(and)g(the)g
Fn(,load)h Fr(command)e(\(but)f(not)j(for)e Fn(open-)p
Fj(f)p Fn(in|out)p Fj(g)p Fn(put-file)p Fr(\),)621 5400
y(\002le)45 b(names)g(beginning)g(with)g(the)h(string)g
Fq(fr)m(om)e Fr(will)h(be)h(changed)f(so)h(that)g(the)g(initial)f
Fq(fr)m(om)621 5625 y Fr(is)g(r)m(eplaced)g(by)g(the)h(string)f
Fq(to)p Fr(.)56 b(E.g.)951 6001 y Fn(,translate)110 b(/usr/gjc/)g
(/zu/gjc/)621 6376 y Fr(will)59 b(cause)h Fn(\(load)110
b("/usr/gjc/foo.scm"\))62 b Fr(to)f(have)f(the)h(same)f(ef)m(fect)f(as)
i Fn(\(load)621 6602 y("/zu/gjc/foo.scm"\))p Fr(.)257
6977 y Fn(,from-file)110 b Fq(\002lename)e(form)h Fn(...)g(,end)621
7203 y Fr(This)48 b(is)f(used)h(by)f(the)h Fn(cmuscheme48)h
Fr(Emacs)e(library)f(to)j(indicate)e(the)h(\002le)g(fr)m(om)e(which)621
7429 y(the)55 b Fq(form)p Fr(s)g(came.)85 b Fq(Filename)55
b Fr(is)g(then)g(used)g(by)g(the)h(command)e(pr)m(ocessor)h(to)h
(determine)621 7654 y(the)45 b(package)h(in)f(which)f(the)i
Fq(form)p Fr(s)f(ar)m(e)g(to)h(be)f(evaluated.)3495 12141
y(15)p eop end
%%Page: 16 22
TeXDict begin 16 21 bop 332 2391 a Fm(Chapter)87 b(4)332
3222 y Fp(Module)103 b(system)332 4145 y Fr(This)68 b(chapter)g
(describes)g(Scheme)f(48's)h(module)f(system.)125 b(The)68
b(module)g(system)g(is)g(unique)332 4371 y(in)f(the)g(extent)g(to)h
(which)e(it)h(supports)h(both)e(static)i(linking)e(and)h(rapid)g
(turnar)m(ound)f(during)332 4597 y(pr)m(ogram)55 b(development.)87
b(The)56 b(design)g(was)f(in\003uenced)f(by)h(Standar)m(d)h(ML)f
(modules[7)o(])g(and)332 4823 y(by)h(the)g(module)f(system)h(for)g
(Scheme)f(Xer)m(ox[4].)87 b(It)56 b(has)g(also)g(been)g(shaped)g(by)f
(the)h(needs)g(of)332 5048 y(Scheme)37 b(48,)i(which)c(is)i(designed)h
(to)f(r)o(un)f(both)h(on)g(workstations)g(and)g(on)g(r)m(elatively)f
(small)g(\(less)332 5274 y(than)45 b(1)h(Mbyte\))f(embedded)g(contr)m
(ollers.)614 5500 y(Except)g(wher)m(e)f(noted,)i(everything)e
(described)g(her)m(e)h(is)f(implemented)g(in)h(Scheme)f(48,)h(and)332
5726 y(exer)m(cised)g(by)g(the)h(Scheme)f(48)g(implementation)g(and)g
(some)h(application)g(pr)m(ograms.)614 5952 y(Unlike)e(the)g(Common)f
(Lisp)i(package)e(system,)i(the)f(module)f(system)h(described)f(her)m
(e)h(con-)332 6178 y(tr)m(ols)i(the)f(mapping)h(of)f(names)g(to)h
(denotations,)g(not)g(the)g(mapping)f(of)g(strings)h(to)g(symbols.)332
6777 y Fk(4.1)238 b(Introduction)332 7200 y Fr(The)53
b(module)f(system)h(supports)g(the)g(str)o(uctur)m(ed)e(division)i(of)f
(a)h(corpus)f(of)g(Scheme)h(softwar)m(e)332 7426 y(into)48
b(a)f(set)g(of)h(modules.)61 b(Each)47 b(module)g(has)g(its)h(own)e
(isolated)i(namespace,)g(with)f(visibility)f(of)332 7651
y(bindings)41 b(contr)m(olled)h(by)g(module)g(descriptions)g(written)g
(in)g(a)g(special)g Fq(con\002guration)e(language.)614
7877 y Fr(A)54 b(module)e(may)h(be)g(instantiated)g(multiple)f(times,)k
(pr)m(oducing)c(several)h Fq(packages)p Fr(,)h(just)e(as)332
8103 y(a)60 b(lambda-expr)m(ession)f(can)g(be)h(instantiated)h
(multiple)e(times)h(to)h(pr)m(oduce)f(several)f(dif)m(fer)m(ent)332
8329 y(pr)m(ocedur)m(es.)80 b(Since)54 b(single)f(instantiation)h(is)f
(the)h(normal)e(case,)k(we)d(will)g(defer)g(discussion)g(of)332
8555 y(multiple)66 b(instantiation)g(until)g(a)h(later)f(section.)119
b(For)67 b(now)f(you)g(can)g(think)g(of)g(a)h(package)f(as)332
8781 y(simply)45 b(a)h(module's)e(internal)h(envir)m(onment)g(mapping)g
(names)g(to)h(denotations.)614 9007 y(A)36 b(module)e(exports)h
(bindings)f(by)h(pr)m(oviding)f(views)h(onto)g(the)g(underlying)f
(package.)53 b(Such)332 9233 y(a)37 b(view)f(is)h(called)f(a)h
Fq(structur)m(e)e Fr(\(terminology)h(fr)m(om)g(Standar)m(d)h(ML\).)g
(One)f(module)h(may)f(pr)m(ovide)332 9458 y(several)63
b(dif)m(fer)m(ent)g(views.)111 b(A)64 b(str)o(uctur)m(e)e(is)i(just)f
(a)h(subset)f(of)h(the)g(package's)f(bindings.)111 b(The)332
9684 y(particular)45 b(set)h(of)f(names)g(whose)g(bindings)g(ar)m(e)g
(exported)h(is)f(the)h(str)o(uctur)m(e's)e Fq(interface)p
Fr(.)614 9910 y(A)36 b(module)e(imports)h(bindings)f(fr)m(om)g(other)h
(modules)g(by)f(either)h Fq(opening)f Fr(or)h Fq(accessing)e
Fr(some)332 10136 y(str)o(uctur)m(es)71 b(that)h(ar)m(e)g(built)f(on)h
(other)g(packages.)137 b(When)71 b(a)h(str)o(uctur)m(e)f(is)h(opened,)
79 b(all)72 b(of)g(its)332 10362 y(exported)46 b(bindings)f(ar)m(e)g
(visible)g(in)g(the)g(client)h(package.)614 10588 y(For)g(example:)663
10965 y Fn(\(define-structure)110 b(foo)g(\(export)g(a)f(c)g(cons\))881
11191 y(\(open)h(scheme\))881 11417 y(\(begin)g(\(define)f(a)h(1\))1645
11643 y(\(define)f(\(b)h(x\))f(\(+)g(a)g(x\)\))3661 12141
y Fr(16)p eop end
%%Page: 17 23
TeXDict begin 17 22 bop 1479 1146 a Fn(\(define)109 b(\(c)h(y\))f(\(*)g
(\(b)g(a\))h(y\)\)\)\))497 1602 y(\(define-structure)g(bar)g(\(export)f
(d\))715 1830 y(\(open)g(scheme)h(foo\))715 2058 y(\(begin)g(\(define)f
(\(d)h(w\))f(\(+)g(a)g(\(c)h(w\)\)\)\)\))166 2441 y Fr(This)40
b(con\002guration)f(de\002nes)g(two)h(str)o(uctur)m(es,)g
Fn(foo)f Fr(and)h Fn(bar)p Fr(.)55 b Fn(foo)39 b Fr(is)h(a)f(view)g(on)
g(a)h(package)f(in)166 2667 y(which)f(the)g Fn(scheme)h
Fr(str)o(uctur)m(e's)e(bindings)h(\(including)f Fn(define)i
Fr(and)f Fn(+)p Fr(\))h(ar)m(e)f(visible,)h(together)166
2893 y(with)70 b(bindings)f(for)h Fn(a)p Fr(,)77 b Fn(b)p
Fr(,)g(and)70 b Fn(c)p Fr(.)131 b Fn(foo)p Fr('s)70 b(interface)f(is)h
Fn(\(export)110 b(a)f(c)g(cons\))p Fr(,)77 b(so)71 b(of)f(the)166
3119 y(bindings)47 b(in)f(its)i(underlying)e(package,)j
Fn(foo)e Fr(only)g(exports)h(those)g(thr)m(ee.)62 b(Similarly)-20
b(,)47 b(str)o(uctur)m(e)166 3345 y Fn(bar)58 b Fr(consists)g(of)g(the)
g(binding)e(of)i Fn(d)g Fr(fr)m(om)e(a)i(package)g(in)f(which)g(both)h
Fn(scheme)p Fr('s)g(and)f Fn(foo)p Fr('s)166 3571 y(bindings)j(ar)m(e)h
(visible.)102 b Fn(foo)p Fr('s)61 b(binding)f(of)h Fn(cons)g
Fr(is)g(imported)g(fr)m(om)f(the)h(Scheme)f(str)o(uctur)m(e)166
3796 y(and)45 b(then)h(r)m(e-exported.)448 4024 y(A)88
b(module's)f(body)-20 b(,)99 b(the)88 b(part)g(following)f
Fn(begin)h Fr(in)f(the)h(above)f(example,)99 b(is)87
b(evalu-)166 4250 y(ated)c(in)f(an)h(isolated)g(lexical)f(scope)h
(completely)g(speci\002ed)f(by)h(the)g(package)f(de\002nition's)166
4476 y Fn(open)93 b Fr(and)g Fn(access)h Fr(clauses.)198
b(In)93 b(particular)-13 b(,)104 b(the)94 b(binding)e(of)g(the)i
(syntactic)e(operator)166 4702 y Fn(define-structure)46
b Fr(is)e(not)h(visible)e(unless)h(it)g(comes)g(fr)m(om)f(some)i
(opened)g(str)o(uctur)m(e.)55 b(Sim-)166 4928 y(ilarly)-20
b(,)74 b(bindings)67 b(fr)m(om)g(the)h Fn(scheme)h Fr(str)o(uctur)m(e)e
(ar)m(en't)g(visible)g(unless)h(they)h(become)e(so)h(by)166
5153 y Fn(scheme)46 b Fr(\(or)f(an)g(equivalent)g(str)o(uctur)m(e\))f
(being)g(opened.)166 5764 y Fk(4.2)238 b(The)60 b(con\002guration)f
(language)166 6190 y Fr(The)d(con\002guration)f(language)g(consists)g
(of)h(top-level)f(de\002ning)h(forms)e(for)h(modules)g(and)h(in-)166
6416 y(terfaces.)g(Its)46 b(syntax)g(is)f(given)g(in)h(\002gur)m(e)e
(4.2.)448 6644 y(A)67 b Fn(define-structure)h Fr(form)e(intr)m(oduces)g
(a)h(binding)f(of)g(a)h(name)f(to)h(a)g(str)o(uctur)m(e.)119
b(A)166 6870 y(str)o(uctur)m(e)38 b(is)i(a)f(view)g(on)g(an)g
(underlying)g(package)h(which)e(is)h(cr)m(eated)g(accor)m(ding)g(to)h
(the)g(clauses)166 7096 y(of)i(the)g Fn(define-structure)h
Fr(form.)55 b(Each)42 b(str)o(uctur)m(e)e(has)i(an)g(interface)f(that)h
(speci\002es)g(which)166 7321 y(bindings)47 b(in)h(the)g(str)o(uctur)m
(e's)f(underlying)g(package)h(can)g(be)f(seen)h(via)g(that)g(str)o
(uctur)m(e)f(in)h(other)166 7547 y(packages.)448 7775
y(An)65 b Fn(open)g Fr(clause)f(speci\002es)g(which)g(str)o(uctur)m(es)
f(will)h(be)g(opened)h(up)f(for)g(use)h(inside)f(the)166
8001 y(new)50 b(package.)73 b(At)52 b(least)f(one)g(str)o(uctur)m(e)f
(must)g(be)g(speci\002ed)h(or)g(else)g(it)g(will)g(be)f(impossible)g
(to)166 8227 y(write)44 b(any)g(useful)f(pr)m(ograms)g(inside)h(the)h
(package,)f(since)g Fn(define)p Fr(,)i Fn(lambda)p Fr(,)f
Fn(cons)p Fr(,)g(etc.)g(will)166 8453 y(be)62 b(unavailable.)105
b(Packages)62 b(typically)g(include)g Fn(scheme)p Fr(,)67
b(which)61 b(exports)i(all)f(bindings)f(ap-)166 8679
y(pr)m(opriate)51 b(to)f(Revised)1812 8613 y Fl(5)1942
8679 y Fr(Scheme,)h(in)f(an)g Fn(open)h Fr(clause.)70
b(For)50 b(building)f(str)o(uctur)m(es)g(that)i(export)166
8904 y(str)o(uctur)m(es,)g(ther)m(e)f(is)g(a)g Fn(defpackage)i
Fr(package)e(that)h(exports)g(the)f(operators)h(of)f(the)h(con\002gu-)
166 9130 y(ration)58 b(language.)95 b(Many)59 b(other)f(str)o(uctur)m
(es,)j(such)d(as)g(r)m(ecor)m(d)g(and)g(hash)g(table)g(facilities,)j
(ar)m(e)166 9356 y(also)46 b(available)e(in)h(the)h(Scheme)f(48)g
(implementation.)448 9584 y(The)59 b Fn(modify)p Fr(,)j
Fn(subset)p Fr(,)h(and)58 b Fn(prefix)h Fr(forms)e(pr)m(oduce)h(new)g
(views)g(on)g(existing)g(str)o(uc-)166 9810 y(tur)m(es)i(by)h(r)m
(enaming)e(or)i(hiding)g(exported)g(names.)103 b Fn(Subset)61
b Fr(r)m(eturns)f(a)h(new)f(str)o(uctur)m(e)g(that)166
10036 y(exports)f(only)g(the)f(listed)h(names)f(fr)m(om)f(its)i
Fj(h)p Fr(str)o(uctur)m(e)p Fj(i)d Fr(ar)m(gument.)94
b Fn(With-prefix)60 b Fr(r)m(eturns)166 10261 y(a)i(new)h(str)o(uctur)m
(e)e(that)h(adds)h Fj(h)p Fr(pr)m(e\002x)p Fj(i)f Fr(to)h(each)f(of)g
(the)h(names)f(exported)h(by)f(the)h Fj(h)p Fr(str)o(uctur)m(e)p
Fj(i)166 10487 y Fr(ar)m(gument.)56 b(For)45 b(example,)h(if)f(str)o
(uctur)m(e)f Fn(s)h Fr(exports)i Fn(a)e Fr(and)g Fn(b)p
Fr(,)h(then)497 10873 y Fn(\(subset)109 b(s)h(\(a\)\))166
11257 y Fr(exports)46 b(only)g Fn(a)f Fr(and)497 11643
y Fn(\(with-prefix)110 b(s)f(p/\))3495 12141 y Fr(17)p
eop end
%%Page: 18 24
TeXDict begin 18 23 bop 332 1121 a Fj(h)p Fr(con\002guration)p
Fj(i)44 b(\000)-29 b(!)45 b(h)p Fr(de\002nition)p Fj(i)2869
1055 y Fh(\003)332 1347 y Fj(h)p Fr(de\002nition)p Fj(i)g(\000)-30
b(!)91 b Fn(\(define-structure)111 b Fj(h)p Fr(name)p
Fj(i)c(h)p Fr(interface)p Fj(i)h(h)p Fr(clause)p Fj(i)5932
1281 y Fh(\003)6011 1347 y Fn(\))1546 1573 y Fj(j)90
b Fn(\(define-structures)111 b(\(\()p Fj(h)p Fr(name)p
Fj(i)d(h)p Fr(interface)p Fj(i)n Fn(\))5619 1507 y Fh(\003)5698
1573 y Fn(\))h Fj(h)p Fr(clause)p Fj(i)6556 1507 y Fh(\003)6635
1573 y Fn(\))1546 1799 y Fj(j)90 b Fn(\(define-interface)111
b Fj(h)p Fr(name)p Fj(i)c(h)p Fr(interface)p Fj(i)o Fn(\))1546
2024 y Fj(j)90 b Fn(\(define-syntax)110 b Fj(h)p Fr(name)p
Fj(i)e(h)p Fr(transformer)m(-spec)p Fj(i)n Fn(\))332
2250 y Fj(h)p Fr(clause)p Fj(i)44 b(\000)-30 b(!)91 b
Fn(\(open)110 b Fj(h)p Fr(str)o(uctur)m(e)p Fj(i)2919
2184 y Fh(\003)2998 2250 y Fn(\))1260 2476 y Fj(j)90
b Fn(\(access)110 b Fj(h)p Fr(name)p Fj(i)2860 2410 y
Fh(\003)2939 2476 y Fn(\))1260 2702 y Fj(j)90 b Fn(\(begin)110
b Fj(h)p Fr(pr)m(ogram)p Fj(i)o Fn(\))1260 2928 y Fj(j)90
b Fn(\(files)110 b Fj(h)p Fr(\002lespec)p Fj(i)2910 2862
y Fh(\003)2989 2928 y Fn(\))1260 3154 y Fj(j)90 b Fn(\(optimize)110
b Fj(h)p Fr(optimize-spec)p Fj(i)3760 3088 y Fh(\003)3839
3154 y Fn(\))1260 3379 y Fj(j)90 b Fn(\(for-syntax)110
b Fj(h)p Fr(clause)p Fj(i)3350 3313 y Fh(\003)3429 3379
y Fn(\))332 3605 y Fj(h)p Fr(interface)p Fj(i)44 b(\000)-30
b(!)91 b Fn(\(export)110 b Fj(h)p Fr(item)p Fj(i)2973
3539 y Fh(\003)3052 3605 y Fn(\))1458 3831 y Fj(j)90
b(h)p Fr(name)p Fj(i)1458 4057 y(j)g Fn(\(compound-interface)111
b Fj(h)p Fr(interface)p Fj(i)4618 3991 y Fh(\003)4697
4057 y Fn(\))332 4283 y Fj(h)p Fr(item)p Fj(i)45 b(\000)-30
b(!)91 b(h)p Fr(name)p Fj(i)1121 4508 y(j)g Fn(\()p Fj(h)p
Fr(name)p Fj(i)108 b(h)p Fr(type)p Fj(i)p Fn(\))1121
4734 y Fj(j)91 b Fn(\(\()p Fj(h)p Fr(name)p Fj(i)2067
4668 y Fh(\003)2145 4734 y Fn(\))110 b Fj(h)p Fr(type)p
Fj(i)p Fn(\))332 4960 y Fj(h)p Fr(str)o(uctur)m(e)p Fj(i)44
b(\000)-30 b(!)90 b(h)p Fr(name)p Fj(i)1483 5186 y(j)g
Fn(\(modify)110 b Fj(h)p Fr(str)o(uctur)m(e)p Fj(i)d(h)p
Fr(modi\002er)p Fj(i)4303 5120 y Fh(\003)4382 5186 y
Fn(\))1483 5412 y Fj(j)90 b Fn(\(subset)110 b Fj(h)p
Fr(str)o(uctur)m(e)p Fj(i)d Fn(\()p Fj(h)p Fr(name)p
Fj(i)4164 5346 y Fh(\003)4243 5412 y Fn(\)\))1483 5638
y Fj(j)90 b Fn(\(with-prefix)111 b Fj(h)p Fr(str)o(uctur)m(e)p
Fj(i)c(h)p Fr(name)p Fj(i)o Fn(\))332 5863 y Fj(h)p Fr(modi\002er)p
Fj(i)45 b(\000)-30 b(!)91 b Fn(\(expose)109 b Fj(h)p
Fr(name)p Fj(i)3054 5797 y Fh(\003)3133 5863 y Fn(\))1454
6089 y Fj(j)91 b Fn(\(hide)109 b Fj(h)p Fr(name)p Fj(i)2836
6023 y Fh(\003)2915 6089 y Fn(\))1454 6315 y Fj(j)91
b Fn(\(rename)109 b(\()p Fj(h)p Fr(name)p Fj(i)3163 6342
y Fl(0)3351 6315 y Fj(h)p Fr(name)p Fj(i)3937 6342 y
Fl(1)4016 6315 y Fn(\))4125 6249 y Fh(\003)4204 6315
y Fn(\))1454 6541 y Fj(j)91 b Fn(\(alias)109 b(\()p Fj(h)p
Fr(name)p Fj(i)3054 6568 y Fl(0)3242 6541 y Fj(h)p Fr(name)p
Fj(i)3828 6568 y Fl(1)3907 6541 y Fn(\))4016 6475 y Fh(\003)4095
6541 y Fn(\))1454 6767 y Fj(j)91 b Fn(\(prefix)109 b
Fj(h)p Fr(name)p Fj(i)o Fn(\))2171 7584 y Fr(Figur)m(e)45
b(4.1:)57 b(The)46 b(con\002guration)f(language.)332
8155 y(exports)h Fn(a)g Fr(as)f Fn(p/a)h Fr(and)f Fn(b)h
Fr(as)f Fn(p/b)p Fr(.)614 8383 y(Both)84 b Fn(subset)g
Fr(and)f Fn(with-prefix)h Fr(ar)m(e)f(simple)g(macr)m(os)f(that)h
(expand)h(into)f(uses)g(of)332 8609 y Fn(modify)p Fr(,)j(a)78
b(mor)m(e)f(general)g(r)m(enaming)f(form.)152 b(In)77
b(a)h Fn(modify)f Fr(str)o(uctur)m(e)g(speci\002cation)g(the)332
8835 y Fj(h)p Fr(command)p Fj(i)n Fr(s)58 b(ar)m(e)g(applied)g(to)h
(the)f(names)g(exported)g(by)g Fj(h)p Fr(str)o(uctur)m(e)p
Fj(i)e Fr(to)j(pr)m(oduce)e(a)h(new)g(set)332 9060 y(of)50
b(names)f(for)g(the)h Fj(h)p Fr(str)o(uctur)m(e)p Fj(i)n
Fr('s)f(bindings.)69 b Fn(Expose)50 b Fr(makes)g(only)f(the)h(listed)g
(names)f(visible.)332 9286 y Fn(Hide)55 b Fr(makes)g(all)f(but)g(the)h
(listed)g(names)f(visible.)84 b Fn(Rename)55 b Fr(makes)g(each)f
Fj(h)p Fr(name)p Fj(i)6290 9313 y Fl(0)6423 9286 y Fr(visible)g(as)332
9512 y Fj(h)p Fr(name)p Fj(i)918 9539 y Fl(1)1049 9512
y Fr(name)e(and)h(not)g(visible)f(as)h Fj(h)p Fr(name)p
Fj(i)3609 9539 y Fl(0)3741 9512 y Fr(,)i(while)d Fn(alias)h
Fr(makes)f(each)h Fj(h)p Fr(name)p Fj(i)6514 9539 y Fl(0)6646
9512 y Fr(visible)332 9738 y(as)39 b(both)h Fj(h)p Fr(name)p
Fj(i)1530 9765 y Fl(0)1648 9738 y Fr(and)f Fj(h)p Fr(name)p
Fj(i)2581 9765 y Fl(1)2660 9738 y Fr(.)55 b Fn(Prefix)39
b Fr(adds)h Fj(h)p Fr(name)p Fj(i)e Fr(to)i(the)g(beginning)e(of)h
(each)g(exported)332 9964 y(name.)56 b(The)46 b(modi\002ers)f(ar)m(e)g
(applied)h(fr)m(om)f(right)g(to)h(left.)57 b(Thus)663
10352 y Fn(\(modify)110 b(scheme)f(\(prefix)h(foo/\))f(\(rename)h
(\(car)g(bus\)\)\)\))332 10737 y Fr(makes)45 b Fn(car)h
Fr(available)e(as)i Fn(foo/bus)p Fr(..)614 10966 y(The)72
b(package's)g(body)f(is)h(speci\002ed)g(by)f Fn(begin)h
Fr(and/or)g Fn(files)g Fr(clauses.)135 b Fn(begin)72
b Fr(and)332 11191 y Fn(files)64 b Fr(have)f(the)g(same)g(semantics,)68
b(except)63 b(that)h(for)e Fn(begin)i Fr(the)g(text)f(is)h(given)e(dir)
m(ectly)h(in)332 11417 y(the)56 b(package)g(de\002nition,)j(while)c
(for)h Fn(files)g Fr(the)g(text)h(is)e(stor)m(ed)i(somewher)m(e)e(in)g
(the)h(\002le)g(sys-)332 11643 y(tem.)99 b(The)60 b(body)g(consists)g
(of)f(a)h(Scheme)f(pr)m(ogram,)k(that)d(is,)j(a)d(sequence)f(of)g
(de\002nitions)h(and)3661 12141 y(18)p eop end
%%Page: 19 25
TeXDict begin 19 24 bop 166 1146 a Fr(expr)m(essions)50
b(to)h(be)e(evaluated)h(in)f(or)m(der)-13 b(.)70 b(In)50
b(practice,)h(we)f(always)f(use)h Fn(files)h Fr(in)e(pr)m(efer)m(ence)
166 1372 y(to)d Fn(begin)p Fr(;)g Fn(begin)g Fr(exists)g(mainly)f(for)g
(expository)h(purposes.)448 1597 y(A)56 b(name's)d(imported)j(binding)e
(may)g(be)g(lexically)h(overridden)f(or)h Fq(shadowed)f
Fr(by)g(de\002ning)166 1823 y(the)44 b(name)f(using)g(a)g(de\002ning)h
(form)e(such)h(as)h Fn(define)g Fr(or)f Fn(define-syntax)p
Fr(.)58 b(This)44 b(will)e(cr)m(eate)166 2049 y(a)53
b(new)g(binding)f(without)h(having)g(any)g(ef)m(fect)f(on)h(the)g
(binding)g(in)g(the)g(opened)h(package.)80 b(For)166
2275 y(example,)67 b(one)c(can)g(do)g Fn(\(define)109
b(car)h('chevy\))63 b Fr(without)g(af)m(fecting)e(the)i(binding)f(of)h
(the)166 2501 y(name)45 b Fn(car)h Fr(in)f(the)g Fn(scheme)h
Fr(package.)448 2726 y(Assignments)54 b(\(using)e Fn(set!)p
Fr(\))i(to)g(imported)f(and)h(unde\002ned)f(variables)f(ar)m(e)h(not)h
(allowed.)166 2952 y(In)49 b(or)m(der)f(to)h Fn(set!)g
Fr(a)f(top-level)g(variable,)h(the)f(package)h(body)f(must)g(contain)h
(a)f Fn(define)h Fr(form)166 3178 y(de\002ning)40 b(that)g(variable.)53
b(Applied)41 b(to)f(bindings)g(fr)m(om)e(the)i Fn(scheme)g
Fr(str)o(uctur)m(e,)g(this)g(r)m(estriction)166 3404
y(is)45 b(compatible)g(with)g(the)h(r)m(equir)m(ements)e(of)h(the)h
(Revised)4246 3338 y Fl(5)4371 3404 y Fr(Scheme)f(r)m(eport.)448
3630 y(It)d(is)g(an)f(err)m(or)g(for)g(two)h(of)f(a)h(package's)f
(opened)h(str)o(uctur)m(es)e(to)i(export)g(two)g(dif)m(fer)m(ent)e
(bind-)166 3856 y(ings)45 b(for)f(the)g(same)h(name.)56
b(However)-13 b(,)44 b(the)h(curr)m(ent)e(implementation)i(does)g(not)g
(check)f(for)g(this)166 4081 y(situation;)e(a)e(name's)f(binding)g(is)h
(always)g(taken)g(fr)m(om)f(the)h(str)o(uctur)m(e)e(that)i(is)g(listed)
h(\002rst)f(within)166 4307 y(the)46 b Fn(open)f Fr(clause.)57
b(This)45 b(may)g(be)g(\002xed)h(in)f(the)h(futur)m(e.)448
4533 y(File)86 b(names)g(in)g(a)g Fn(files)h Fr(clause)e(can)h(be)g
(symbols,)96 b(strings,)h(or)86 b(lists)h(\(Maclisp-style)166
4759 y(\223namelists\224\).)125 b(A)70 b(\223)p Fn(.scm)p
Fr(\224)e(\002le)h(type)g(suf)m(\002x)f(is)h(assumed.)126
b(Symbols)68 b(ar)m(e)g(converted)h(to)g(\002le)166 4985
y(names)h(by)g(converting)g(to)h(upper)g(or)f(lower)g(case)h(as)f(appr)
m(opriate)h(for)f(the)h(host)g(operating)166 5210 y(system.)152
b(A)78 b(namelist)e(is)h(an)g(operating-system-independent)g(way)g(to)h
(specify)f(a)g(\002le)g(ob-)166 5436 y(tained)59 b(fr)m(om)f(a)g
(subdir)m(ectory)-20 b(.)96 b(For)59 b(example,)j(the)d(namelist)f
Fn(\(rts)109 b(record\))60 b Fr(speci\002es)f(the)166
5662 y(\002le)45 b Fn(record.scm)i Fr(in)e(the)h Fn(rts)f
Fr(subdir)m(ectory)-20 b(.)448 5888 y(If)60 b(the)h Fn
(define-structure)g Fr(form)e(was)h(itself)g(obtained)g(fr)m(om)f(a)h
(\002le,)k(then)c(\002le)h(names)166 6114 y(in)50 b Fn(files)h
Fr(clauses)g(ar)m(e)f(interpr)m(eted)h(r)m(elative)f(to)h(the)g(dir)m
(ectory)f(in)h(which)e(the)i(\002le)g(containing)166
6340 y(the)g Fn(define-structure)i Fr(form)d(was)h(found.)74
b(Y)-17 b(ou)51 b(can't)g(at)g(pr)m(esent)h(put)f(an)g(absolute)g(path)
166 6565 y(name)45 b(in)g(the)h Fn(files)g Fr(list.)166
7163 y Fk(4.3)238 b(Interfaces)166 7584 y Fn(define-interface)448
7810 y Fr(An)48 b(interface)f(can)g(be)g(thought)h(of)g(as)f(the)h
(type)h(of)e(a)h(str)o(uctur)m(e.)62 b(In)47 b(its)h(basic)f(form)g(it)
h(is)g(just)166 8036 y(a)i(list)h(of)f(variable)f(names,)j(written)e
Fn(\(export)110 b Fq(name)f Fn(...\))p Fr(.)71 b(However)-13
b(,)52 b(in)e(place)g(of)g(a)h(name)166 8262 y(one)56
b(may)g(write)f Fn(\()p Fq(name)109 b(type)p Fn(\))p
Fr(,)59 b(indicating)c(the)h(type)h(of)e Fq(name)p Fr('s)h(binding.)87
b(The)56 b(type)h(\002eld)f(is)166 8488 y(optional,)47
b(except)e(that)h(exported)g(macr)m(os)f(must)g(be)g(indicated)g(with)g
(type)h Fn(:syntax)p Fr(.)448 8714 y(Interfaces)41 b(may)f(be)g(either)
h(anonymous,)h(as)e(in)h(the)g(example)f(in)g(the)h(intr)m(oduction,)h
(or)f(they)166 8939 y(may)k(be)g(given)g(names)g(by)g(a)h
Fn(define-interface)g Fr(form,)g(for)f(example)497 9314
y Fn(\(define-interface)110 b(foo-interface)h(\(export)e(a)h(c)f
(cons\)\))497 9540 y(\(define-structure)h(foo)g(foo-interface)g(...\))
166 9914 y Fr(In)56 b(principle,)i(interfaces)d(needn't)g(ever)g(be)g
(named.)87 b(If)55 b(an)h(interface)e(had)i(to)g(be)f(given)g(at)h(the)
166 10140 y(point)i(of)f(a)g(str)o(uctur)m(e's)f(use)h(as)g(well)g(as)g
(at)g(the)h(point)f(of)h(its)f(de\002nition,)k(it)c(would)g(be)g(impor)
m(-)166 10365 y(tant)51 b(to)f(name)g(interfaces)g(in)g(or)m(der)g(to)h
(avoid)f(having)f(to)i(write)f(them)g(out)h(twice,)g(with)f(risk)g(of)
166 10591 y(mismatch)44 b(should)i(the)f(interface)g(ever)g(change.)56
b(But)46 b(they)f(don't.)448 10817 y(Still,)i(ther)m(e)e(ar)m(e)g
(several)g(r)m(easons)g(to)h(use)g Fn(define-interface)p
Fr(:)393 11191 y(1.)92 b(It)54 b(is)h(important)f(to)h(separate)g(the)g
(interface)e(de\002nition)i(fr)m(om)e(the)h(package)h(de\002nitions)621
11417 y(when)d(ther)m(e)h(ar)m(e)f(multiple)h(distinct)g(str)o(uctur)m
(es)e(that)j(have)e(the)h(same)g(interface)f(\227)h(that)621
11643 y(is,)45 b(multiple)g(implementations)h(of)f(the)h(same)f
(abstraction.)3495 12141 y(19)p eop end
%%Page: 20 26
TeXDict begin 20 25 bop 559 1146 a Fr(2.)92 b(It)50 b(is)g
(conceptually)f(cleaner)-13 b(,)50 b(and)f(often)h(useful)f(for)g
(documentation)g(purposes,)j(to)e(sep-)787 1372 y(arate)45
b(a)g(module's)g(speci\002cation)h(\(interface\))d(fr)m(om)i(its)g
(implementation)g(\(package\).)559 1738 y(3.)92 b(Our)36
b(experience)g(is)h(that)g(con\002gurations)g(that)g(ar)m(e)f
(separated)i(into)f(interface)f(de\002nitions)787 1964
y(and)g(package)g(de\002nitions)h(ar)m(e)f(easier)g(to)h(r)m(ead;)i
(the)e(long)f(lists)h(of)f(exported)h(bindings)f(just)787
2190 y(get)46 b(in)f(the)g(way)g(most)h(of)f(the)h(time.)614
2543 y(The)55 b Fn(compound-interface)h Fr(operator)f(forms)f(an)g
(interface)f(that)i(is)f(the)h(union)f(of)g(two)332 2769
y(or)46 b(mor)m(e)f(component)g(interfaces.)56 b(For)46
b(example,)663 3122 y Fn(\(define-interface)110 b(bar-interface)881
3347 y(\(compound-interface)h(foo-interface)f(\(export)g(mumble\)\)\))
332 3701 y Fr(de\002nes)46 b Fn(bar-interface)g Fr(to)g(be)f
Fn(foo-interface)i Fr(with)e(the)h(name)f Fn(mumble)h
Fr(added.)332 4293 y Fk(4.4)238 b(Macros)332 4715 y Fr(Hygienic)76
b(macr)m(os,)84 b(as)76 b(described)g(in)g([2,)h(3],)84
b(ar)m(e)76 b(implemented.)149 b(Str)o(uctur)m(es)76
b(may)g(export)332 4941 y(macr)m(os;)68 b(auxiliary)60
b(names)g(intr)m(oduced)g(into)h(the)g(expansion)g(ar)m(e)f(r)m
(esolved)h(in)f(the)h(envir)m(on-)332 5167 y(ment)45
b(of)h(the)f(macr)m(o's)f(de\002nition.)614 5393 y(For)i(example,)g
(the)f Fn(scheme)h Fr(str)o(uctur)m(e's)e Fn(delay)i
Fr(macr)m(o)e(is)i(de\002ned)f(by)g(the)h(r)m(ewrite)f(r)o(ule)663
5746 y Fn(\(delay)109 b Fq(exp)p Fn(\))218 b Fg(=)-30
b Fj(\))218 b Fn(\(make-promise)111 b(\(lambda)e(\(\))h
Fq(exp)p Fn(\)\).)332 6099 y Fr(The)58 b(variable)f Fn(make-promise)i
Fr(is)f(de\002ned)g(in)f(the)h Fn(scheme)g Fr(str)o(uctur)m(e's)e
(underlying)i(pack-)332 6325 y(age,)69 b(but)64 b(is)g(not)g(exported.)
113 b(A)64 b(use)g(of)g(the)g Fn(delay)h Fr(macr)m(o,)j(however)-13
b(,)68 b(always)63 b(accesses)h(the)332 6551 y(corr)m(ect)h
(de\002nition)g(of)g Fn(make-promise)p Fr(.)116 b(Similarly)-20
b(,)70 b(the)65 b Fn(case)h Fr(macr)m(o)e(expands)h(into)g(uses)332
6776 y(of)d Fn(cond)p Fr(,)68 b Fn(eqv?)p Fr(,)f(and)62
b(so)h(on.)108 b(These)63 b(names)f(ar)m(e)g(exported)h(by)f
Fn(scheme)p Fr(,)67 b(but)62 b(their)h(corr)m(ect)332
7002 y(bindings)42 b(will)g(be)h(found)f(even)g(if)h(they)g(ar)m(e)f
(shadowed)h(by)f(de\002nitions)h(in)g(the)g(client)g(package.)332
7595 y Fk(4.5)238 b(Higher)l(-order)58 b(modules)332
8017 y Fr(Ther)m(e)36 b(ar)m(e)g Fn(define-module)i Fr(and)e
Fn(define)g Fr(forms)g(for)g(de\002ning)g(modules)g(that)g(ar)m(e)g
(intended)332 8243 y(to)55 b(be)f(instantiated)h(multiple)g(times.)84
b(But)54 b(these)h(ar)m(e)g(pr)m(etty)g(kludgey)f(\227)h(for)f
(example,)j(com-)332 8469 y(piled)e(code)f(isn't)g(shar)m(ed)g(between)
f(the)i(instantiations)f(\227)g(so)h(we)f(won't)g(describe)f(them)h
(yet.)332 8694 y(If)45 b(you)h(must)f(know)-17 b(,)46
b(\002gur)m(e)f(it)g(out)h(fr)m(om)e(the)i(following)f(grammar)-13
b(.)696 9048 y Fj(h)p Fr(de\002nition)p Fj(i)45 b(\000)-30
b(!)91 b Fn(\(define-module)110 b(\()p Fj(h)p Fr(name)p
Fj(i)e Fn(\()p Fj(h)p Fr(name)p Fj(i)g(h)p Fr(interface)p
Fj(i)n Fn(\))6241 8982 y Fh(\003)6320 9048 y Fn(\))2269
9273 y Fj(h)p Fr(de\002nition)p Fj(i)3194 9207 y Fh(\003)2269
9499 y Fj(h)p Fr(name)p Fj(i)o Fn(\))1909 9725 y Fj(j)91
b Fn(\(define)109 b Fj(h)p Fr(name)p Fj(i)f Fn(\()p Fj(h)p
Fr(name)p Fj(i)g(h)p Fr(name)p Fj(i)5008 9659 y Fh(\003)5087
9725 y Fn(\)\))332 10318 y Fk(4.6)238 b(Compiling)58
b(and)h(linking)332 10740 y Fr(Scheme)43 b(48)f(has)h(a)f(static)h
(linker)f(that)h(pr)m(oduces)g(stand-alone)f(heap)h(images)f(fr)m(om)g
(module)g(de-)332 10966 y(scriptions.)75 b(The)52 b(pr)m(ogrammer)f
(speci\002es)g(a)h(particular)e(pr)m(ocedur)m(e)h(in)g(a)h(particular)e
(str)o(uctur)m(e)332 11191 y(to)60 b(be)g(the)g(image's)e(startup)i(pr)
m(ocedur)m(e)f(\(entry)h(point\),)k(and)59 b(the)h(linker)f(traces)h
(dependency)332 11417 y(links)44 b(as)h(given)f(by)g
Fn(open)h Fr(and)f Fn(access)h Fr(clauses)f(to)h(determine)f(the)g
(composition)h(of)f(the)h(heap)332 11643 y(image.)3661
12141 y(20)p eop end
%%Page: 21 27
TeXDict begin 21 26 bop 448 1146 a Fr(Ther)m(e)41 b(is)f(not)h(curr)m
(ently)e(any)i(pr)m(ovision)f(for)g(separate)h(compilation;)h(the)f
(only)g(input)f(to)h(the)166 1372 y(static)63 b(linker)g(is)h(sour)m
(ce)e(code.)111 b(However)-13 b(,)67 b(it)d(will)e(not)i(be)f(dif)m
(\002cult)f(to)i(implement)f(separate)166 1597 y(compilation.)i(The)49
b(unit)e(of)h(compilation)g(is)h(one)f(module)g(\(not)g(one)g
(\002le\).)65 b(Any)49 b(opened)g(or)f(ac-)166 1823 y(cessed)i(str)o
(uctur)m(es)f(fr)m(om)g(which)g(macr)m(os)g(ar)m(e)h(obtained)g(must)f
(be)h(pr)m(ocessed)g(to)h(the)f(extent)g(of)166 2049
y(extracting)e(its)g(macr)m(o)f(de\002nitions.)66 b(The)48
b(compiler)g(knows)g(fr)m(om)f(the)h(interface)g(of)g(an)f(opened)166
2275 y(or)61 b(accessed)g(str)o(uctur)m(e)e(which)h(of)g(its)h(exports)
h(ar)m(e)e(macr)m(os.)102 b(Except)61 b(for)g(macr)m(os,)j(a)d(module)
166 2501 y(may)40 b(be)h(compiled)f(without)h(any)f(knowledge)h(of)f
(the)h(implementation)g(of)f(its)h(opened)g(and)g(ac-)166
2726 y(cessed)e(str)o(uctur)m(es.)54 b(However)-13 b(,)40
b(inter)m(-module)e(optimization)h(may)f(be)h(available)f(as)h(an)g
(option.)448 2958 y(The)58 b(main)f(dif)m(\002culty)f(with)i(separate)g
(compilation)f(is)h(r)m(esolution)f(of)g(auxiliary)g(bindings)166
3183 y(intr)m(oduced)48 b(into)g(macr)m(o)f(expansions.)65
b(The)48 b(module)g(compiler)g(must)f(transmit)h(to)h(the)f(loader)166
3409 y(or)e(linker)g(the)h(sear)m(ch)e(path)i(by)f(which)f(such)h
(bindings)f(ar)m(e)h(to)h(be)f(r)m(esolved.)59 b(In)46
b(the)h(case)f(of)g(the)166 3635 y Fn(delay)65 b Fr(macr)m(o's)f
(auxiliary)f Fn(make-promise)j Fr(\(see)f(example)f(above\),)70
b(the)65 b(loader)g(or)f(linker)166 3861 y(needs)73 b(to)f(know)g(that)
h(the)g(desir)m(ed)f(binding)f(of)h Fn(make-promise)i
Fr(is)e(the)g(one)h(appar)m(ent)f(in)166 4087 y Fn(delay)p
Fr('s)46 b(de\002ning)f(package,)h(not)g(in)f(the)g(package)h(being)f
(loaded)h(or)f(linked.)166 4717 y Fk(4.7)238 b(Semantics)58
b(of)i(con\002guration)f(mutation)166 5150 y Fr(During)54
b(pr)m(ogram)g(development)h(it)g(is)g(often)g(desirable)f(to)h(make)g
(changes)f(to)h(packages)g(and)166 5376 y(interfaces.)h(In)46
b(static)f(languages)g(it)g(may)g(be)g(necessary)g(to)h(r)m(ecompile)f
(and)g(r)m(e-link)f(a)i(pr)m(ogram)166 5602 y(in)37 b(or)m(der)h(for)f
(such)f(changes)h(to)h(be)g(r)m(e\003ected)e(in)i(a)f(r)o(unning)f
(system.)54 b(Even)38 b(in)f(interactive)g(Com-)166 5827
y(mon)53 b(Lisp)g(implementations,)i(a)e(change)g(to)g(a)g(package's)g
(exports)h(often)f(r)m(equir)m(es)e(r)m(eloading)166
6053 y(clients)61 b(that)g(have)g(alr)m(eady)g(mentioned)g(names)g
(whose)g(bindings)f(change.)104 b(Once)60 b Fn(read)i
Fr(r)m(e-)166 6279 y(solves)41 b(a)h(use)f(of)g(a)g(name)f(to)i(a)f
(symbol,)h(that)g(r)m(esolution)f(is)g(\002xed,)h(so)g(a)f(change)g(in)
g(the)g(way)g(that)166 6505 y(a)k(name)g(r)m(esolves)g(to)h(a)g(symbol)
f(can)g(only)g(be)g(r)m(e\003ected)g(by)g(r)m(e-)p Fn(read)p
Fr(ing)g(all)g(such)g(r)m(efer)m(ences.)448 6736 y(The)65
b(Scheme)f(48)g(development)g(envir)m(onment)f(supports)i(rapid)f
(turnar)m(ound)f(in)h(modu-)166 6962 y(lar)d(pr)m(ogram)g(development)h
(by)f(allowing)g(mutations)g(to)h(a)f(pr)m(ogram's)g(con\002guration,)k
(and)166 7188 y(giving)42 b(a)f(clear)h(semantics)f(to)i(such)e
(mutations.)55 b(The)43 b(r)o(ule)e(is)h(that)g(variable)f(bindings)g
(in)h(a)g(r)o(un-)166 7414 y(ning)53 b(pr)m(ogram)g(ar)m(e)g(always)g
(r)m(esolved)g(accor)m(ding)f(to)i(curr)m(ent)e(str)o(uctur)m(e)g(and)i
(interface)e(bind-)166 7639 y(ings,)62 b(even)c(when)f(these)i
(bindings)e(change)h(as)g(a)g(r)m(esult)g(of)g(edits)g(to)h(the)f
(con\002guration.)95 b(For)166 7865 y(example,)46 b(consider)f(the)g
(following:)497 8267 y Fn(\(define-interface)110 b(foo-interface)h
(\(export)e(a)h(c\)\))497 8499 y(\(define-structure)g(foo)g
(foo-interface)715 8730 y(\(open)f(scheme\))715 8961
y(\(begin)h(\(define)f(a)g(1\))1479 9192 y(\(define)g(\(b)h(x\))f(\(+)g
(a)g(x\)\))1479 9424 y(\(define)g(\(c)h(y\))f(\(*)g(\(b)g(a\))h
(y\)\)\)\))497 9655 y(\(define-structure)g(bar)g(\(export)f(d\))715
9886 y(\(open)g(scheme)h(foo\))715 10117 y(\(begin)g(\(define)f(\(d)h
(w\))f(\(+)g(\(b)g(w\))h(a\)\)\)\))166 10514 y Fr(This)59
b(pr)m(ogram)f(has)h(a)f(bug.)96 b(The)59 b(variable)f
Fn(b)p Fr(,)63 b(which)57 b(is)i(fr)m(ee)f(in)g(the)h(de\002nition)g
(of)g Fn(d)p Fr(,)j(has)d(no)166 10740 y(binding)52 b(in)h
Fn(bar)p Fr('s)g(package.)79 b(Suppose)55 b(that)e Fn(b)g
Fr(was)g(supposed)g(to)h(be)f(exported)g(by)g Fn(foo)p
Fr(,)j(but)166 10966 y(was)49 b(omitted)h(fr)m(om)f Fn(foo-interface)h
Fr(by)f(mistake.)69 b(It)50 b(is)g(not)g(necessary)f(to)h(r)m(e-pr)m
(ocess)f Fn(bar)166 11191 y Fr(or)60 b(any)h(of)f Fn(foo)p
Fr('s)g(other)g(clients)h(at)f(this)g(point.)102 b(One)60
b(need)h(only)f(change)g Fn(foo-interface)166 11417 y
Fr(and)45 b(inform)g(the)g(development)h(system)g(of)f(that)h(change)f
(\(using,)g(say)-20 b(,)45 b(an)h(appr)m(opriate)g(Emacs)166
11643 y(command\),)e(and)i Fn(foo)p Fr('s)f(binding)g(of)g
Fn(b)g Fr(will)g(be)g(found)g(when)g(pr)m(ocedur)m(e)g
Fn(d)g Fr(is)h(called.)3495 12141 y(21)p eop end
%%Page: 22 28
TeXDict begin 22 27 bop 614 1146 a Fr(Similarly)-20 b(,)57
b(it)d(is)g(also)h(possible)f(to)h(r)m(eplace)f(a)g(str)o(uctur)m(e;)k
(clients)c(of)g(the)g(old)h(str)o(uctur)m(e)e(will)332
1372 y(be)41 b(modi\002ed)h(so)g(that)g(they)g(see)f(bindings)g(fr)m
(om)g(the)h(new)f(one.)55 b(Shadowing)42 b(is)g(also)f(supported)332
1597 y(in)50 b(the)h(same)f(way)-20 b(.)71 b(Suppose)52
b(that)e(a)h(client)f(package)g Ff(C)64 b Fr(opens)51
b(a)f(str)o(uctur)m(e)f Fn(foo)i Fr(that)f(exports)332
1823 y(a)42 b(name)g Fn(x)p Fr(,)i(and)e Fn(foo)p Fr('s)g
(implementation)g(obtains)g(the)h(binding)e(of)h Fn(x)h
Fr(as)f(an)g(import)h(fr)m(om)e(some)332 2049 y(other)51
b(str)o(uctur)m(e)e Fn(bar)p Fr(.)72 b(Then)51 b Ff(C)63
b Fr(will)50 b(see)g(the)h(binding)f(fr)m(om)f Fn(bar)p
Fr(.)72 b(If)50 b(one)h(then)f(alters)h Fn(foo)g Fr(so)332
2275 y(that)f(it)f(shadows)h Fn(bar)p Fr('s)f(binding)g(of)g
Fn(x)g Fr(with)g(a)h(de\002nition)f(of)h(its)f(own,)i(then)e(pr)m
(ocedur)m(es)g(in)g Ff(C)332 2501 y Fr(that)60 b(r)m(efer)m(ence)e
Fn(x)i Fr(will)f(automatically)g(see)h Fn(foo)p Fr('s)g(de\002nition)g
(instead)g(of)f(the)h(one)g(fr)m(om)f Fn(bar)332 2726
y Fr(that)46 b(they)g(saw)f(earlier)-13 b(.)614 2957
y(This)75 b(semantics)e(might)g(appear)i(to)f(r)m(equir)m(e)f(a)g(lar)m
(ge)h(amount)f(of)h(computation)g(on)g(ev-)332 3183 y(ery)53
b(variable)g(r)m(efer)m(ence:)71 b(The)53 b(speci\002ed)h(behavior)f(r)
m(equir)m(es)f(scanning)g(the)i(package's)f(list)g(of)332
3409 y(opened)f(str)o(uctur)m(es,)f(examining)f(their)h(interfaces,)h
(on)f(every)f(variable)g(r)m(efer)m(ence,)h(not)g(just)g(at)332
3635 y(compile)39 b(time.)55 b(However)-13 b(,)40 b(the)g(development)g
(envir)m(onment)e(uses)h(caching)g(with)g(cache)f(inval-)332
3860 y(idation)46 b(to)g(make)f(variable)f(r)m(efer)m(ences)g(fast.)332
4487 y Fk(4.8)238 b(Command)58 b(processor)i(support)332
4919 y Fr(While)66 b(it)g(is)h(possible)f(to)h(use)f(the)h(Scheme)f(48)
g(static)g(linker)g(for)g(pr)m(ogram)g(development,)72
b(it)332 5145 y(is)64 b(far)g(mor)m(e)g(convenient)g(to)g(use)h(the)f
(development)g(envir)m(onment,)69 b(which)63 b(supports)i(rapid)332
5370 y(turnar)m(ound)60 b(for)g(pr)m(ogram)g(changes.)102
b(The)61 b(pr)m(ogrammer)e(interacts)i(with)f(the)h(development)332
5596 y(envir)m(onment)54 b(thr)m(ough)g(a)h Fq(command)g(pr)m(ocessor)p
Fr(.)82 b(The)56 b(command)d(pr)m(ocessor)i(is)g(like)g(the)g(usual)332
5822 y(Lisp)63 b(r)m(ead-eval-print)d(loop)j(in)f(that)h(it)f(accepts)h
(Scheme)f(forms)f(to)i(evaluate.)107 b(However)-13 b(,)66
b(all)332 6048 y(meta-level)43 b(operations,)i(such)e(as)g(exiting)h
(the)g(Scheme)f(system)h(or)f(r)m(equests)h(for)f(trace)g(output,)332
6274 y(ar)m(e)j(handled)g(by)g Fq(commands,)g Fr(which)f(ar)m(e)h
(lexically)g(distinguished)g(fr)m(om)f(Scheme)h(forms.)58
b(This)332 6499 y(arrangement)35 b(is)h(borr)m(owed)g(fr)m(om)e(the)j
(Symbolics)e(Lisp)i(Machine)e(system,)j(and)e(is)g(r)m(eminiscent)332
6725 y(of)54 b(non-Lisp)g(debuggers.)83 b(Commands)54
b(ar)m(e)g(a)g(little)h(easier)f(to)h(type)g(than)f(Scheme)g(forms)f
(\(no)332 6951 y(par)m(entheses,)h(so)e(you)f(don't)h(have)f(to)h
(shift\),)g(but)f(mor)m(e)g(importantly)-20 b(,)54 b(making)d(them)g
(distinct)332 7177 y(fr)m(om)66 b(Scheme)i(forms)e(ensur)m(es)h(that)h
(pr)m(ograms')f(namespaces)g(ar)m(en't)f(clutter)m(ed)i(with)f(inap-)
332 7403 y(pr)m(opriate)57 b(bindings.)91 b(Equivalently)-20
b(,)59 b(the)e(command)f(set)h(is)g(available)f(for)g(use)h(r)m(egar)m
(dless)f(of)332 7629 y(what)51 b(bindings)f(happen)h(to)g(be)g(visible)
f(in)h(the)g(curr)m(ent)e(pr)m(ogram.)73 b(This)51 b(is)g(especially)g
(impor)m(-)332 7854 y(tant)c(in)g(conjunction)e(with)h(the)h(module)g
(system,)g(which)f(puts)h(strict)g(contr)m(ols)f(on)h(visibility)f(of)
332 8080 y(bindings.)614 8311 y(The)g(Scheme)f(48)g(command)f(pr)m
(ocessor)h(supports)h(the)f(module)g(system)g(with)g(a)g(variety)g(of)
332 8537 y(special)54 b(commands.)80 b(For)54 b(commands)f(that)g(r)m
(equir)m(e)g(str)o(uctur)m(e)f(names,)k(these)e(names)f(ar)m(e)g(r)m
(e-)332 8762 y(solved)42 b(in)f(a)h(designated)g(con\002guration)f
(package)h(that)g(is)f(distinct)h(fr)m(om)f(the)g(curr)m(ent)g(package)
332 8988 y(for)j(evaluating)g(Scheme)g(forms)g(given)h(to)g(the)f
(command)g(pr)m(ocessor)-13 b(.)56 b(The)45 b(command)f(pr)m(oces-)332
9214 y(sor)i(interpr)m(ets)g(Scheme)g(forms)f(in)g(a)h(particular)f
(curr)m(ent)g(package,)h(and)g(ther)m(e)g(ar)m(e)f(commands)332
9440 y(that)h(move)f(the)h(command)e(pr)m(ocessor)i(between)f(dif)m
(fer)m(ent)f(packages.)614 9671 y(Commands)54 b(ar)m(e)g(intr)m(oduced)
g(by)g(a)h(comma)e(\()p Fn(,)p Fr(\))j(and)f(end)f(at)h(the)f(end)h(of)
f(line.)84 b(The)55 b(com-)332 9896 y(mand)f(pr)m(ocessor)13
b('s)54 b(pr)m(ompt)h(consists)f(of)g(the)h(name)e(of)h(the)h(curr)m
(ent)e(package)h(followed)g(by)g(a)332 10122 y(gr)m(eater)m(-than)44
b(\()p Fn(>)p Fr(\).)423 10571 y Fn(,open)110 b Fq(struct-name)1972
10505 y Fh(\003)787 10797 y Fr(The)66 b Fn(,open)g Fr(command)e(opens)i
(a)g(new)f(str)o(uctur)m(e)f(in)h(the)h(curr)m(ent)e(package,)71
b(as)66 b(if)f(the)787 11023 y(package's)45 b(de\002nition's)g
Fn(open)h Fr(clause)f(had)g(listed)h Fq(struct-name)p
Fr(.)423 11417 y Fn(,config)787 11643 y Fr(The)65 b Fn(,config)g
Fr(command)e(sets)i(the)g(command)e(pr)m(ocessor)13 b('s)65
b(curr)m(ent)f(package)g(to)h(be)3661 12141 y(22)p eop
end
%%Page: 23 29
TeXDict begin 23 28 bop 621 1146 a Fr(the)40 b(curr)m(ent)f
(con\002guration)h(package.)55 b(Forms)40 b(enter)m(ed)g(at)g(this)g
(point)h(ar)m(e)f(interpr)m(eted)g(as)621 1372 y(being)k
(con\002guration)h(language)g(forms,)h(not)f(Scheme)h(forms.)257
1773 y Fn(,config)110 b Fq(command)621 1999 y Fr(This)50
b(form)g(of)h(the)g Fn(,config)g Fr(command)e(executes)i(another)f
(command)g(in)g(the)h(curr)m(ent)621 2225 y(con\002guration)45
b(package.)56 b(For)46 b(example,)951 2634 y Fn(,config)110
b(,load)g(foo.scm)621 3036 y Fr(interpr)m(ets)66 b(con\002guration)g
(language)g(forms)f(fr)m(om)h(the)g(\002le)h Fn(foo.scm)g
Fr(in)f(the)g(curr)m(ent)621 3262 y(con\002guration)45
b(package.)257 3663 y Fn(,config-package-is)111 b Fq(struct-name)621
3889 y Fr(The)39 b Fn(,config-package-is)i Fr(command)e(designates)h(a)
f(new)g(con\002guration)g(package)621 4115 y(for)45 b(use)h(by)f(the)h
Fn(,config)g Fr(command)f(and)g(r)m(esolution)h(of)g
Fq(struct-name)p Fr(s)e(for)h(other)h(com-)621 4341 y(mands)h(such)h
(as)g Fn(,in)g Fr(and)g Fn(,open)p Fr(.)66 b(See)48 b(Section)h(4.9)g
(for)e(information)h(on)g(making)f(new)621 4567 y(con\002guration)e
(packages.)257 4969 y Fn(,in)109 b Fq(struct-name)621
5195 y Fr(The)45 b Fn(,in)h Fr(command)e(moves)h(the)g(command)f(pr)m
(ocessor)h(to)h(a)f(speci\002ed)h(str)o(uctur)m(e's)d(un-)621
5420 y(derlying)i(package.)57 b(For)45 b(example:)951
5829 y Fn(user>)110 b(,config)951 6061 y(config>)g(\(define-structure)h
(foo)e(\(export)h(a\))2042 6294 y(\(open)g(scheme\)\))951
6526 y(config>)g(,in)f(foo)951 6759 y(foo>)h(\(define)f(a)h(13\))951
6991 y(foo>)g(a)951 7224 y(13)621 7626 y Fr(In)69 b(this)g(example)g
(the)h(command)e(pr)m(ocessor)h(starts)h(in)f(a)g(package)h(called)f
Fn(user)p Fr(,)76 b(but)621 7852 y(the)48 b Fn(,config)i
Fr(command)d(moves)i(it)g(into)g(the)f(con\002guration)h(package,)h
(which)d(has)i(the)621 8078 y(name)40 b Fn(config)p Fr(.)56
b(The)41 b Fn(define-structure)h Fr(form)e(binds,)h(in)g
Fn(config)p Fr(,)i(the)e(name)f Fn(foo)621 8303 y Fr(to)60
b(a)f(str)o(uctur)m(e)g(that)h(exports)g Fn(a)p Fr(.)100
b(Finally)-20 b(,)63 b(the)d(command)e Fn(,in)110 b(foo)60
b Fr(moves)f(the)h(com-)621 8529 y(mand)44 b(pr)m(ocessor)i(into)g(str)
o(uctur)m(e)e Fn(foo)p Fr('s)h(underlying)g(package.)621
8843 y(A)d(package's)g(body)h(isn't)f(executed)g(\(evaluated\))f(until)
h(the)g(package)h(is)f Fq(loaded)p Fr(,)g(which)f(is)621
9069 y(accomplished)j(by)h(the)h Fn(,load-package)h Fr(command.)257
9471 y Fn(,in)109 b Fq(struct-name)f(command)621 9697
y Fr(This)36 b(form)f(of)h(the)h Fn(,in)f Fr(command)f(executes)h(a)h
(single)f(command)f(in)h(the)g(speci\002ed)h(pack-)621
9923 y(age)45 b(without)g(moving)g(the)h(command)e(pr)m(ocessor)i(into)
g(that)f(package.)57 b(Example:)951 10331 y Fn(,in)110
b(mumble)f(\(cons)h(1)f(2\))951 10564 y(,in)h(mumble)f(,trace)h(foo)257
10966 y(,user)f([)p Fq(command)p Fn(])621 11191 y Fr(This)59
b(is)f(similar)g(to)h(the)g Fn(,config)g Fr(and)g Fn(,in)g
Fr(commands.)95 b(It)59 b(moves)g(to)g(or)g(executes)f(a)621
11417 y(command)36 b(in)h(the)g(user)g(package)h(\(which)e(is)h(the)h
(default)e(package)i(when)f(the)g(Scheme)g(48)621 11643
y(command)44 b(pr)m(ocessor)i(starts\).)3495 12141 y(23)p
eop end
%%Page: 24 30
TeXDict begin 24 29 bop 423 1146 a Fn(,user-package-is)111
b Fq(name)787 1372 y Fr(The)53 b Fn(,user-package-is)h
Fr(command)e(designates)h(a)g(new)f(user)h(package)f(for)h(use)f(by)787
1597 y(the)45 b Fn(,user)h Fr(command.)423 1973 y Fn(,load-package)110
b Fq(struct-name)787 2199 y Fr(The)51 b Fn(,load-package)i
Fr(command)d(ensur)m(es)g(that)i(the)f(speci\002ed)h(str)o(uctur)m(e's)
d(underly-)787 2425 y(ing)54 b(package's)h(pr)m(ogram)g(has)f(been)h
(loaded.)86 b(This)55 b(consists)g(of)g(\(1\))f(r)m(ecursively)f(ensur)
m(-)787 2650 y(ing)45 b(that)g(the)g(packages)h(of)f(any)g(opened)g(or)
h(accessed)f(str)o(uctur)m(es)f(ar)m(e)g(loaded,)i(followed)787
2876 y(by)58 b(\(2\))f(executing)h(the)h(package's)f(body)h(as)f
(speci\002ed)h(by)f(its)h(de\002nition's)f Fn(begin)h
Fr(and)787 3102 y Fn(files)46 b Fr(forms.)423 3478 y
Fn(,reload-package)110 b Fq(struct-name)787 3703 y Fr(This)66
b(command)f(r)m(e-executes)g(the)h(str)o(uctur)m(e's)f(package's)h(pr)m
(ogram.)118 b(It)66 b(is)g(most)h(use-)787 3929 y(ful)54
b(if)h(the)h(pr)m(ogram)f(comes)g(fr)m(om)g(a)g(\002le)h(or)g(\002les,)
i(when)d(it)h(will)f(update)h(the)f(package's)787 4155
y(bindings)44 b(after)h(mutations)h(to)g(its)f(sour)m(ce)g(\002le.)423
4531 y Fn(,load)110 b Fq(\002lespec)d Fn(...)787 4756
y Fr(The)37 b Fn(,load)g Fr(command)f(executes)g(forms)g(fr)m(om)g(the)
h(speci\002ed)g(\002le)f(or)h(\002les)g(in)f(the)h(curr)m(ent)787
4982 y(package.)111 b Fn(,load)e Fq(\002lespec)62 b Fr(is)i(similar)e
(to)j Fn(\(load)109 b(")p Fq(\002lespec)p Fn("\))62 b
Fr(except)i(that)g(the)g(name)787 5208 y Fn(load)45 b
Fr(needn't)h(be)f(bound)g(in)g(the)g(curr)m(ent)g(package)g(to)h
(Scheme's)f Fn(load)h Fr(pr)m(ocedur)m(e.)423 5584 y
Fn(,for-syntax)110 b([)p Fq(command)p Fn(])787 5810 y
Fr(This)59 b(is)f(similar)g(to)h(the)g Fn(,config)g Fr(and)g
Fn(,in)g Fr(commands.)95 b(It)59 b(moves)g(to)g(or)g(executes)f(a)787
6035 y(command)53 b(in)i(the)g(curr)m(ent)f(package's)g(\223package)h
(for)g(syntax,\224)i(which)d(is)h(the)g(package)787 6261
y(in)45 b(which)f(the)i(forms)f Ff(f)65 b Fr(in)45 b
Fn(\(define-syntax)110 b Fq(name)f(f)p Fn(\))45 b Fr(ar)m(e)g
(evaluated.)423 6637 y Fn(,new-package)787 6863 y Fr(The)55
b Fn(,new-package)i Fr(command)d(cr)m(eates)h(a)g(new)f(package,)59
b(in)c(which)f(only)h(the)g(stan-)787 7088 y(dar)m(d)45
b(Scheme)g(bindings)g(ar)m(e)g(visible,)g(and)g(moves)g(the)h(command)e
(pr)m(ocessor)i(to)g(it.)423 7464 y Fn(,structure)110
b Fq(name)f(interface)787 7690 y Fr(The)56 b Fn(,structure)g
Fr(command)f(de\002nes)h Fq(name)g Fr(in)f(the)h(con\002guration)g
(package)f(to)i(be)e(a)787 7916 y(str)o(uctur)m(e)44
b(with)h(interface)f Fq(interface)f Fr(based)j(on)f(the)h(curr)m(ent)e
(package.)332 8513 y Fk(4.9)238 b(Con\002guration)58
b(packages)332 8936 y Fr(It)70 b(is)e(possible)h(to)h(set)f(up)g
(multiple)f(con\002guration)h(packages.)127 b(The)69
b(default)g(con\002guration)332 9161 y(package)46 b(opens)g(the)f
(following)g(str)o(uctur)m(es:)605 9537 y Fj(\017)91
b Fn(module-system)p Fr(,)85 b(which)75 b(exports)i Fn
(define-structure)h Fr(and)e(the)g(other)h(con\002g-)787
9763 y(uration)72 b(language)f(keywor)m(ds,)80 b(as)72
b(well)g(as)g(standar)m(d)g(types)i(and)e(type)h(constr)o(uctors)787
9989 y(\()p Fn(:syntax)p Fr(,)46 b Fn(:value)p Fr(,)g
Fn(proc)p Fr(,)g(etc.\).)605 10364 y Fj(\017)91 b Fn
(built-in-structures)p Fr(,)46 b(which)e(exports)h(str)o(uctur)m(es)e
(that)i(ar)m(e)f(built)f(into)i(the)f(initial)787 10590
y(Scheme)h(48)g(image;)h(these)f(include)g Fn(scheme)p
Fr(,)h Fn(threads)p Fr(,)h Fn(tables)p Fr(,)f(and)g Fn(records)p
Fr(.)605 10966 y Fj(\017)91 b Fn(more-structures)p Fr(,)113
b(which)97 b(exports)h(additional)h(str)o(uctur)m(es)d(that)j(ar)m(e)e
(available)787 11191 y(in)118 b(the)h(development)f(envir)m(onment.)275
b(A)119 b(complete)g(listing)f(can)g(be)g(found)g(in)787
11417 y(the)j(de\002nition)h(of)f Fn(more-structures-interface)j
Fr(at)e(the)g(end)f(of)g(the)h(\002le)787 11643 y Fn
(scheme/more-packages.scm)p Fr(.)3661 12141 y(24)p eop
end
%%Page: 25 31
TeXDict begin 25 30 bop 166 1146 a Fr(Note)46 b(that)g(it)g(does)g(not)
f(open)h Fn(scheme)p Fr(.)448 1372 y(Y)-17 b(ou)42 b(can)f(de\002ne)g
(additional)h(con\002guration)e(packages)i(by)f(making)f(a)i(package)f
(that)h(opens)166 1597 y Fn(module-system)50 b Fr(and,)g(optionally)-20
b(,)51 b Fn(built-in-structures)p Fr(,)h Fn(more-structures)p
Fr(,)g(or)166 1823 y(other)46 b(str)o(uctur)m(es)e(that)i(export)g(str)
o(uctur)m(es)e(and)h(interfaces.)448 2049 y(For)h(example:)497
2359 y Fn(>)109 b(,config)h(\(define-structure)g(foo)g(\(export\))1806
2585 y(\(open)f(module-system)2460 2811 y(built-in-structures)2460
3037 y(more-structures\)\))497 3262 y(>)g(,in)g(foo)497
3488 y(foo>)g(\(define-structure)i(x)e(\(export)h(a)f(b\))1260
3714 y(\(open)h(scheme\))1260 3940 y(\(files)g(x\)\))497
4166 y(foo>)448 4476 y Fr(Unfortunately)-20 b(,)62 b(the)c(above)f
(example)h(does)g(not)g(work.)94 b(The)59 b(pr)m(oblem)e(is)h(that)g
(every)g(en-)166 4702 y(vir)m(onment)d(in)h(which)f Fn
(define-structure)j Fr(is)e(de\002ned)h(must)e(also)i(have)f(a)g(way)g
(to)g(cr)m(eate)166 4928 y(\223r)m(e\003ective)49 b(towers\224)h(\(a)g
(misnomer;)i(a)e(better)g(name)f(would)h(be)g(\223syntactic)g
(towers\224\).)70 b(A)50 b(new)166 5153 y(r)m(e\003ective)44
b(tower)g(is)h(r)m(equir)m(ed)e(whenever)h(a)g(new)g(envir)m(onment)g
(is)g(cr)m(eated)h(for)f(compiling)g(the)166 5379 y(sour)m(ce)f(code)g
(in)g(the)h(package)g(associated)f(with)g(a)h(new)f(str)o(uctur)m(e.)54
b(The)44 b(envir)m(onment's)e(tower)166 5605 y(is)j(used)h(at)f
(compile)h(time)f(for)g(evaluating)g(the)g Fq(macr)m(o-sour)m(ce)e
Fr(in)497 5915 y Fn(\(define-syntax)110 b Fq(name)f(macr)m(o-sour)m(ce)
p Fn(\))497 6141 y(\(let-syntax)h(\(\()p Fq(name)f(macr)m(o-sour)m(ce)p
Fn(\))e Fq(...)p Fn(\))j Fq(body)p Fn(\))166 6451 y Fr(and)49
b(so)h(forth.)68 b(It)50 b(is)f(a)h(\223tower)13 b(\224)49
b(because)g(that)g(envir)m(onment,)h(in)f(turn,)h(has)g(to)g(say)f
(what)g(envi-)166 6677 y(r)m(onment)c(to)h(use)f(if)g
Fn(macro-source)i Fr(itself)e(contains)g(a)g(use)h(of)f
Fn(let-syntax)p Fr(.)448 6903 y(The)57 b(simplest)f(way)g(to)h(pr)m
(ovide)f(a)g(tower)g(maker)g(is)g(to)h(pass)g(on)f(the)g(one)h(used)f
(by)g(an)g(ex-)166 7129 y(isting)70 b(con\002guration)e(package.)129
b(The)70 b(special)f(form)g Fn(export-reflective-tower)i
Fr(cr)m(e-)166 7354 y(ates)59 b(an)f(interface)f(that)i(exports)g(a)f
(con\002guration)g(package's)g(tower)-13 b(.)96 b(The)58
b(following)g(exam-)166 7580 y(ple)f(uses)g Fn(export-reflective-tower)
i Fr(and)e(the)g Fn(,structure)h Fr(command)e(to)h(obtain)g(a)166
7806 y(tower)46 b(maker)e(and)i(cr)m(eate)f(a)g(new)g(con\002guration)g
(envir)m(onment.)497 8153 y Fn(>)109 b(,config)h(,structure)g(t)f
(\(export-reflective-tower-maker\))497 8379 y(>)g(,config)h
(\(define-structure)g(foo)g(\(export\))1806 8605 y(\(open)f
(module-system)2460 8831 y(t)2460 9056 y(built-in-structures)2460
9282 y(more-structures\)\))166 9866 y Fk(4.10)238 b(Discussion)166
10288 y Fr(This)67 b(module)e(system)i(was)f(not)g(designed)h(as)f(the)
h(be-all)e(and)h(end-all)f(of)i(Scheme)f(module)166 10514
y(systems;)71 b(it)62 b(was)g(only)g(intended)g(to)h(help)f(us)f(or)m
(ganize)h(the)g(Scheme)g(48)g(system.)106 b(Not)63 b(only)166
10740 y(does)49 b(the)g(module)f(system)g(help)h(avoid)f(name)g
(clashes)g(by)g(keeping)h(dif)m(fer)m(ent)e(subsystems)h(in)166
10966 y(dif)m(fer)m(ent)j(namespaces,)j(it)f(has)f(also)g(helped)h(us)f
(to)h(tighten)f(up)g(and)h(generalize)f(Scheme)g(48's)166
11191 y(internal)j(interfaces.)87 b(Scheme)56 b(48)g(is)f(unusual)g
(among)g(Lisp)h(implementations)g(in)f(admitting)166
11417 y(many)64 b(dif)m(fer)m(ent)g(possible)h(modes)g(of)g(operation.)
116 b(Examples)65 b(of)g(such)f(multiple)h(modes)g(in-)166
11643 y(clude)45 b(the)h(following:)3495 12141 y(25)p
eop end
%%Page: 26 32
TeXDict begin 26 31 bop 605 1146 a Fj(\017)91 b Fr(Linking)45
b(can)g(be)g(either)g(static)h(or)f(dynamic.)605 1521
y Fj(\017)91 b Fr(The)60 b(development)g(envir)m(onment)f(\(compiler)
-13 b(,)63 b(debugger)-13 b(,)63 b(and)d(command)f(pr)m(ocessor\))787
1747 y(can)50 b(r)o(un)g(either)i(in)f(the)g(same)g(addr)m(ess)g(space)
g(as)g(the)h(pr)m(ogram)f(being)f(developed)i(or)f(in)787
1973 y(a)46 b(dif)m(fer)m(ent)f(addr)m(ess)i(space.)60
b(The)47 b(envir)m(onment)e(and)h(user)g(pr)m(ogram)g(may)g(even)h(r)o
(un)e(on)787 2198 y(dif)m(fer)m(ent)f(pr)m(ocessors)h(under)g(dif)m
(fer)m(ent)f(operating)i(systems[8].)605 2574 y Fj(\017)91
b Fr(The)59 b(virtual)g(machine)f(can)h(be)g(supported)h(by)f(either)h
(of)f(two)g(implementations)h(of)f(its)787 2800 y(implementation)45
b(language,)g(Pr)m(escheme.)332 3175 y(The)51 b(module)f(system)h(has)g
(been)f(helpful)g(in)g(or)m(ganizing)g(these)h(multiple)g(modes.)72
b(By)51 b(for)m(cing)332 3401 y(us)41 b(to)i(write)e(down)h(interfaces)
f(and)g(module)g(dependencies,)i(the)f(module)f(system)h(helps)g(us)g
(to)332 3626 y(keep)k(the)g(system)f(clean,)h(or)f(at)h(least)g(to)g
(keep)g(us)f(honest)h(about)f(how)g(clean)g(or)g(not)h(it)g(is.)614
3852 y(The)61 b(need)g(to)g(make)f(str)o(uctur)m(es)g(and)g(interfaces)
g(second-class)g(instead)g(of)h(\002rst-class)f(r)m(e-)332
4078 y(sults)69 b(fr)m(om)g(the)g(r)m(equir)m(ements)f(of)h(static)g
(pr)m(ogram)g(analysis:)104 b(it)70 b(must)f(be)g(possible)g(for)g(the)
332 4304 y(compiler)56 b(and)h(linker)f(to)h(expand)g(macr)m(os)f(and)g
(r)m(esolve)g(variable)g(bindings)g(befor)m(e)g(the)g(pr)m(o-)332
4530 y(gram)i(is)g(executed.)95 b(Str)o(uctur)m(es)58
b(could)g(be)g(made)g(\002rst-class)g(\(as)f(in)i(FX[9)o(]\))f(if)g(a)g
(type)h(system)332 4756 y(wer)m(e)52 b(added)h(to)g(Scheme)f(and)g(the)
h(de\002nitions)g(of)f(exported)h(macr)m(os)f(wer)m(e)g(de\002ned)h(in)
f(inter)m(-)332 4981 y(faces)60 b(instead)g(of)g(in)g(module)f(bodies,)
65 b(but)59 b(even)h(in)g(that)g(case)g(types)h(and)f(interfaces)g
(would)332 5207 y(r)m(emain)44 b(second-class.)614 5433
y(The)63 b(pr)m(ohibition)f(on)h(assignment)f(to)i(imported)e(bindings)
g(makes)h(substitution)f(a)h(valid)332 5659 y(optimization)40
b(when)f(a)g(module)g(is)g(compiled)g(as)h(a)f(block.)55
b(The)39 b(block)g(compiler)g(\002rst)h(scans)f(the)332
5885 y(entir)m(e)53 b(module)g(body)-20 b(,)56 b(noting)e(which)e
(variables)g(ar)m(e)h(assigned.)81 b(Those)55 b(that)e(ar)m(en't)g
(assigned)332 6110 y(\(only)f Fn(define)p Fr(d\))g(may)g(be)g(assumed)f
(never)h(assigned,)i(even)e(if)g(they)g(ar)m(e)g(exported.)77
b(The)53 b(op-)332 6336 y(timizer)i(can)g(then)g(perform)g(a)h(very)f
(simple-minded)f(analysis)i(to)g(determine)f(automatically)332
6562 y(that)46 b(some)f(pr)m(ocedur)m(es)g(can)g(and)g(should)h(have)f
(their)g(calls)g(compiled)g(in)g(line.)614 6788 y(The)57
b(pr)m(ogramming)e(style)h(encouraged)g(by)g(the)g(module)f(system)i
(is)f(consistent)g(with)g(the)332 7014 y(unextended)79
b(Scheme)g(language.)156 b(Because)79 b(module)f(system)i(featur)m(es)e
(do)h(not)g(generally)332 7240 y(show)54 b(up)f(within)g(module)h
(bodies,)i(an)d(individual)g(module)g(may)h(be)f(understood)h(by)g
(some-)332 7465 y(one)k(who)f(is)g(not)g(familiar)f(with)h(the)h
(module)e(system.)93 b(This)57 b(is)h(a)f(gr)m(eat)g(aid)g(to)h(code)g
(pr)m(esen-)332 7691 y(tation)52 b(and)e(portability)-20
b(.)74 b(If)51 b(a)g(few)f(simple)h(conditions)g(ar)m(e)f(met)h(\(no)g
(name)f(con\003icts)h(between)332 7917 y(packages,)61
b(and)c(use)g(of)g Fn(files)h Fr(in)e(pr)m(efer)m(ence)g(to)i
Fn(begin)p Fr(\),)j(then)c(a)g(multi-module)f(pr)m(ogram)332
8143 y(can)g(be)g(loaded)h(into)g(a)g(Scheme)f(implementation)g(that)h
(does)g(not)g(support)g(the)g(module)f(sys-)332 8369
y(tem.)96 b(The)59 b(Scheme)g(48)f(static)h(linker)f(satis\002es)h
(these)g(conditions,)k(and)58 b(can)g(ther)m(efor)m(e)g(r)o(un)f(in)332
8594 y(other)70 b(Scheme)f(implementations.)128 b(Scheme)69
b(48's)g(bootstrap)h(pr)m(ocess,)75 b(which)69 b(is)g(based)g(on)332
8820 y(the)46 b(static)f(linker)-13 b(,)46 b(is)f(ther)m(efor)m(e)g
(nonincestuous.)56 b(This)46 b(contrasts)g(with)f(most)h(other)g
(integrated)332 9046 y(pr)m(ogramming)41 b(envir)m(onments,)h(such)f
(as)g(Smalltalk-80,)i(wher)m(e)e(the)g(system)h(can)g(only)f(be)h
(built)332 9272 y(using)j(an)g(existing)h(version)f(of)g(the)h(system)f
(itself.)614 9498 y(Like)i(ML)g(modules,)g(but)g(unlike)f(Scheme)g(Xer)
m(ox)h(modules,)g(this)g(module)f(system)h(is)g(com-)332
9724 y(positional.)88 b(That)56 b(is,)j(str)o(uctur)m(es)c(ar)m(e)g
(constr)o(ucted)g(by)g(single)h(syntactic)f(units)h(that)g(compose)332
9949 y(existing)48 b(str)o(uctur)m(es)e(with)h(a)h(body)f(of)h(code.)63
b(In)48 b(Scheme)g(Xer)m(ox,)g(the)g(set)g(of)f(modules)h(that)g(can)
332 10175 y(contribute)38 b(to)h(an)f(interface)g(is)g(open-ended)h
(\227)f(any)h(module)f(can)g(contribute)f(bindings)h(to)h(any)332
10401 y(interface)53 b(whose)h(name)f(is)h(in)f(scope.)82
b(The)54 b(module)g(system)g(implementation)f(is)h(a)g(cr)m(oss-bar)332
10627 y(that)59 b(channels)f(de\002nitions)i(fr)m(om)d(modules)i(to)g
(interfaces.)97 b(The)59 b(module)g(system)g(described)332
10853 y(her)m(e)47 b(has)g(simpler)g(semantics)g(and)g(makes)g
(dependencies)h(easier)f(to)h(trace.)62 b(It)48 b(also)f(allows)g(for)
332 11078 y(higher)m(-or)m(der)d(modules,)i(which)e(Scheme)h(Xer)m(ox)h
(considers)f(unimportant.)3661 12141 y(26)p eop end
%%Page: 27 33
TeXDict begin 27 32 bop 166 2391 a Fm(Chapter)87 b(5)166
3221 y Fp(Libraries)166 4111 y Fr(Use)56 b(the)g Fn(,open)g
Fr(command)e(\(section)h(3.4\))g(or)h(the)g(module)f(language)f
(\(chapter)h(2.6\))h(to)g(open)166 4337 y(the)46 b(str)o(uctur)m(es)e
(described)h(below)-17 b(.)166 4930 y Fk(5.1)238 b(ASCII)60
b(character)e(encoding)166 5352 y Fr(These)46 b(ar)m(e)f(in)g(the)h
(str)o(uctur)m(e)e Fn(ascii)p Fr(.)202 5673 y Fj(\017)91
b Fn(\(char->ascii)h Fq(char)p Fn(\))f Fj(!)f Fq(integer)202
5899 y Fj(\017)h Fn(\(ascii->char)h Fq(integer)p Fn(\))d
Fj(!)i Fq(char)166 6219 y Fr(These)38 b(ar)m(e)g(identical)f(to)i
Fn(char->integer)g Fr(and)f Fn(integer->char)h Fr(except)f(that)g(they)
g(use)g(the)166 6445 y(ASCII)47 b(encodingASCII)f(encoding)g
(\(appendix)f(A\).)202 6766 y Fj(\017)91 b Fn(ascii-limit)4858
b Fr(integer)202 6992 y Fj(\017)91 b Fn(ascii-whitespaces)3634
b Fr(list)46 b(of)f(integers)166 7313 y Fn(Ascii-limit)73
b Fr(is)f(one)g(mor)m(e)g(than)g(the)g(lar)m(gest)g(value)f(that)i
Fn(char->ascii)g Fr(may)e(r)m(eturn.)166 7538 y Fn(Ascii-whitespaces)63
b Fr(is)e(a)g(list)g(of)g(the)h(ASCII)g(values)f(of)g(whitespace)g
(characters)f(\(space,)166 7764 y(horizontal)45 b(tab,)h(line)f(feed)g
(\(=)h(newline\),)e(vertical)h(tab,)h(form)e(feed,)i(and)f(carriage)g
(r)m(eturn\).)166 8357 y Fk(5.2)238 b(Bitwise)59 b(integer)f
(operations)166 8779 y Fr(These)67 b(functions)f(use)h(the)g
(two's-complement)e(r)m(epr)m(esentation)i(for)g(integers.)120
b(Ther)m(e)67 b(is)g(no)166 9005 y(limit)h(to)h(the)f(number)f(of)h
(bits)g(in)g(an)g(integer)-13 b(.)125 b(They)68 b(ar)m(e)g(in)g(the)g
(str)o(uctur)m(es)f Fn(bitwise)i Fr(and)166 9231 y Fn(big-scheme)p
Fr(.)202 9552 y Fj(\017)91 b Fn(\(bitwise-and)h Fq(integer)d(integer)p
Fn(\))h Fj(!)g Fq(integer)202 9777 y Fj(\017)h Fn(\(bitwise-ior)h
Fq(integer)d(integer)p Fn(\))h Fj(!)g Fq(integer)202
10003 y Fj(\017)h Fn(\(bitwise-xor)h Fq(integer)d(integer)p
Fn(\))h Fj(!)g Fq(integer)202 10229 y Fj(\017)h Fn(\(bitwise-not)h
Fq(integer)p Fn(\))d Fj(!)i Fq(integer)166 10550 y Fr(These)66
b(perform)e(various)g(logical)h(operations)h(on)f(integers)g(on)g(a)g
(bit-by-bit)e(basis.)115 b(`)p Fn(ior)p Fr(')64 b(is)166
10776 y(inclusive)44 b(OR)i(and)f(`)p Fn(xor)p Fr(')g(is)h(exclusive)e
(OR.)202 11096 y Fj(\017)91 b Fn(\(arithmetic-shift)i
Fq(integer)c(bit-count)p Fn(\))g Fj(!)i Fq(integer)166
11417 y Fr(Shifts)64 b(the)g(integer)f(by)h(the)f(given)h(bit)f(count,)
68 b(which)63 b(must)g(be)g(an)h(integer)-13 b(,)68 b(shifting)63
b(left)g(for)166 11643 y(positive)46 b(counts)f(and)h(right)f(for)g
(negative)g(ones.)57 b(Shifting)46 b(pr)m(eserves)f(the)h(integer)13
b('s)45 b(sign.)3495 12141 y(27)p eop end
%%Page: 28 34
TeXDict begin 28 33 bop 368 1146 a Fj(\017)91 b Fn(\(bit-count)h
Fq(integer)p Fn(\))d Fj(!)i Fq(integer)332 1409 y Fr(Counts)39
b(the)g(number)f(of)h(bits)g(set)g(in)g(the)g(integer)-13
b(.)54 b(If)39 b(the)g(ar)m(gument)f(is)h(negative)g(a)g(bitwise)g(NOT)
332 1635 y(operation)46 b(is)g(performed)f(befor)m(e)f(counting.)332
2216 y Fk(5.3)238 b(Byte)59 b(vectors)332 2638 y Fr(These)80
b(ar)m(e)f(homogeneous)g(vectors)h(of)f(small)g(integers)h(\()p
Fg(0)112 b Fj(\024)i Ff(i)f Fj(\024)h Fg(255)p Fr(\).)158
b(The)80 b(functions)332 2864 y(that)68 b(operate)g(on)g(them)f(ar)m(e)
h(analogous)f(to)h(those)g(for)g(vectors.)123 b(They)68
b(ar)m(e)f(in)h(the)f(str)o(uctur)m(e)332 3089 y Fn(byte-vectors)p
Fr(.)368 3353 y Fj(\017)91 b Fn(\(byte-vector?)103 b
Fq(value)p Fn(\))90 b Fj(!)h Fq(boolean)368 3579 y Fj(\017)g
Fn(\(make-byte-vector)i Fq(k)d(\002ll)p Fn(\))g Fj(!)h
Fq(byte-vector)368 3804 y Fj(\017)g Fn(\(byte-vector)h
Fq(i)f(.)27 b(.)g(.)g Fn(\))104 b Fj(!)91 b Fq(byte-vector)368
4030 y Fj(\017)g Fn(\(byte-vector-length)i Fq(byte-vector)p
Fn(\))88 b Fj(!)j Fq(integer)368 4256 y Fj(\017)g Fn(\(byte-vector-ref)
i Fq(byte-vector)88 b(k)q Fn(\))j Fj(!)f Fq(integer)368
4482 y Fj(\017)h Fn(\(byte-vector-set!)i Fq(byte-vector)88
b(k)j(i)p Fn(\))332 5063 y Fk(5.4)238 b(Cells)332 5485
y Fr(These)57 b(hold)f(a)g(single)g(value)f(and)h(ar)m(e)f(useful)g
(when)g(a)h(simple)g(indir)m(ection)g(is)g(r)m(equir)m(ed.)87
b(The)332 5711 y(system)46 b(uses)f(these)h(to)g(hold)f(the)h(values)f
(of)g(lexical)g(variables)f(that)i(may)f(be)g Fn(set!)p
Fr(.)368 5974 y Fj(\017)91 b Fn(\(cell?)103 b Fq(value)p
Fn(\))90 b Fj(!)g Fq(boolean)368 6200 y Fj(\017)h Fn(\(make-cell)h
Fq(value)p Fn(\))e Fj(!)h Fq(cell)368 6426 y Fj(\017)g
Fn(\(cell-ref)h Fq(cell)p Fn(\))e Fj(!)h Fq(value)368
6651 y Fj(\017)g Fn(\(cell-set!)h Fq(cell)e(value)p Fn(\))332
7233 y Fk(5.5)238 b(Queues)332 7654 y Fr(These)46 b(ar)m(e)f(or)m
(dinary)g(\002rst-in,)g(\002rst-out)h(queues.)56 b(The)46
b(pr)m(ocedur)m(es)e(ar)m(e)h(in)h(str)o(uctur)m(e)e
Fn(queues)p Fr(.)368 7918 y Fj(\017)91 b Fn(\(make-queue\))h
Fj(!)f Fq(queue)368 8144 y Fj(\017)g Fn(\(queue?)103
b Fq(value)p Fn(\))90 b Fj(!)g Fq(boolean)368 8369 y
Fj(\017)h Fn(\(queue-empty?)103 b Fq(queue)p Fn(\))91
b Fj(!)g Fq(boolean)368 8595 y Fj(\017)g Fn(\(enqueue!)h
Fq(queue)f(value)p Fn(\))368 8821 y Fj(\017)g Fn(\(dequeue!)103
b Fq(queue)p Fn(\))91 b Fj(!)f Fq(value)332 9084 y Fn(Make-queue)52
b Fr(cr)m(eates)e(an)h(empty)g(queue,)h Fn(queue?)72
b Fr(is)51 b(a)g(pr)m(edicate)g(for)f(identifying)g(queues,)332
9310 y Fn(queue-empty?)101 b Fr(tells)61 b(you)f(if)f(a)h(queue)g(is)g
(empty)-20 b(,)64 b Fn(enqueue!)101 b Fr(and)60 b Fn(dequeue!)101
b Fr(add)60 b(and)332 9536 y(r)m(emove)45 b(values.)368
9799 y Fj(\017)91 b Fn(\(queue-length)h Fq(queue)p Fn(\))f
Fj(!)g Fq(integer)368 10025 y Fj(\017)g Fn(\(queue->list)h
Fq(queue)p Fn(\))f Fj(!)g Fq(values)368 10251 y Fj(\017)g
Fn(\(list->queue)h Fq(values)p Fn(\))e Fj(!)h Fq(queue)368
10477 y Fj(\017)g Fn(\(delete-from-queue!)104 b Fq(queue)91
b(value)p Fn(\))f Fj(!)g Fq(boolean)332 10740 y Fn(Queue-length)68
b Fr(r)m(eturns)e(the)h(number)e(of)h(values)g(in)h Fq(queue)p
Fr(.)120 b Fn(Queue->list)68 b Fr(r)m(eturns)e(the)332
10966 y(values)49 b(in)g Fq(queue)g Fr(as)g(a)g(list,)i(in)e(the)h(or)m
(der)f(in)g(which)f(the)h(values)g(wer)m(e)g(added.)68
b Fn(List->queue)332 11191 y Fr(r)m(eturns)81 b(a)g(queue)g(containing)
h Fq(values)n Fr(,)91 b(pr)m(eserving)81 b(their)h(or)m(der)-13
b(.)165 b Fn(Delete-from-queue)332 11417 y Fr(r)m(emoves)106
b(the)g(\002rst)h(instance)f(of)g Fq(value)g Fr(fr)m(om)f
Fn(queue)p Fr(,)122 b(using)106 b Fn(eq?)240 b Fr(for)106
b(comparisons.)332 11643 y Fn(Delete-from-queue)47 b
Fr(r)m(eturns)e Fn(#t)g Fr(if)g Fq(value)g Fr(is)g(found)g(and)g
Fn(#f)h Fr(if)f(it)h(is)f(not.)3661 12141 y(28)p eop
end
%%Page: 29 35
TeXDict begin 29 34 bop 166 1146 a Fk(5.6)238 b(Arrays)166
1569 y Fr(These)37 b(pr)m(ovide)f(N-dimensional,)i(zer)m(o-based)d
(arrays)h(and)h(ar)m(e)f(in)g(the)g(str)o(uctur)m(e)f
Fn(arrays)p Fr(.)55 b(The)166 1795 y(array)45 b(interface)g(is)g
(derived)g(fr)m(om)g(one)g(invented)h(by)f(Alan)g(Bawden.)202
2140 y Fj(\017)91 b Fn(\(make-array)h Fq(value)e(dimension)2919
2167 y Fl(0)3088 2140 y Fq(.)27 b(.)g(.)g Fn(\))104 b
Fj(!)90 b Fq(array)202 2365 y Fj(\017)h Fn(\(array)h
Fq(dimensions)d(element)2616 2392 y Fl(0)2785 2365 y
Fq(.)27 b(.)g(.)g Fn(\))104 b Fj(!)91 b Fq(array)202
2591 y Fj(\017)g Fn(\(copy-array)h Fq(array)p Fn(\))e
Fj(!)h Fq(array)166 2936 y Fn(Make-array)55 b Fr(makes)f(a)h(new)e
(array)h(with)g(the)h(given)f(dimensions,)i(each)e(of)g(which)g(must)f
(be)166 3162 y(a)j(non-negative)g(integer)-13 b(.)88
b(Every)56 b(element)g(is)g(initially)g(set)g(to)h Fq(value)p
Fr(.)88 b Fn(Array)56 b Fr(Returns)g(a)g(new)166 3387
y(array)72 b(with)g(the)g(given)g(dimensions)g(and)g(elements.)138
b Fq(Dimensions)71 b Fr(must)h(be)g(a)g(list)g(of)h(non-)166
3613 y(negative)53 b(integers,)j(The)e(number)e(of)h(elements)h(should)
f(be)g(the)h(equal)f(to)h(the)f(pr)m(oduct)h(of)f(the)166
3839 y(dimensions.)j(The)46 b(elements)g(ar)m(e)f(stor)m(ed)g(in)h(r)m
(ow-major)d(or)m(der)-13 b(.)497 4218 y Fn(\(make-array)110
b('a)f(2)g(3\))h Fj(!)e(f)p Fn(Array)i(2)f(3)p Fj(g)497
4671 y Fn(\(array)g('\(2)h(3\))f('a)g('b)h('c)f('d)g('e)g('f\))933
4897 y Fj(!)g(f)p Fn(Array)g(2)h(3)p Fj(g)448 5275 y
Fn(Copy-array)59 b Fr(r)m(eturns)e(a)g(copy)h(of)f Fq(array)p
Fr(.)92 b(The)58 b(copy)g(is)f(identical)g(to)h(the)g
Fq(array)f Fr(but)f(does)166 5501 y(not)46 b(shar)m(e)f(storage)h(with)
f(it.)202 5846 y Fj(\017)91 b Fn(\(array?)103 b Fq(value)p
Fn(\))90 b Fj(!)g Fq(boolean)166 6190 y Fr(Returns)46
b Fn(#t)f Fr(if)g Fq(value)g Fr(is)g(an)g(array)-20 b(.)202
6535 y Fj(\017)91 b Fn(\(array-ref)h Fq(array)e(index)2456
6562 y Fl(0)2625 6535 y Fq(.)27 b(.)g(.)g Fn(\))104 b
Fj(!)91 b Fq(value)202 6761 y Fj(\017)g Fn(\(array-set!)h
Fq(array)e(value)g(index)3050 6788 y Fl(0)3219 6761 y
Fq(.)27 b(.)g(.)g Fn(\))202 6987 y Fj(\017)91 b Fn(\(array->vector)h
Fq(array)p Fn(\))e Fj(!)h Fq(vector)202 7212 y Fj(\017)g
Fn(\(array-dimensions)i Fq(array)p Fn(\))c Fj(!)i Fq(list)166
7557 y Fn(Array-ref)62 b Fr(r)m(eturns)e(the)i(speci\002ed)f(array)g
(element)f(and)h Fn(array-set!)104 b Fr(r)m(eplaces)61
b(the)g(ele-)166 7783 y(ment)45 b(with)g Fq(value)p Fr(.)497
8161 y Fn(\(let)109 b(\(\(a)h(\(array)f('\(2)h(3\))f('a)g('b)g('c)h('d)
f('e)g('f\)\)\))715 8388 y(\(let)g(\(\(x)h(\(array-ref)g(a)f(0)g
(1\)\)\))933 8614 y(\(array-set!)h(a)f('g)h(0)f(1\))933
8841 y(\(list)h(x)f(\(array-ref)h(a)f(0)g(1\)\)\)\))933
9067 y Fj(!)g Fn('\(b)g(g\))448 9445 y(Array->vector)60
b Fr(r)m(eturns)e(a)h(vector)g(containing)f(the)h(elements)f(of)h
Fq(array)e Fr(in)i(r)m(ow-major)166 9671 y(or)m(der)-13
b(.)56 b Fn(Array-dimensions)47 b Fr(r)m(eturns)e(the)g(dimensions)h
(of)f(the)g(array)g(as)h(a)f(list.)202 10016 y Fj(\017)91
b Fn(\(make-shared-array)i Fq(array)c(linear-map)g(dimension)4571
10043 y Fl(0)4740 10016 y Fq(.)27 b(.)g(.)g Fn(\))104
b Fj(!)91 b Fq(array)166 10361 y Fn(Make-shared-array)72
b Fr(makes)e(a)h(new)f(array)g(that)h(shar)m(es)f(storage)h(with)f
Fq(array)g Fr(and)g(uses)166 10586 y Fq(linear-map)44
b Fr(to)j(map)f(indexes)h(to)g(elements.)59 b Fq(Linear-map)45
b Fr(must)h(accept)h(as)f(many)g(ar)m(guments)f(as)166
10812 y(the)60 b(number)f(of)h Fq(dimension)p Fr(s)f(given)h(and)g
(must)g(r)m(eturn)f(a)h(list)h(of)f(non-negative)f(integers)i(that)166
11038 y(ar)m(e)45 b(valid)g(indexes)g(into)h Fq(array)p
Fr(.)56 b(\241)497 11417 y Fn(\(array-ref)110 b(\(make-shared-array)g
(a)g(f)f(i0)g(i1)g(...\))1697 11643 y(j0)g(j1)g(...\))3495
12141 y Fr(29)p eop end
%%Page: 30 36
TeXDict begin 30 35 bop 332 1146 a Fr(is)46 b(equivalent)e(to)663
1576 y Fn(\(apply)109 b(array-ref)h(a)g(\(f)f(j0)g(j1)g(...\)\))614
1995 y Fr(As)51 b(an)e(example,)i(the)f(following)f(function)g(makes)g
(the)h(transpose)h(of)e(a)h(two-dimensional)332 2221
y(array:)663 2651 y Fn(\(define)110 b(\(transpose)g(array\))881
2888 y(\(let)f(\(\(dimensions)i(\(array-dimensions)f(array\)\)\))1099
3124 y(\(make-shared-array)h(array)3172 3361 y(\(lambda)f(\(x)f(y\))
3390 3598 y(\(list)h(y)f(x\)\))3172 3835 y(\(cadr)g(dimensions\))3172
4072 y(\(car)g(dimensions\)\)\)\))663 4545 y(\(array->vector)881
4782 y(\(transpose)1099 5019 y(\(array)h('\(2)f(3\))g('a)h('b)f('c)g
('d)h('e)f('f\)\)\))1317 5256 y Fj(!)g Fn('\(a)h(d)f(b)g(e)g(c)g(f\))
332 5920 y Fk(5.7)238 b(Records)332 6364 y Fr(New)81
b(types)g(can)f(be)h(constr)o(ucted)f(using)g(the)h Fn
(define-record-type)i Fr(macr)m(o)c(fr)m(om)h(the)332
6590 y Fn(define-record-types)47 b Fr(str)o(uctur)m(e)d(The)i(general)f
(syntax)h(is:)663 7020 y Fn(\(define-record-type)111
b Fq(tag)d(type-name)881 7257 y Fn(\()p Fq(constructor-name)f
(\002eld-tag)g Fn(...\))881 7494 y Fq(pr)m(edicate-name)881
7731 y Fn(\()p Fq(\002eld-tag)g(accessor-name)g Fn([)p
Fq(modi\002er-name)p Fn(]\))881 7967 y(...\))332 8386
y Fr(This)46 b(makes)f(the)h(following)e(de\002nitions:)368
8806 y Fj(\017)91 b Fq(type-name)5496 b Fr(type)368 9031
y Fj(\017)91 b Fn(\()p Fq(constructor-name)e(\002eld-init)f(.)27
b(.)g(.)g Fn(\))104 b Fj(!)91 b Fq(type-name)368 9257
y Fj(\017)g Fn(\()p Fq(pr)m(edicate-name)d(value)p Fn(\))i
Fj(!)h Fq(boolean)368 9483 y Fj(\017)g Fn(\()p Fq(accessor-name)e
(type-name)p Fn(\))h Fj(!)h Fq(value)368 9709 y Fj(\017)g
Fn(\()p Fq(modi\002er-name)f(type-name)f(value)p Fn(\))332
10128 y Fq(T)-17 b(ype-name)68 b Fr(is)h(the)g(r)m(ecor)m(d)g(type)g
(itself,)75 b(and)69 b(can)f(be)h(used)f(to)i(specify)f(a)f(print)h
(method)g(\(see)332 10354 y(below\).)59 b Fq(Constructor-name)44
b Fr(is)i(a)h(constr)o(uctor)e(that)i(accepts)f(values)g(for)g(the)h
(\002elds)f(whose)h(tags)332 10580 y(ar)m(e)65 b(speci\002ed.)118
b Fq(Pr)m(edicate-name)63 b Fr(is)i(a)h(pr)m(edicate)f(that)h(r)m
(eturns)f Fn(#t)h Fr(for)f(elements)g(of)h(the)f(type)332
10805 y(and)c Fn(#f)g Fr(for)f(everything)h(else.)103
b(The)62 b Fq(accessor-name)p Fr(s)c(r)m(etrieve)j(the)g(values)f(of)h
(\002elds,)k(and)c(the)332 11031 y Fq(modi\002er-name)p
Fr('s)51 b(update)i(them.)77 b Fq(T)-20 b(ag)52 b Fr(is)h(used)f(in)h
(printing)f(instances)g(of)h(the)f(r)m(ecor)m(d)g(type)h(and)332
11257 y(the)41 b Fq(\002eld-tag)p Fr(s)e(ar)m(e)i(used)g(in)g(the)g
(inspector)g(and)g(to)h(match)e(constr)o(uctor)h(ar)m(guments)f(with)g
(\002elds.)368 11643 y Fj(\017)91 b Fn(\(define-record-discloser)i
Fq(type)d(discloser)p Fn(\))3661 12141 y Fr(30)p eop
end
%%Page: 31 37
TeXDict begin 31 36 bop 166 1146 a Fn(Define-record-discloser)49
b Fr(determines)e(how)g(r)m(ecor)m(ds)g(of)g(type)h Fq(type)e
Fr(ar)m(e)h(printed.)63 b Fq(Dis-)166 1372 y(closer)53
b Fr(should)h(be)f(pr)m(ocedur)m(e)h(which)f(takes)i(a)f(single)g(r)m
(ecor)m(d)f(of)h(type)h Fq(type)e Fr(and)h(r)m(eturns)g(a)g(list)166
1597 y(whose)k(car)g(is)g(a)g(symbol.)94 b(The)58 b(r)m(ecor)m(d)g
(will)f(be)h(printed)g(as)h(the)f(value)f(r)m(eturned)h(by)f
Fq(discloser)166 1823 y Fr(with)45 b(curly)g(braces)f(used)i(instead)f
(of)h(the)f(usual)g(par)m(enthesis.)448 2049 y(For)h(example)497
2360 y Fn(\(define-record-type)111 b(pare)e(:pare)715
2585 y(\(kons)g(x)h(y\))715 2811 y(pare?)715 3037 y(\(x)f(kar)h
(set-kar!\))715 3263 y(\(y)f(kdr\)\))166 3573 y Fr(de\002nes)65
b Fn(kons)h Fr(to)g(be)e(a)h(constr)o(uctor)-13 b(,)70
b Fn(kar)65 b Fr(and)g Fn(kdr)h Fr(to)f(be)g(accessors,)70
b Fn(set-kar!)117 b Fr(to)65 b(be)g(a)166 3799 y(modi\002er)-13
b(,)73 b(and)67 b Fn(pare?)124 b Fr(to)68 b(be)f(a)h(pr)m(edicate)f
(for)h(a)f(new)g(type)i(of)e(object.)123 b(The)68 b(type)h(itself)e(is)
166 4025 y(named)45 b Fn(:pare)p Fr(.)57 b Fn(Pare)46
b Fr(is)f(a)h(tag)g(used)f(in)g(printing)g(the)h(new)f(objects.)448
4251 y(By)54 b(default,)h(the)f(new)e(objects)h(print)h(as)f
Fn(#)p Fj(f)p Fn(Pare)p Fj(g)p Fr(.)81 b(The)53 b(print)h(method)f(can)
g(be)g(modi\002ed)166 4477 y(using)45 b Fn(define-record-discloser)p
Fr(:)497 4787 y Fn(\(define-record-discloser)111 b(:pare)715
5013 y(\(lambda)f(\(p\))f(`\(pare)h(,\(kar)f(p\))g(,\(kdr)h(p\)\)\)\))
166 5324 y Fr(will)45 b(cause)g(the)g(r)m(esult)g(of)h
Fn(\(kons)109 b(1)g(2\))46 b Fr(to)g(print)g(as)f Fn(#)p
Fj(f)p Fn(Pare)109 b(1)h(2)p Fj(g)p Fr(.)448 5549 y Fn
(Define-record-resumer)47 b Fr(\(section)e(6.9.3\))g(can)g(be)f(used)h
(to)h(contr)m(ol)e(how)h(r)m(ecor)m(ds)f(ar)m(e)166 5775
y(stor)m(ed)i(in)f(heap)h(images.)166 6271 y Fe(5.7.1)198
b(Low-level)49 b(access)i(to)f(records)166 6625 y Fr(Recor)m(ds)d(ar)m
(e)g(implemented)f(using)h(primitive)f(objects)h(exactly)g(analogous)f
(to)i(vectors.)61 b(Every)166 6851 y(r)m(ecor)m(d)e(has)h(a)f(r)m(ecor)
m(d)g(type)i(\(which)d(is)i(another)g(r)m(ecor)m(d\))e(in)i(the)g
(\002rst)g(slot.)100 b(Note)61 b(that)f(use)f(of)166
7077 y(these)h(pr)m(ocedur)m(es,)i(especially)e Fn(record-set!)p
Fr(,)k(br)m(eaks)59 b(the)g(r)m(ecor)m(d)g(abstraction)g(described)166
7303 y(above;)45 b(caution)g(is)h(advised.)448 7529 y(These)g(pr)m
(ocedur)m(es)f(ar)m(e)g(in)g(the)h(str)o(uctur)m(e)e
Fn(records)p Fr(.)202 7806 y Fj(\017)91 b Fn(\(make-record)h
Fq(n)f(value)p Fn(\))f Fj(!)h Fq(r)m(ecord)202 8032 y
Fj(\017)g Fn(\(record)h Fq(value)e(.)27 b(.)g(.)g Fn(\))104
b Fj(!)90 b Fq(r)m(ecord-vector)202 8257 y Fj(\017)h
Fn(\(record?)103 b Fq(value)p Fn(\))90 b Fj(!)g Fq(boolean)202
8483 y Fj(\017)h Fn(\(record-length)h Fq(r)m(ecord)p
Fn(\))e Fj(!)h Fq(integer)202 8709 y Fj(\017)g Fn(\(record-type)h
Fq(r)m(ecord)p Fn(\))e Fj(!)g Fq(value)202 8935 y Fj(\017)h
Fn(\(record-ref)h Fq(r)m(ecord)e(i)p Fn(\))g Fj(!)h Fq(value)202
9161 y Fj(\017)g Fn(\(record-set!)h Fq(r)m(ecord)e(i)g(value)p
Fn(\))166 9438 y Fr(These)77 b(the)f(same)f(as)h(the)g(standar)m(d)g
Fn(vector-)g Fr(pr)m(ocedur)m(es)g(except)g(that)g(they)g(operate)h(on)
166 9664 y(r)m(ecor)m(ds.)199 b(The)93 b(value)f(r)m(eturned)h(by)f
Fn(record-length)i Fr(includes)e(the)i(slot)f(holding)g(the)166
9890 y(r)m(ecor)m(d's)44 b(type.)58 b Fn(\(record-type)110
b Fq(x)p Fn(\))46 b Fr(is)f(equivalent)g(to)h Fn(\(record-ref)110
b Fq(x)f Fn(0\))p Fr(.)166 10386 y Fe(5.7.2)198 b(Record)49
b(types)166 10740 y Fr(Recor)m(d)136 b(types)g(ar)m(e)f(themselves)g(r)
m(ecor)m(ds)g(of)g(a)h(particular)e(type)i(\(the)g(\002rst)f(slot)h(of)
166 10966 y Fn(:record-type)70 b Fr(points)g(to)g(itself\).)128
b(A)69 b(r)m(ecor)m(d)g(type)h(contains)f(four)f(values:)104
b(the)70 b(name)e(of)166 11191 y(the)c(r)m(ecor)m(d)e(type,)69
b(a)63 b(list)h(of)f(the)g(names)g(its)h(\002elds,)k(and)63
b(pr)m(ocedur)m(es)g(for)g(disclosing)g(and)g(r)m(e-)166
11417 y(suming)58 b(r)m(ecor)m(ds)h(of)g(that)g(type.)99
b(Pr)m(ocedur)m(es)58 b(for)h(manipulating)f(them)h(ar)m(e)g(in)g(the)g
(str)o(uctur)m(e)166 11643 y Fn(record-types)p Fr(.)3495
12141 y(31)p eop end
%%Page: 32 38
TeXDict begin 32 37 bop 368 1146 a Fj(\017)91 b Fn(\(make-record-type)i
Fq(name)e(\002eld-names)p Fn(\))e Fj(!)i Fq(r)m(ecord-type)368
1372 y Fj(\017)g Fn(\(record-type?)103 b Fq(value)p Fn(\))90
b Fj(!)h Fq(boolean)368 1597 y Fj(\017)g Fn(\(record-type-name)i
Fq(r)m(ecord-type)p Fn(\))88 b Fj(!)j Fq(symbol)368 1823
y Fj(\017)g Fn(\(record-type-field-names)i Fq(r)m(ecord-type)p
Fn(\))c Fj(!)h Fq(symbols)368 2218 y Fj(\017)h Fn(\(record-constructor)
i Fq(r)m(ecord-type)88 b(\002eld-names)p Fn(\))h Fj(!)i
Fq(pr)m(ocedur)m(e)368 2444 y Fj(\017)g Fn(\(record-predicate)i
Fq(r)m(ecord-type)p Fn(\))88 b Fj(!)j Fq(pr)m(ocedur)m(e)368
2670 y Fj(\017)g Fn(\(record-accessor)i Fq(r)m(ecord-type)88
b(\002eld-name)p Fn(\))h Fj(!)i Fq(pr)m(ocedur)m(e)368
2896 y Fj(\017)g Fn(\(record-modifier)i Fq(r)m(ecord-type)88
b(\002eld-name)p Fn(\))h Fj(!)i Fq(pr)m(ocedur)m(e)332
3206 y Fr(These)238 b(pr)m(ocedur)m(es)g(constr)o(uct)f(the)h(usual)f
(r)m(ecor)m(d-manipulating)e(pr)m(ocedur)m(es.)332 3432
y Fn(Record-constructor)119 b Fr(r)m(eturns)d(a)i(constr)o(uctor)e
(that)i(is)f(passed)g(the)h(initial)f(values)332 3658
y(for)75 b(the)h(\002elds)g(speci\002ed)g(and)g(r)m(eturns)f(a)g(new)g
(r)m(ecor)m(d.)147 b Fn(Record-predicate)77 b Fr(r)m(eturns)e(a)332
3884 y(pr)m(edicate)64 b(that)h(r)m(eturn)f(tr)o(ue)g(when)g(passed)h
(a)f(r)m(ecor)m(d)g(of)g(type)h Fq(r)m(ecord-type)d Fr(and)i(false)h
(other)m(-)332 4110 y(wise.)79 b Fn(Record-accessor)55
b Fr(and)d Fn(record-modifier)j Fr(r)m(eturn)d(pr)m(ocedur)m(es)g(that)
i(r)m(efer)m(ence)332 4335 y(and)45 b(set)h(the)g(given)f(\002eld)h(in)
f(r)m(ecor)m(ds)g(of)g(the)g(appr)m(oriate)h(type.)368
4646 y Fj(\017)91 b Fn(\(define-record-discloser)i Fq(r)m(ecord-type)88
b(discloser)p Fn(\))368 4872 y Fj(\017)j Fn(\(define-record-resumer)i
Fq(r)m(ecord-type)88 b(r)m(esumer)p Fn(\))332 5182 y(Record-types)49
b Fr(is)g(the)f(initial)g(exporter)g(of)g Fn(define-record-discloser)j
Fr(\(r)m(e-exported)332 5408 y(by)61 b Fn(define-record-types)j
Fr(described)d(above\))f(and)i Fn(define-record-resumer)h
Fr(\(r)m(e-)332 5634 y(exported)46 b(by)f Fn(external-calls)i
Fr(\(section)e(6.9.3\)\).)614 5860 y(The)60 b(pr)m(ocedur)m(es)f
(described)g(in)g(this)g(section)h(can)e(be)h(used)h(to)g(de\002ne)f
(new)g(r)m(ecor)m(d-type-)332 6086 y(de\002ning)45 b(macr)m(os.)663
6429 y Fn(\(define-record-type)111 b(pare)e(:pare)881
6655 y(\(kons)h(x)f(y\))881 6881 y(pare?)881 7107 y(\(x)g(kar)h
(set-kar!\))881 7333 y(\(y)f(kdr\)\))332 7676 y Fr(is)46
b(\(sematically\))d(equivalent)i(to)663 8020 y Fn(\(define)110
b(:pare)f(\(make-record-type)i('pare)e('\(x)h(y\)\)\))663
8246 y(\(define)g(kons)f(\(record-constructor)i(:pare)e('\(x)h(y\)\)\))
663 8472 y(\(define)g(kar)f(\(record-accessor)h(:pare)g('x\)\))663
8697 y(\(define)g(set-kar!)f(\(record-modifier)i(:pare)e('x\)\))663
8923 y(\(define)h(kdr)f(\(record-accessor)h(:pare)g('y\)\))614
9267 y Fr(The)46 b(\223\(semantically\)\224)d(above)i(is)g(because)f
Fn(define-record-type)j Fr(adds)e(declarations,)332 9493
y(which)56 b(allows)i(the)f(type)h(checker)f(to)h(detect)g(some)f
(misuses)g(of)g(r)m(ecor)m(ds,)k(and)c(uses)g(mor)m(e)g(ef-)332
9719 y(\002cient)65 b(de\002nitions)g(for)g(the)g(constr)o(uctor)-13
b(,)69 b(accessors,)h(and)65 b(modi\002ers.)115 b(Ignoring)65
b(the)g(decla-)332 9944 y(rations,)k(which)63 b(will)g(have)g(to)h
(wait)g(for)f(another)h(edition)g(of)g(the)g(manual,)j(what)d(the)g
(above)332 10170 y(example)45 b(actually)g(expands)h(into)f(is:)663
10514 y Fn(\(define)110 b(:pare)f(\(make-record-type)i('pare)e('\(x)h
(y\)\)\))663 10740 y(\(define)g(\(kons)f(x)g(y\))h(\(record)f(:pare)h
(x)f(y\)\))663 10966 y(\(define)h(\(kar)f(r\))g(\(checked-record-ref)i
(r)e(:pare)h(1\)\))663 11191 y(\(define)g(\(set-kar!)f(r)h(new\))881
11417 y(\(checked-record-set!)h(r)e(:pare)h(1)f(new\)\))663
11643 y(\(define)h(\(kdr)f(r\))g(\(checked-record-ref)i(r)e(:pare)h
(2\)\))3661 12141 y Fr(32)p eop end
%%Page: 33 39
TeXDict begin 33 38 bop 166 1146 a Fn(Checked-record-ref)48
b Fr(and)e Fn(Checked-record-set!)60 b Fr(ar)m(e)45 b(low-level)g(pr)m
(ocedur)m(es)h(that)166 1372 y(check)f(the)h(type)g(of)f(the)h(r)m
(ecor)m(d)e(and)i(access)f(or)g(modify)g(it)h(using)f(a)g(single)h(VM)f
(instr)o(uction.)166 1962 y Fk(5.8)238 b(Finite)58 b(record)i(types)166
2384 y Fr(The)41 b(str)o(uctur)m(e)e Fn(finite-types)i
Fr(has)g(two)f(macr)m(os)g(for)g(de\002ning)g(`\002nite')g(r)m(ecor)m
(d)g(types.)56 b(These)166 2610 y(ar)m(e)49 b(r)m(ecor)m(d)g(types)h
(for)g(which)e(ther)m(e)h(ar)m(e)h(a)f(\002xed)h(number)e(of)h
(instances,)i(all)e(of)h(which)e(ar)m(e)h(cr)m(e-)166
2836 y(ated)c(at)g(the)g(same)f(time)h(as)f(the)h(r)m(ecor)m(d)f(type)h
(itself.)57 b(The)45 b(syntax)f(for)h(de\002ning)f(an)h(enumerated)166
3062 y(type)h(is:)497 3406 y Fn(\(define-enumerated-type)111
b Fq(tag)d(type-name)715 3632 y(pr)m(edicate-name)715
3857 y(vector-of-instances-name)715 4083 y(name-accessor)715
4309 y(index-accessor)715 4535 y Fn(\()p Fq(instance-name)f
Fn(...\)\))166 4879 y Fr(This)54 b(de\002nes)g(a)f(new)h(r)m(ecor)m(d)e
(type,)57 b(bound)c(to)i Fq(type-name)p Fr(,)f(with)g(as)f(many)g
(instances)h(as)f(ther)m(e)166 5105 y(ar)m(e)70 b Fq(instance-name)p
Fr('s.)129 b Fq(V)-17 b(ector-of-instances-name)66 b
Fr(is)71 b(bound)e(to)i(a)g(vector)f(containing)g(the)h(in-)166
5330 y(stances)46 b(of)f(the)h(type)h(in)e(the)h(same)f(or)m(der)h(as)g
(the)g Fq(instance-name)d Fr(list.)58 b Fq(T)-20 b(ag)45
b Fr(is)h(bound)f(to)h(a)g(macr)m(o)166 5556 y(that)41
b(when)g(given)g(an)f Fq(instance-name)f Fr(expands)j(into)f(an)g(expr)
m(ession)g(that)g(r)m(eturns)g(corr)m(espond-)166 5782
y(ing)56 b(instance.)88 b(The)56 b(name)g(lookup)g(is)g(done)g(at)h
(macr)m(o)e(expansion)h(time.)88 b Fq(Pr)m(edicate-name)53
b Fr(is)j(a)166 6008 y(pr)m(edicate)40 b(for)f(the)i(new)e(type.)56
b Fq(Name-accessor)38 b Fr(and)i Fq(index-accessor)d
Fr(ar)m(e)i(accessors)h(for)g(the)g(name)166 6234 y(and)45
b(index)g(\(in)g Fq(vector-of-instances)p Fr(\))40 b(of)46
b(instances)f(of)g(the)h(type.)497 6621 y Fn(\(define-enumerated-type)
111 b(color)e(:color)715 6847 y(color?)715 7073 y(colors)715
7299 y(color-name)715 7524 y(color-index)715 7750 y(\(black)h(white)f
(purple)h(maroon\)\))497 8202 y(\(color-name)g(\(vector-ref)g(colors)g
(0\)\))f Fj(!)g Fn(black)497 8428 y(\(color-name)h(\(color)f(white\)\))
983 b Fj(!)109 b Fn(white)497 8653 y(\(color-index)h(\(color)g
(purple\)\))764 b Fj(!)109 b Fn(2)448 9041 y Fr(Finite)62
b(types)h(ar)m(e)e(enumerations)g(that)h(allow)f(the)h(user)g(to)g(add)
g(additional)f(\002elds)h(in)g(the)166 9267 y(type.)c(The)45
b(syntax)h(for)f(de\002ning)g(a)h(\002nite)f(type)h(is:)497
9611 y Fn(\(define-finite-type)111 b Fq(tag)d(type-name)715
9836 y Fn(\()p Fq(\002eld-tag)f Fn(...\))715 10062 y
Fq(pr)m(edicate-name)715 10288 y(vector-of-instances-name)715
10514 y(name-accessor)715 10740 y(index-accessor)715
10966 y Fn(\()p Fq(\002eld-tag)g(accessor-name)g Fn([)p
Fq(modi\002er-name)p Fn(]\))715 11191 y(...)715 11417
y(\(\()p Fq(instance-name)g(\002eld-value)g Fn(...\))824
11643 y(...\)\))3495 12141 y Fr(33)p eop end
%%Page: 34 40
TeXDict begin 34 39 bop 332 1146 a Fr(The)51 b(additional)g(\002elds)g
(ar)m(e)g(speci\002ed)g(exactly)g(as)g(with)f Fn(define-record-type)p
Fr(.)75 b(The)51 b(\002eld)332 1372 y(ar)m(guments)59
b(to)i(the)g(constr)o(uctor)e(ar)m(e)h(listed)h(after)e(the)i
Fq(type-name)p Fr(;)67 b(these)60 b(do)h(not)f(include)g(the)332
1597 y(name)51 b(and)g(index)g(\002elds.)74 b(The)52
b(form)e(ends)i(with)f(the)g(names)g(and)g(the)h(initial)e(\002eld)i
(values)e(for)332 1823 y(the)59 b(instances)f(of)g(the)h(type.)97
b(The)59 b(instances)f(ar)m(e)g(constr)o(ucted)g(by)h(applying)f(the)h
(\(unnamed\))332 2049 y(constr)o(uctor)65 b(to)i(these)f(initial)g
(\002eld)g(values.)118 b(The)67 b(name)e(must)g(be)h(\002rst)g(and)g
(the)g(r)m(emaining)332 2275 y(values)45 b(must)g(match)g(the)g
Fq(\002eld-tag)p Fr(s)f(in)h(the)h(constr)o(uctor)13
b('s)44 b(ar)m(gument)h(list.)663 2736 y Fn(\(define-finite-type)111
b(color)e(:color)881 2967 y(\(red)g(green)h(blue\))881
3199 y(color?)881 3431 y(colors)881 3663 y(color-name)881
3895 y(color-index)881 4126 y(\(red)328 b(color-red\))881
4358 y(\(green)110 b(color-green\))881 4590 y(\(blue)219
b(color-blue\))881 4822 y(\(\(black)437 b(0)327 b(0)h(0\))990
5053 y(\(white)219 b(255)109 b(255)h(255\))990 5285 y(\(purple)g(160)
218 b(32)110 b(240\))990 5517 y(\(maroon)g(176)218 b(48)h(96\)\)\))663
5981 y(\(color-name)110 b(\(color)g(black\)\))982 b Fj(!)109
b Fn(black)663 6212 y(\(color-name)h(\(vector-ref)g(colors)g(1\)\))f
Fj(!)g Fn(white)663 6444 y(\(color-index)h(\(color)g(purple\)\))764
b Fj(!)109 b Fn(2)663 6676 y(\(color-red)h(\(color)f(maroon\)\))983
b Fj(!)109 b Fn(176)332 7310 y Fk(5.9)238 b(Hash)60 b(tables)332
7744 y Fr(These)46 b(ar)m(e)g(generic)f(hash)g(tables,)i(and)e(ar)m(e)g
(in)h(the)g(str)o(uctur)m(e)e Fn(tables)p Fr(.)59 b(Strictly)46
b(speaking)g(they)332 7970 y(ar)m(e)k(mor)m(e)h(maps)f(than)h(tables,)h
(as)f(every)g(table)f(has)h(a)g(value)f(for)g(every)h(possible)g(key)g
(\(for)f(that)332 8195 y(type)c(of)g(table\).)56 b(All)45
b(but)g(a)h(\002nite)f(number)f(of)h(those)h(values)f(ar)m(e)g
Fn(#f)p Fr(.)368 8561 y Fj(\017)91 b Fn(\(make-table\))h
Fj(!)f Fq(table)368 8787 y Fj(\017)g Fn(\(make-symbol-table\))i
Fj(!)e Fq(symbol-table)368 9013 y Fj(\017)g Fn(\(make-string-table\))i
Fj(!)e Fq(string-table)368 9239 y Fj(\017)g Fn(\(make-integer-table\))i
Fj(!)e Fq(integer-table)368 9465 y Fj(\017)g Fn(\(make-table-maker)i
Fq(compar)m(e-pr)m(oc)88 b(hash-pr)m(oc)p Fn(\))h Fj(!)i
Fq(pr)m(ocedur)m(e)368 9690 y Fj(\017)g Fn(\(make-table-immutable!)i
Fq(table)p Fn(\))332 10056 y Fr(The)72 b(\002rst)g(four)e(functions)h
(listed)h(make)f(various)g(kinds)g(of)h(tables.)134 b
Fn(Make-table)73 b Fr(r)m(eturns)332 10282 y(a)62 b(table)f(whose)g
(keys)h(may)g(be)f(symbols,)66 b(integer)-13 b(,)65 b(characters,)h
(booleans,)g(or)61 b(the)h(empty)g(list)332 10508 y(\(these)72
b(ar)m(e)g(also)h(the)f(values)g(that)h(may)e(be)h(used)h(in)f
Fn(case)g Fr(expr)m(essions\).)137 b(As)73 b(with)f Fn(case)p
Fr(,)332 10734 y(comparison)51 b(is)g(done)g(using)g
Fn(eqv?)p Fr(.)74 b(The)52 b(comparison)f(pr)m(ocedur)m(es)f(used)h(in)
g(symbol,)i(string,)332 10960 y(and)45 b(integer)h(tables)f(ar)m(e)g
Fn(eq?)p Fr(,)h Fn(string=?)p Fr(,)h(and)e Fn(=)p Fr(.)614
11191 y Fn(Make-table-maker)68 b Fr(takes)f(two)g(pr)m(ocedur)m(es)e
(as)i(ar)m(guments)e(and)h(r)m(eturns)g(a)g(nullary)332
11417 y(table-making)82 b(pr)m(ocedur)m(e.)168 b Fq(Compar)m(e-pr)m(oc)
81 b Fr(should)i(be)g(a)f(two-ar)m(gument)g(equality)h(pr)m(edi-)332
11643 y(cate.)104 b Fq(Hash-pr)m(oc)60 b Fr(should)h(be)g(a)g(one)g(ar)
m(gument)f(pr)m(ocedur)m(e)h(that)g(takes)h(a)f(key)h(and)f(r)m(eturns)
f(a)3661 12141 y(34)p eop end
%%Page: 35 41
TeXDict begin 35 40 bop 166 1146 a Fr(non-negative)51
b(integer)h(hash)f(value.)75 b(If)51 b Fn(\()p Fq(compar)m(e-pr)m(oc)
107 b(x)i(y)p Fn(\))51 b Fr(r)m(eturns)g(tr)o(ue,)i(then)f
Fn(\(=)109 b(\()p Fq(hash-)166 1372 y(pr)m(oc)f(x)p Fn(\))h(\()p
Fq(hash-pr)m(oc)e(y)p Fn(\)\))43 b Fr(must)f(also)h(r)m(eturn)e(tr)o
(ue.)56 b(For)42 b(example,)h Fn(make-integer-table)166
1597 y Fr(could)i(be)g(de\002ned)h(as)f Fn(\(make-table-maker)111
b(=)e(abs\))p Fr(.)448 1824 y Fn(Make-table-immutable!)59
b Fr(pr)m(ohibits)45 b(futur)m(e)f(modi\002cation)h(to)h(its)g(ar)m
(gument.)202 2167 y Fj(\017)91 b Fn(\(table?)103 b Fq(value)p
Fn(\))90 b Fj(!)g Fq(boolean)202 2393 y Fj(\017)h Fn(\(table-ref)h
Fq(table)e(key)p Fn(\))g Fj(!)h Fq(value)f(or)g Fn(#f)202
2619 y Fj(\017)h Fn(\(table-set!)h Fq(table)e(key)g(value)p
Fn(\))202 2844 y Fj(\017)h Fn(\(table-walk)h Fq(pr)m(ocedur)m(e)d
(table)p Fn(\))166 3188 y(Table?)d Fr(is)55 b(the)h(pr)m(edicate)f(for)
g(tables.)85 b Fn(Table-ref)56 b Fr(and)f Fn(table-set!)87
b Fr(access)55 b(and)g(mod-)166 3414 y(ify)60 b(the)g(value)f(of)h
Fq(key)g Fr(in)g Fq(table)p Fr(.)99 b Fn(Table-walk)61
b Fr(applies)g Fq(pr)m(ocedur)m(e)p Fr(,)h(which)d(must)h(accept)g(two)
166 3639 y(ar)m(guments,)45 b(to)h(every)f(associated)h(key)g(and)f
(non-)p Fn(#f)g Fr(value)g(in)g Fn(table)p Fr(.)202 3983
y Fj(\017)91 b Fn(\(default-hash-function)i Fq(value)p
Fn(\))d Fj(!)h Fq(integer)202 4209 y Fj(\017)g Fn(\(string-hash)h
Fq(string)p Fn(\))e Fj(!)g Fq(integer)166 4552 y Fn
(Default-hash-function)97 b Fr(is)d(the)h(hash)g(function)f(used)g(in)h
(the)g(tables)f(r)m(eturned)g(by)166 4778 y Fn(make-table)p
Fr(,)47 b(and)e Fn(string-hash)i Fr(it)e(the)h(one)f(used)h(by)f
Fn(make-string-table)p Fr(.)166 5377 y Fk(5.10)238 b(Port)59
b(extensions)166 5800 y Fr(These)46 b(pr)m(ocedur)m(es)f(ar)m(e)g(in)g
(str)o(uctur)m(e)f Fn(extended-ports)p Fr(.)202 6143
y Fj(\017)91 b Fn(\(make-string-input-port)i Fq(string)p
Fn(\))d Fj(!)g Fq(input-port)202 6369 y Fj(\017)h Fn
(\(make-string-output-port\))i Fj(!)e Fq(output-port)202
6595 y Fj(\017)g Fn(\(string-output-port-output)i Fq
(string-output-port)p Fn(\))87 b Fj(!)k Fq(string)166
6938 y Fn(Make-string-input-port)39 b Fr(r)m(eturns)c(an)i(input)f
(port)h(that)g(that)g(r)m(eads)f(characters)f(fr)m(om)h(the)166
7164 y(supplied)51 b(string.)73 b(An)51 b(end-of-\002le)f(object)g(is)h
(r)m(eturned)f(if)h(the)g(user)f(r)m(eads)h(past)g(the)g(end)g(of)g
(the)166 7390 y(string.)j Fn(Make-string-output-port)37
b Fr(r)m(eturns)e(an)g(output)h(port)g(that)g(saves)f(the)h(characters)
166 7616 y(written)41 b(to)g(it.)55 b(These)41 b(ar)m(e)f(then)h(r)m
(eturned)f(as)h(a)f(string)h(by)f Fn(string-output-port-output)p
Fr(.)497 8043 y Fn(\(read)109 b(\(make-string-input-port)i("\(a)f
(b\)"\)\))933 8269 y Fj(!)f Fn('\(a)g(b\))497 8722 y(\(let)g(\(\(p)h
(\(make-string-output-port\)\)\))715 8948 y(\(write)g('\(a)f(b\))g(p\))
715 9174 y(\(let)g(\(\(s)h(\(string-output-port-output)h(p\)\)\))933
9400 y(\(display)f("c")f(p\))933 9626 y(\(list)h(s)f
(\(string-output-port-output)i(p\)\)\)\))933 9852 y Fj(!)e
Fn('\("\(a)h(b\)")f("\(a)g(b\)c"\))202 10279 y Fj(\017)91
b Fn(\(limit-output)h Fq(output-port)d(n)i(pr)m(ocedur)m(e)p
Fn(\))166 10622 y Fq(Pr)m(ocedur)m(e)c Fr(is)j(called)e(on)i(an)f
(output)g(port.)189 b(Output)89 b(written)g(to)h(that)f(port)h(is)f
(copied)g(to)166 10848 y Fq(output-port)59 b Fr(until)j
Fq(n)g Fr(characters)f(have)g(been)g(written,)67 b(at)62
b(which)f(point)h Fn(limit-output)h Fr(r)m(e-)166 11074
y(turns.)97 b(If)59 b Fq(pr)m(ocedur)m(e)e Fr(r)m(eturns)i(befor)m(e)f
(writing)g Fq(n)h Fr(characters,)j(then)d Fn(limit-output)i
Fr(also)e(r)m(e-)166 11300 y(turns)45 b(at)h(that)f(time,)h(r)m(egar)m
(dless)f(of)g(how)h(many)e(characters)h(have)g(been)g(written.)202
11643 y Fj(\017)91 b Fn(\(make-tracking-input-port)i
Fq(input-port)p Fn(\))c Fj(!)i Fq(input-port)3495 12141
y Fr(35)p eop end
%%Page: 36 42
TeXDict begin 36 41 bop 368 1146 a Fj(\017)91 b Fn
(\(make-tracking-output-port)j Fq(output-port)p Fn(\))88
b Fj(!)j Fq(output-port)368 1372 y Fj(\017)g Fn(\(current-row)h
Fq(port)p Fn(\))e Fj(!)h Fq(integer)e(or)h Fn(#f)368
1597 y Fj(\017)h Fn(\(current-column)i Fq(port)p Fn(\))c
Fj(!)i Fq(integer)e(or)i Fn(#f)368 1823 y Fj(\017)g Fn(\(fresh-line)h
Fq(output-port)p Fn(\))332 2152 y(Make-tracking-input-port)69
b Fr(and)e Fn(make-tracking-output-port)i Fr(r)m(eturn)d(ports)332
2377 y(that)h(keep)g(track)f(of)g(the)h(curr)m(ent)e(r)m(ow)h(and)g
(column)g(and)g(ar)m(e)g(otherwise)g(identical)g(to)h(their)332
2603 y(ar)m(guments.)53 b(Closing)38 b(a)g(tracking)g(port)h(does)f
(not)h(close)f(the)g(underlying)f(port.)55 b Fn(Current-row)332
2829 y Fr(and)49 b Fn(current-column)i Fr(r)m(eturn)e
Fq(port)o Fr('s)g(curr)m(ent)f(r)m(ead)h(or)h(write)f(location.)69
b(They)49 b(r)m(eturn)g Fn(#f)h Fr(if)332 3055 y Fq(port)61
b Fr(does)i(not)f(keep)h(track)f(of)g(its)g(location.)107
b Fn(Fresh-line)63 b Fr(writes)f(a)g(newline)f(character)h(to)332
3281 y Fq(output-port)43 b Fr(if)i Fn(\(current-row)110
b Fq(port)p Fn(\))44 b Fr(is)i(not)g(0.)663 3690 y Fn(\(define)110
b(p)f(\(open-output-port)h("/tmp/temp"\)\))663 3915 y(\(list)f
(\(current-row)i(p\))e(\(current-column)h(p\)\))1099
4141 y Fj(!)f Fn('\(0)g(0\))663 4367 y(\(display)h("012")f(p\))663
4593 y(\(list)g(\(current-row)i(p\))e(\(current-column)h(p\)\))1099
4819 y Fj(!)f Fn('\(0)g(3\))663 5044 y(\(fresh-line)h(p\))663
5270 y(\(list)f(\(current-row)i(p\))e(\(current-column)h(p\)\))1099
5496 y Fj(!)f Fn('\(1)g(0\))663 5722 y(\(fresh-line)h(p\))663
5948 y(\(list)f(\(current-row)i(p\))e(\(current-column)h(p\)\))1099
6174 y Fj(!)f Fn('\(1)g(0\))332 6768 y Fk(5.11)238 b(Fluid)59
b(bindings)332 7190 y Fr(These)43 b(pr)m(ocedur)m(es)e(implement)g
(dynamic)g(binding)g(and)h(ar)m(e)g(in)f(str)o(uctur)m(e)g
Fn(fluids)p Fr(.)56 b(A)43 b Fq(\003uid)e Fr(is)332 7416
y(a)49 b(cell)g(whose)g(value)g(can)f(be)h(bound)g(dynamically)-20
b(.)67 b(Each)48 b(\003uid)h(has)g(a)g(top-level)g(value)g(that)g(is)
332 7642 y(used)c(when)g(the)h(\003uid)f(is)g(unbound)f(in)h(the)h
(curr)m(ent)e(dynamic)h(envir)m(onment.)368 7970 y Fj(\017)91
b Fn(\(make-fluid)h Fq(value)p Fn(\))e Fj(!)h Fq(\003uid)368
8196 y Fj(\017)g Fn(\(fluid)h Fq(\003uid)p Fn(\))e Fj(!)h
Fq(value)368 8422 y Fj(\017)g Fn(\(let-fluid)h Fq(\003uid)f(value)f
(thunk)q Fn(\))g Fj(!)h Fq(value\(s\))368 8648 y Fj(\017)g
Fn(\(let-fluids)h Fq(\003uid)2183 8675 y Fl(0)2353 8648
y Fq(value)2748 8675 y Fl(0)2916 8648 y Fq(\003uid)3258
8675 y Fl(1)3428 8648 y Fq(value)3823 8675 y Fl(1)3992
8648 y Fq(.)27 b(.)g(.)g(thunk)q Fn(\))92 b Fj(!)f Fq(value\(s\))332
8976 y Fn(Make-fluid)60 b Fr(r)m(eturns)e(a)g(new)g(\003uid)g(with)h
Fq(value)e Fr(as)i(its)g(initial)f(top-level)h(value.)96
b Fn(Fluid)59 b Fr(r)m(e-)332 9202 y(turns)46 b Fn(fluid)p
Fr('s)h(curr)m(ent)f(value.)59 b Fn(Let-fluid)48 b Fr(calls)e
Fn(thunk)p Fr(,)i(with)e Fq(\003uid)h Fr(bound)f(to)h
Fq(value)f Fr(until)332 9428 y Fn(thunk)62 b Fr(r)m(eturns.)106
b(Using)62 b(a)g(continuation)f(to)i(thr)m(ow)e(out)h(of)g(the)g(call)f
(to)i Fn(thunk)f Fr(causes)f Fq(\003uid)332 9654 y Fr(to)k(r)m(evert)e
(to)h(its)h(original)e(value,)68 b(while)c(thr)m(owing)f(back)g(in)h
(causes)f Fq(\003uid)h Fr(to)g(be)g(r)m(ebound)f(to)332
9879 y Fq(value)p Fr(.)55 b Fn(Let-fluid)43 b Fr(r)m(eturns)e(the)i
(value\(s\))e(r)m(eturned)g(by)h Fq(thunk)p Fr(.)55 b
Fn(Let-fluids)43 b Fr(is)g(identical)f(to)332 10105 y
Fn(let-fluid)k Fr(except)g(that)g(it)f(binds)g(an)h(arbitrary)e(number)
g(of)h(\003uids)g(to)h(new)f(values.)663 10514 y Fn(\(let*)109
b(\(\(f)h(\(make-fluid)g('a\)\))1426 10740 y(\(v0)g(\(fluid)f(f\)\))
1426 10966 y(\(v1)h(\(let-fluid)g(f)f('b)2081 11191 y(\(lambda)h(\(\))
2299 11417 y(\(fluid)g(f\)\)\)\))1426 11643 y(\(v2)g(\(fluid)f(f\)\)\))
3661 12141 y Fr(36)p eop end
%%Page: 37 43
TeXDict begin 37 42 bop 715 1146 a Fn(\(list)109 b(v0)h(v1)f(v2\)\))715
1373 y Fj(!)g Fn('\(a)g(b)g(a\))497 1804 y(\(let)g(\(\(f)h
(\(make-fluid)g('a\)\))1151 2031 y(\(path)g('\(\)\))1151
2258 y(\(c)g(#f\)\))715 2485 y(\(let)f(\(\(add)h(\(lambda)g(\(\))2133
2712 y(\(set!)g(path)f(\(cons)h(\(fluid)f(f\))h(path\)\)\)\)\))933
2939 y(\(add\))933 3166 y(\(let-fluid)g(f)f('b)1151 3393
y(\(lambda)h(\(\))1369 3620 y(\(call-with-current-continuation)1588
3847 y(\(lambda)f(\(c0\))1806 4074 y(\(set!)g(c)h(c0\)\)\))1369
4301 y(\(add\)\)\))933 4528 y(\(add\))933 4755 y(\(if)f(\(<)h(\(length)
f(path\))h(5\))1369 4982 y(\(c\))1369 5209 y(\(reverse)g(path\)\)\)\))
715 5436 y Fj(!)f Fn('\(a)g(b)g(a)h(b)f(a\))166 6041
y Fk(5.12)238 b(Shell)58 b(commands)166 6465 y Fr(Str)o(uctur)m(e)44
b Fn(c-system-function)j Fr(pr)m(ovides)f(access)f(to)h(the)g(C)f
Fn(system\(\))h Fr(function.)202 6812 y Fj(\017)91 b
Fn(\(have-system?\))103 b Fj(!)91 b Fq(boolean)202 7038
y Fj(\017)g Fn(\(system)h Fq(string)p Fn(\))d Fj(!)i
Fq(integer)166 7385 y Fn(Have-system?)135 b Fr(r)m(eturns)70
b(tr)o(ue)h(if)f(the)i(underlying)e(C)h(implementation)g(has)g(a)g
(command)166 7610 y(pr)m(ocessor)-13 b(.)109 b Fn(\(System)h
Fq(string)p Fn(\))61 b Fr(passes)j Fq(string)d Fr(to)j(the)f(C)f
Fn(system\(\))i Fr(function)e(and)h(r)m(eturns)166 7836
y(the)46 b(r)m(esult.)497 8268 y Fn(\(begin)715 8495
y(\(system)110 b("echo)f(foo)h(>)f(test-file"\))715 8722
y(\(call-with-input-file)i("test-file")f(read\)\))497
8949 y Fj(!)f Fn('foo)166 9554 y Fk(5.13)238 b(SRFIs)166
9978 y Fr(`SRFI')94 b(stands)g(for)f(`Scheme)g(Request)h(For)g
(Implementation'.)201 b(An)94 b(SRFI)h(is)f(a)g(descrip-)166
10204 y(tion)103 b(of)f(an)g(extension)g(to)h(standar)m(d)f(Scheme.)227
b(Draft)101 b(and)h(\002nal)g(SRFI)i(documents,)116 b(a)166
10430 y(F)-13 b(AQ,)95 b(and)f(other)g(information)f(about)h(SRFIs)h
(can)f(be)g(found)f(at)h(the)h(SRFI)g(web)e(site)i(at)166
10656 y Fn(http://srfi.schemers.org)p Fr(.)448 10883
y(Scheme)45 b(48)h(includes)e(implementations)i(of)f(the)h(following)e
(\(\002nal\))h(SRFIs:)439 11263 y Fj(\017)91 b Fr(SRFI)46
b(1)g(\226)f(List)h(Library)439 11643 y Fj(\017)91 b
Fr(SRFI)46 b(2)g(\226)f Fn(and-let*)3495 12141 y Fr(37)p
eop end
%%Page: 38 44
TeXDict begin 38 43 bop 605 1146 a Fj(\017)91 b Fr(SRFI)46
b(5)g(\226)f Fn(let)h Fr(with)f(signatur)m(es)g(and)g(r)m(est)h(ar)m
(guments)605 1521 y Fj(\017)91 b Fr(SRFI)46 b(6)g(\226)f(Basic)g
(string)h(ports)605 1896 y Fj(\017)91 b Fr(SRFI)46 b(7)g(\226)f(Pr)m
(ogram)g(con\002guration)605 2271 y Fj(\017)91 b Fr(SRFI)46
b(8)g(\226)f Fn(receive)605 2647 y Fj(\017)91 b Fr(SRFI)46
b(9)g(\226)f(De\002ning)g(r)m(ecor)m(d)g(types)605 3022
y Fj(\017)91 b Fr(SRFI)46 b(11)g(\226)f(Syntax)h(for)f(r)m(eceiving)f
(multiple)h(values)605 3397 y Fj(\017)91 b Fr(SRFI)46
b(13)g(\226)f(String)h(Library)605 3773 y Fj(\017)91
b Fr(SRFI)46 b(14)g(\226)f(Character)m(-Set)g(Library)f(\(see)i(note)g
(below\))605 4148 y Fj(\017)91 b Fr(SRFI)46 b(16)g(\226)f(Syntax)h(for)
f(pr)m(ocedur)m(es)g(of)g(variable)f(arity)605 4523 y
Fj(\017)91 b Fr(SRFI)46 b(17)g(\226)f(Generalized)g Fn(set!)605
4898 y Fj(\017)91 b Fr(SRFI)46 b(23)g(\226)f(Err)m(or)g(r)m(eporting)h
(mechanism)332 5274 y(Documentation)f(on)g(these)h(can)f(be)g(found)g
(at)h(the)f(web)g(site)h(mentioned)f(above.)614 5499
y(SRFI)37 b(14)e(includes)g(the)g(pr)m(ocedur)m(e)g Fn(->char-set)h
Fr(which)e(is)i(not)f(a)h(standar)m(d)f(Scheme)g(iden-)332
5725 y(ti\002er)46 b(\(in)e(R)1144 5659 y Fl(5)1223 5725
y Fr(RS)j(the)e(only)h(r)m(equir)m(ed)e(identi\002er)h(starting)h(with)
f Fn(-)g Fr(is)h Fn(-)f Fr(itself\).)56 b(In)46 b(the)f(Scheme)g(48)332
5951 y(version)g(of)h(SRFI)g(14)g(we)f(have)g(r)m(enamed)f
Fn(->char-set)j Fr(as)e Fn(x->char-set)p Fr(.)614 6177
y(The)38 b(SRFI)h(bindings)d(can)h(be)g(accessed)g(either)g(by)g
(opening)h(the)g(appr)m(opriate)f(str)o(uctur)m(e)f(\(the)332
6403 y(str)o(uctur)m(e)k Fn(srfi-)p Fq(n)h Fr(contains)g(SRFI)h
Fq(n)p Fr(\))e(or)h(by)g(loading)g(str)o(uctur)m(e)e
Fn(srfi-7)j Fr(and)f(then)f(using)h(the)332 6628 y Fn
(,load-srfi-7-program)i Fr(command)c(to)i(load)g(an)g(SRFI)h(7-style)e
(pr)m(ogram.)55 b(The)41 b(syntax)f(for)332 6854 y(the)46
b(command)e(is)663 7230 y Fn(,load-srfi-7-program)111
b Fq(name)e(\002lename)332 7605 y Fr(This)40 b(cr)m(eates)g(a)g(new)f
(str)o(uctur)m(e)g(and)g(associated)i(package,)g(binds)e(the)h(str)o
(uctur)m(e)f(to)h Fq(name)g Fr(in)g(the)332 7831 y(con\002guration)e
(package,)j(and)d(then)h(loads)f(the)h(pr)m(ogram)f(found)g(in)g
Fq(\002lename)g Fr(into)h(the)g(package.)614 8056 y(As)46
b(an)g(example,)f(if)g(the)h(\002le)f Fn(test.scm)h Fr(contains)663
8432 y Fn(\(program)110 b(\(code)f(\(define)h(x)f(10\)\)\))332
8807 y Fr(this)46 b(pr)m(ogram)f(can)f(be)i(loaded)f(as)h(follows:)663
9182 y Fn(>)109 b(,load-package)h(srfi-7)663 9408 y(>)f
(,load-srfi-7-program)i(test)e(test.scm)663 9634 y([test])663
9860 y(>)g(,in)g(test)663 10086 y(test>)g(x)663 10311
y(10)663 10537 y(test>)3661 12141 y Fr(38)p eop end
%%Page: 39 45
TeXDict begin 39 44 bop 166 2411 a Fm(Chapter)87 b(6)166
3261 y Fp(Mixing)102 b(Scheme)i(48)f(and)g(C)166 3760
y Fe(Mike)50 b(Sperber)d(and)i(Richard)g(Kelsey)166 4670
y Fr(This)91 b(chapter)g(describes)g(an)f(interface)h(for)f(calling)g
(C)h(functions)f(fr)m(om)g(Scheme,)103 b(calling)166
4896 y(Scheme)37 b(functions)f(fr)m(om)g(C,)i(and)f(allocating)g
(storage)h(in)e(the)i(Scheme)f(heap..)54 b(Scheme)37
b(48)g(man-)166 5121 y(ages)j(stub)f(functions)f(in)h(C)h(that)f
(negotiate)h(between)f(the)h(calling)f(conventions)g(of)g(Scheme)g(and)
166 5347 y(C)53 b(and)g(the)g(memory)g(allocation)g(policies)g(of)g
(both)g(worlds.)80 b(No)53 b(stub)g(generator)g(is)g(available)166
5573 y(yet,)46 b(but)f(writing)g(stubs)g(is)h(a)f(straightforwar)m(d)g
(task.)166 6294 y Fk(6.1)238 b(A)-17 b(vailable)58 b(facilities)166
6756 y Fr(The)46 b(following)f(facilities)f(ar)m(e)h(available)g(for)g
(interfacing)f(between)h(Scheme)g(48)h(and)f(C:)439 7212
y Fj(\017)91 b Fr(Scheme)45 b(code)g(can)g(call)g(C)h(functions.)439
7668 y Fj(\017)91 b Fr(The)37 b(external)f(interface)g(pr)m(ovides)h
(full)f(intr)m(ospection)h(for)g(all)f(Scheme)h(objects.)53
b(External)621 7894 y(code)45 b(may)g(inspect,)h(modify)-20
b(,)45 b(and)h(allocate)f(Scheme)g(objects)g(arbitrarily)-20
b(.)439 8349 y Fj(\017)91 b Fr(External)45 b(code)g(may)g(raise)h
(exceptions)f(back)g(to)h(Scheme)f(48)h(to)g(signal)f(err)m(ors.)439
8805 y Fj(\017)91 b Fr(External)34 b(code)h(may)f(call)g(back)g(into)h
(Scheme.)53 b(Scheme)35 b(48)f(corr)m(ectly)g(unr)m(olls)g(the)h(pr)m
(ocess)621 9031 y(stack)45 b(on)h(non-local)e(exits.)439
9486 y Fj(\017)91 b Fr(External)55 b(modules)g(may)f(r)m(egister)i
(bindings)e(of)h(names)g(to)h(values)f(with)g(a)g(central)g(r)m(eg-)621
9712 y(istry)38 b(accessible)f(fr)m(om)g(Scheme.)54 b(Conversely)-20
b(,)39 b(Scheme)f(code)g(can)g(r)m(egister)g(shar)m(ed)f(bind-)621
9938 y(ings)45 b(for)g(access)g(by)g(C)h(code.)166 10571
y Fe(6.1.1)198 b(Scheme)49 b(structures)166 10966 y Fr(The)67
b(str)o(uctur)m(e)e Fn(external-calls)i Fr(has)g(most)f(of)g(the)h
(Scheme)f(functions)f(described)h(her)m(e.)166 11191
y(The)37 b(others)h(ar)m(e)e(in)h Fn(dynamic-externals)p
Fr(,)j(which)c(has)h(the)g(functions)f(for)g(dynamic)g(loading)166
11417 y(and)g(name)f(lookup)h(fr)m(om)e(Section)j(6.5,)76
b(and)35 b Fn(shared-bindings)p Fr(,)40 b(which)35 b(has)g(the)h
(additional)166 11643 y(shar)m(ed-binding)44 b(functions)g(described)h
(in)g(Section)h(6.2.3.)3495 12141 y(39)p eop end
%%Page: 40 46
TeXDict begin 40 45 bop 332 1146 a Fe(6.1.2)198 b(C)50
b(naming)f(conventions)332 1508 y Fr(The)i(names)f(of)g(all)h(of)f
(Scheme)g(48's)g(visible)g(C)h(bindings)e(begin)h(with)h(`)p
Fn(s48)p 5776 1508 55 7 v 65 w Fr(')f(\(for)g(pr)m(ocedur)m(es)332
1734 y(and)i(variables\))f(or)i(`)p Fn(S48)p 2145 1734
V 65 w Fr(')f(\(for)g(macr)m(os\).)77 b(Whenever)52 b(a)g(C)h(name)f
(is)g(derived)g(fr)m(om)g(a)g(Scheme)332 1960 y(identi\002er)-13
b(,)57 b(we)d(r)m(eplace)f(`)p Fn(-)p Fr(')h(with)g(`)p
2833 1960 V 65 w(')g(and)g(convert)g(letters)g(to)h(lower)m(case)f(for)
g(pr)m(ocedur)m(es)f(and)332 2186 y(upper)m(case)k(for)g(macr)m(os.)91
b(A)58 b(\002nal)f(`)p Fn(?)p Fr(')91 b(converted)57
b(to)h(`)p 4270 2186 V 65 w Fn(p)p Fr(')f(\(`)p 4664
2186 V 65 w Fn(P)p Fr(')g(in)g(C)g(macr)m(o)f(names\).)92
b(A)57 b(\002nal)332 2412 y(`)p Fn(!)p Fr(')100 b(is)61
b(dr)m(opped.)102 b(Thus)60 b(the)g(C)h(macr)m(o)e(for)h(Scheme's)g
Fn(pair?)101 b Fr(is)60 b Fn(S48)p 5473 2412 V 66 w(PAIR)p
5975 2412 V 66 w(P)g Fr(and)g(the)h(one)332 2637 y(for)43
b Fn(set-car!)56 b Fr(is)43 b Fn(S48)p 2046 2637 V 66
w(SET)p 2439 2637 V 66 w(CAR)p Fr(.)g(Pr)m(ocedur)m(es)f(and)h(macr)m
(os)f(that)i(do)f(not)h(check)e(the)h(types)h(of)332
2863 y(their)h(ar)m(guments)g(have)g(`)p Fn(unsafe)p
Fr(')g(in)g(their)h(names.)614 3093 y(All)51 b(of)f(the)h(C)f
(functions)f(and)i(macr)m(os)e(described)h(have)g(pr)m(ototypes)i(or)e
(de\002nitions)h(in)f(the)332 3319 y(\002le)45 b Fn(c/scheme48.h)p
Fr(.)58 b(The)45 b(C)g(type)h(for)f(Scheme)g(values)f(is)h(de\002ned)g
(ther)m(e)g(to)h(be)e Fn(s48)p 6526 3319 V 66 w(value)p
Fr(.)332 3855 y Fe(6.1.3)198 b(Garbage)48 b(collection)332
4218 y Fr(Scheme)58 b(48)g(uses)g(a)g(copying)g(garbage)g(collector)-13
b(.)95 b(The)58 b(collector)g(must)g(be)g(able)f(to)i(locate)f(all)332
4444 y(r)m(efer)m(ences)44 b(to)h(objects)g(allocated)g(in)g(the)g
(Scheme)g(48)g(heap)g(in)f(or)m(der)h(to)h(ensur)m(e)e(that)i(storage)f
(is)332 4670 y(not)e(r)m(eclaimed)e(pr)m(ematur)m(ely)h(and)g(to)h
(update)g(r)m(efer)m(ences)e(to)i(objects)f(moved)g(by)g(the)h
(collector)-13 b(.)332 4895 y(The)38 b(garbage)f(collector)h(may)f(r)o
(un)g(whenever)g(an)g(object)g(is)h(allocated)g(in)f(the)h(heap.)55
b(C)37 b(variables)332 5121 y(whose)64 b(values)g(ar)m(e)f(Scheme)h(48)
g(objects)g(and)g(which)f(ar)m(e)h(live)f(acr)m(oss)h(heap)g
(allocation)h(calls)332 5347 y(need)56 b(to)h(be)e(r)m(egister)m(ed)h
(with)g(the)g(garbage)f(collectorgarbage)h(collector)-13
b(.)87 b(See)57 b(section)f(6.9)g(for)332 5573 y(mor)m(e)45
b(information.)332 6197 y Fk(6.2)238 b(Shared)59 b(bindings)332
6628 y Fr(Shar)m(ed)f(bindings)f(ar)m(e)h(the)g(means)g(by)g(which)f
(named)g(values)g(ar)m(e)h(shar)m(ed)g(between)f(Scheme)332
6853 y(code)64 b(and)g(C)g(code.)112 b(Ther)m(e)64 b(ar)m(e)f(two)h
(separate)g(tables)g(of)g(shar)m(ed)f(bindings,)68 b(one)c(for)g
(values)332 7079 y(de\002ned)47 b(in)f(Scheme)g(and)g(accessed)g(fr)m
(om)f(C)i(and)f(the)g(other)h(for)f(values)g(going)g(the)h(other)f(way)
-20 b(.)332 7305 y(Shar)m(ed)49 b(bindings)e(actually)h(bind)g(names)g
(to)h(cells,)h(to)f(allow)f(a)g(name)g(to)h(be)f(looked)i(up)e(befor)m
(e)332 7531 y(it)41 b(has)f(been)g(assigned.)55 b(This)41
b(is)f(necessary)g(because)g(C)g(initialization)g(code)h(may)f(be)g(r)o
(un)f(befor)m(e)332 7757 y(or)k(after)f(the)h(corr)m(esponding)g
(Scheme)f(code,)i(depending)f(on)g(whether)f(the)h(Scheme)g(code)g(is)f
(in)332 7983 y(the)k(r)m(esumed)e(image)h(or)h(is)f(r)o(un)g(in)g(the)g
(curr)m(ent)g(session.)332 8519 y Fe(6.2.1)198 b(Exporting)48
b(Scheme)h(values)h(to)g(C)368 8877 y Fj(\017)91 b Fn
(\(define-exported-binding)i Fq(name)e(value)p Fn(\))f
Fj(!)h Fq(shar)m(ed-binding)368 9232 y Fj(\017)g Fn(s48)p
888 9232 V 66 w(value)g(s48)p 1917 9232 V 66 w(get)p
2310 9232 V 66 w(imported)p 3248 9232 V 66 w(binding\(char)h(*name\))
368 9458 y Fj(\017)f Fn(s48)p 888 9458 V 66 w(value)g(S48)p
1917 9458 V 66 w(SHARED)p 2637 9458 V 66 w(BINDING)p
3466 9458 V 66 w(REF\(s48)p 4295 9458 V 66 w(value)h(shared)p
5652 9458 V 66 w(binding\))332 9817 y(Define-exported-binding)51
b Fr(makes)e Fq(value)e Fr(available)h(to)h(C)g(code)g(under)g(as)f
Fq(name)h Fr(which)332 10043 y(must)97 b(be)f(a)h Fq(string)p
Fr(,)109 b(cr)m(eating)96 b(a)h(new)g(shar)m(ed)f(binding)g(if)h
(necessary)-20 b(.)211 b(The)97 b(C)g(function)332 10269
y Fn(s48)p 670 10269 V 66 w(get)p 1063 10269 V 66 w(imported)p
2001 10269 V 66 w(binding)72 b Fr(r)m(eturns)g(the)g(shar)m(ed)g
(binding)f(de\002ned)h(for)g Fn(name)p Fr(,)79 b(again)332
10495 y(cr)m(eating)85 b(it)h(if)f(necessary)-20 b(.)177
b(The)87 b(C)e(macr)m(o)g Fn(S48)p 3971 10495 V 66 w(SHARED)p
4691 10495 V 66 w(BINDING)p 5520 10495 V 66 w(REF)h Fr(der)m(efer)m
(ences)e(a)332 10721 y(shar)m(ed)45 b(binding,)g(r)m(eturning)g(its)g
(curr)m(ent)g(value.)332 11257 y Fe(6.2.2)198 b(Exporting)48
b(C)i(values)f(to)h(Scheme)368 11615 y Fj(\017)91 b Fn(void)h(s48)p
1416 11615 V 65 w(define)p 2135 11615 V 66 w(exported)p
3073 11615 V 66 w(binding\(char)g(*name,)g(s48)p 5612
11615 V 66 w(value)f(v\))3661 12141 y Fr(40)p eop end
%%Page: 41 47
TeXDict begin 41 46 bop 202 1146 a Fj(\017)91 b Fn
(\(lookup-imported-binding)i Fq(string)p Fn(\))d Fj(!)h
Fq(shar)m(ed-binding)202 1372 y Fj(\017)g Fn(\(shared-binding-ref)i
Fq(shar)m(ed-binding)p Fn(\))88 b Fj(!)j Fq(value)166
1663 y Fr(These)64 b(ar)m(e)f(used)h(to)g(de\002ne)g(shar)m(ed)f
(bindings)g(fr)m(om)g(C)g(and)g(to)i(access)e(them)g(fr)m(om)g(Scheme.)
166 1889 y(Again,)49 b(if)e(a)h(name)f(is)h(looked)h(up)f(befor)m(e)f
(it)h(has)f(been)h(de\002ned,)h(a)f(new)f(binding)g(is)h(cr)m(eated)f
(for)166 2115 y(it.)448 2340 y(The)36 b(common)f(case)h(of)f(exporting)
h(a)g(C)f(function)g(to)h(Scheme)g(can)f(be)g(done)h(using)f(the)h
(macr)m(o)166 2566 y Fn(S48)p 504 2566 55 7 v 66 w(EXPORT)p
1224 2566 V 66 w(FUNCTION\()p Fq(name)p Fn(\))p Fr(.)57
b(This)46 b(expands)g(into)497 2891 y Fn(s48)p 835 2891
V 65 w(define)p 1554 2891 V 66 w(exported)p 2492 2891
V 67 w(binding\(")p Fq(name)p Fn(",)3879 3117 y(s48)p
4217 3117 V 65 w(enter)p 4827 3117 V 66 w(pointer\()p
Fq(name)p Fn(\)\))166 3441 y Fr(which)63 b(boxes)i(the)f(function)g
(into)h(a)f(Scheme)g(byte)h(vector)f(and)h(then)f(exports)h(it.)115
b(Note)65 b(that)166 3667 y Fn(s48)p 504 3667 V 66 w(enter)p
1115 3667 V 66 w(pointer)41 b Fr(allocates)g(space)g(in)f(the)h(Scheme)
g(heap)g(and)g(might)f(trigger)h(a)g(garbage)166 3893
y(collection;)46 b(see)g(Section)g(6.9.)202 4185 y Fj(\017)91
b Fn(\(import-definition)i Fq(name)p Fn(\))3536 b Fr(syntax)202
4410 y Fj(\017)91 b Fn(\(import-definition)i Fq(name)e(c-name)p
Fn(\))2916 b Fr(syntax)166 4702 y(These)46 b(macr)m(os)f(simplify)f
(importing)i(de\002nitions)f(fr)m(om)g(C)g(to)h(Scheme.)57
b(They)46 b(expand)f(into)448 4928 y Fn(\(define)110
b Fq(name)f Fn(\(lookup-imported-binding)i Fq(c-name)p
Fn(\)\))166 5153 y Fr(wher)m(e)51 b Fq(c-name)h Fr(is)g(as)g(supplied)g
(for)g(the)g(second)g(form.)76 b(For)52 b(the)g(\002rst)g(form)g
Fq(c-name)f Fr(is)h(derived)166 5379 y(fr)m(om)e Fq(name)i
Fr(by)f(r)m(eplacing)g(`)p Fn(-)p Fr(')f(with)i(`)p 2851
5379 V 65 w(')f(and)g(converting)g(letters)h(to)g(lower)m(case.)74
b(For)52 b(example,)166 5605 y Fn(\(import-definition)111
b(my-foo\))46 b Fr(expands)f(into)448 5831 y Fn(\(define)110
b(my-foo)g(\(lookup-imported-binding)h("my)p 5150 5831
V 66 w(foo"\)\))166 6330 y Fe(6.2.3)198 b(Complete)49
b(shared)g(binding)g(interface)166 6684 y Fr(Ther)m(e)c(ar)m(e)f(a)h
(number)e(of)h(other)h(Scheme)g(functions)e(r)m(elated)i(to)g(shar)m
(ed)f(bindings;)h(these)g(ar)m(e)f(in)166 6910 y(the)i(str)o(uctur)m(e)
e Fn(shared-bindings)p Fr(.)202 7201 y Fj(\017)91 b Fn
(\(shared-binding?)103 b Fq(x)p Fn(\))91 b Fj(!)g Fq(boolean)202
7427 y Fj(\017)g Fn(\(shared-binding-name)i Fq(shar)m(ed-binding)p
Fn(\))88 b Fj(!)j Fq(string)202 7653 y Fj(\017)g Fn
(\(shared-binding-is-import?)104 b Fq(shar)m(ed-binding)p
Fn(\))89 b Fj(!)h Fq(boolean)202 7879 y Fj(\017)h Fn
(\(shared-binding-set!)i Fq(shar)m(ed-binding)88 b(value)p
Fn(\))202 8104 y Fj(\017)j Fn(\(define-imported-binding)i
Fq(string)d(value)p Fn(\))202 8330 y Fj(\017)h Fn
(\(lookup-exported-binding)i Fq(string)p Fn(\))202 8556
y Fj(\017)e Fn(\(undefine-imported-binding)i Fq(string)p
Fn(\))202 8782 y Fj(\017)e Fn(\(undefine-exported-binding)i
Fq(string)p Fn(\))166 9073 y(Shared-binding?)h Fr(is)58
b(the)g(pr)m(edicate)f(for)h(shar)m(ed-bindings.)91 b
Fn(Shared-binding-name)166 9299 y Fr(r)m(eturns)54 b(the)h(name)e(of)i
(a)f(binding.)83 b Fn(Shared-binding-is-import?)j Fr(is)55
b(tr)o(ue)e(if)h(the)h(bind-)166 9525 y(ing)63 b(was)g(de\002ned)g(fr)m
(om)g(C.)g Fn(Shared-binding-set!)112 b Fr(changes)62
b(the)i(value)e(of)h(a)g(binding.)166 9751 y Fn
(Define-imported-binding)68 b Fr(and)f Fn(lookup-exported-binding)h
Fr(ar)m(e)e(Scheme)g(ver)m(-)166 9977 y(sions)72 b(of)f
Fn(s48)p 1219 9977 V 66 w(define)p 1939 9977 V 66 w(exported)p
2877 9977 V 66 w(binding)h Fr(and)f Fn(s48)p 4484 9977
V 66 w(lookup)p 5204 9977 V 66 w(imported)p 6142 9977
V 66 w(binding)p Fr(.)166 10202 y(The)43 b(two)f Fn(undefine-)i
Fr(pr)m(ocedur)m(es)d(r)m(emove)h(bindings)g(fr)m(om)f(the)i(two)f
(tables.)56 b(They)43 b(do)f(noth-)166 10428 y(ing)j(if)g(the)h(name)f
(is)g(not)h(found)f(in)g(the)h(table.)448 10654 y(The)g(following)f(C)g
(macr)m(os)g(corr)m(espond)g(to)h(the)g(Scheme)f(functions)g(above.)202
10946 y Fj(\017)91 b Fn(int)637 b(S48)p 1686 10946 V
66 w(SHARED)p 2406 10946 V 66 w(BINDING)p 3235 10946
V 66 w(P\(x\))202 11171 y Fj(\017)91 b Fn(int)637 b(S48)p
1686 11171 V 66 w(SHARED)p 2406 11171 V 66 w(BINDING)p
3235 11171 V 66 w(IS)p 3519 11171 V 65 w(IMPORT)p 4238
11171 V 66 w(P\(s48)p 4849 11171 V 66 w(value)92 b(s)p
5661 11171 V 65 w(b\))202 11397 y Fj(\017)f Fn(s48)p
722 11397 V 66 w(value)g(S48)p 1751 11397 V 66 w(SHARED)p
2471 11397 V 66 w(BINDING)p 3300 11397 V 66 w(NAME\(s48)p
4238 11397 V 66 w(value)h(s)p 5050 11397 V 65 w(b\))202
11623 y Fj(\017)f Fn(void)546 b(S48)p 1704 11623 V 66
w(SHARED)p 2424 11623 V 66 w(BINDING)p 3253 11623 V 66
w(SET\(s48)p 4082 11623 V 66 w(value)91 b(s)p 4893 11623
V 66 w(b,)g(s48)p 5595 11623 V 66 w(value)g(v\))3495
12141 y Fr(41)p eop end
%%Page: 42 48
TeXDict begin 42 47 bop 332 1146 a Fk(6.3)238 b(Calling)58
b(C)h(functions)h(from)f(Scheme)332 1571 y Fr(Ther)m(e)40
b(ar)m(e)g(thr)m(ee)g(dif)m(fer)m(ent)f(ways)g(to)i(call)f(C)g
(functions)f(fr)m(om)g(Scheme,)i(depending)g(on)f(how)g(the)332
1797 y(C)45 b(function)g(was)g(obtained.)368 2145 y Fj(\017)91
b Fn(\(call-imported-binding)i Fq(binding)d(ar)m(g)3941
2172 y Fl(0)4110 2145 y Fq(.)27 b(.)g(.)g Fn(\))104 b
Fj(!)91 b Fq(value)368 2370 y Fj(\017)g Fn(\(call-external)h
Fq(external)d(ar)m(g)3095 2397 y Fl(0)3264 2370 y Fq(.)27
b(.)g(.)g Fn(\))104 b Fj(!)91 b Fq(value)368 2596 y Fj(\017)g
Fn(\(call-external-value)i Fq(value)d(name)h(ar)m(g)4033
2623 y Fl(0)4202 2596 y Fq(.)27 b(.)g(.)g Fn(\))104 b
Fj(!)90 b Fq(value)332 2944 y Fr(Each)66 b(of)f(these)i(applies)f(its)h
(\002rst)f(ar)m(gument,)k(a)c(C)g(function,)71 b(to)66
b(the)h(r)m(est)f(of)f(the)i(ar)m(guments.)332 3170 y(For)39
b Fn(call-imported-binding)i Fr(the)e(function)f(ar)m(gument)g(must)g
(be)h(an)f(imported)h(binding.)332 3396 y(For)h Fn(call-external)i
Fr(the)e(function)f(ar)m(gument)g(must)g(be)h(an)g(external)g(bound)f
(in)h(the)g(curr)m(ent)332 3622 y(pr)m(ocess)57 b(\(see)f(Section)h
(6.5\).)178 b(For)57 b Fn(call-external-value)h Fq(value)e
Fr(must)f(be)h(a)h(byte)f(vector)332 3848 y(whose)h(contents)g(is)g(a)g
(pointer)h(to)f(a)g(C)g(function)f(and)h Fq(name)g Fr(should)g(be)g(a)g
(string)g(naming)f(the)332 4073 y(function.)g(The)46
b Fq(name)f Fr(ar)m(gument)g(is)g(used)g(only)h(for)f(printing)g(err)m
(or)g(messages.)614 4301 y(For)64 b(all)f(of)h(these,)69
b(the)63 b(C)h(function)e(is)i(passed)g(the)g Fq(ar)m(g)4575
4328 y Fd(i)4694 4301 y Fr(values)f(and)g(the)h(value)f(r)m(eturned)332
4526 y(is)56 b(that)h(r)m(eturned)f(by)g(C)g(pr)m(ocedur)m(e.)88
b(No)57 b(automatic)f(r)m(epr)m(esentation)g(conversion)g(occurs)f(for)
332 4752 y(either)e(ar)m(guments)f(or)h(r)m(eturn)f(values.)78
b(Up)54 b(to)f(twelve)g(ar)m(guments)f(may)g(be)h(passed.)79
b(Ther)m(e)53 b(is)332 4978 y(no)59 b(method)g(supplied)g(for)g(r)m
(eturning)f(multiple)g(values)g(to)i(Scheme)e(fr)m(om)g(C)h(\(or)g
(vice)f(versa\))332 5204 y(\(mainly)44 b(because)h(C)g(does)h(not)g
(have)f(multiple)g(r)m(eturn)g(values\).)614 5431 y(Keyboar)m(d)52
b(interr)o(upts)g(that)g(occur)f(during)h(a)g(call)f(to)i(a)f(C)g
(function)f(ar)m(e)g(ignor)m(ed)h(until)g(the)332 5657
y(function)45 b(r)m(eturns)f(to)i(Scheme)f(\(this)h(is)f(clearly)g(a)g
(pr)m(oblem;)g(we)g(ar)m(e)g(working)h(on)f(a)g(solution\).)368
6005 y Fj(\017)91 b Fn(\(import-lambda-definition)i Fq(name)e
Fn(\()p Fq(formal)f Fn(...\)\))1571 b Fr(syntax)368 6231
y Fj(\017)91 b Fn(\(import-lambda-definition)i Fq(name)e
Fn(\()p Fq(formal)f Fn(...\))h Fq(c-name)p Fn(\))951
b Fr(syntax)332 6579 y(These)46 b(macr)m(os)e(simplify)h(importing)g
(functions)f(fr)m(om)g(C.)i(They)g(de\002ne)f Fq(name)g
Fr(to)h(be)f(a)g(function)332 6805 y(with)69 b(the)h(given)f(formals)g
(that)g(applies)h(those)g(formals)f(to)h(the)g(corr)m(esponding)f(C)g
(binding.)332 7031 y Fq(C-name)p Fr(,)46 b(if)f(supplied,)h(should)f
(be)g(a)h(string.)56 b(These)46 b(expand)g(into)663 7465
y Fn(\(define)110 b(temp)f(\(lookup-imported-binding)i
Fq(c-name)p Fn(\)\))663 7692 y(\(define)f Fq(name)881
7919 y Fn(\(lambda)g(\()p Fq(formal)e Fn(...\))1099 8147
y(\(external-apply)j(temp)e Fq(formal)f Fn(...\)\)\))374
8579 y Fr(If)43 b Fq(c-name)f Fr(is)g(not)h(supplied,)g(it)g(is)f
(derived)g(fr)m(om)g Fq(name)g Fr(by)g(converting)g(all)g(letters)h(to)
g(lower)m(case)332 8805 y(and)i(r)m(eplacing)g(`)p Fn(-)p
Fr(')g(with)g(`)p 2213 8805 55 7 v 65 w('.)332 9412 y
Fk(6.4)238 b(Adding)60 b(external)d(modules)i(to)g(the)g
Fi(Makefile)332 9836 y Fr(Getting)c(access)f(to)h(C)g(bindings)f(fr)m
(om)g(Scheme)g(r)m(equir)m(es)f(that)i(the)g(C)g(code)f(be)h(compiled)f
(and)332 10062 y(linked)k(in)f(with)g(the)h(Scheme)f(48)h(virtual)e
(machine)h(and)g(that)h(the)g(r)m(elevant)f(shar)m(ed)g(bindings)332
10288 y(be)45 b(cr)m(eated.)57 b(The)46 b(Scheme)g(48)f(make\002le)g
(has)h(r)o(ules)f(for)g(compiling)g(and)g(linking)h(external)f(code)332
10514 y(and)51 b(for)f(specifying)h(initialization)f(functions)g(that)h
(should)g(be)g(called)f(on)h(startup.)74 b(Ther)m(e)51
b(ar)m(e)332 10740 y(thr)m(ee)41 b Fn(Makefile)i Fr(variables)d(that)i
(contr)m(ol)f(which)g(external)g(modules)g(ar)m(e)g(included)g(in)g
(the)h(ex-)332 10966 y(ecutable)49 b(for)g(the)g(virtual)g(machine)f
(\()p Fn(scheme48vm)p Fr(\).)69 b Fn(EXTERNAL)p 5164
10966 V 66 w(OBJECTS)50 b Fr(lists)g(the)g(object)332
11191 y(\002les)e(to)h(be)f(included)g(in)g Fn(scheme48vm)p
Fr(,)i Fn(EXTERNAL)p 4185 11191 V 66 w(FLAGS)f Fr(is)f(a)g(list)h(of)f
Fn(ld)h Fr(\003ags)e(to)i(be)f(used)332 11417 y(when)40
b(cr)m(eating)f Fn(scheme48vm)p Fr(,)j(and)e Fn(EXTERNAL)p
3917 11417 V 66 w(INITIALIZERS)i Fr(is)e(a)g(list)g(of)g(C)g(pr)m
(ocedur)m(es)332 11643 y(to)56 b(be)f(called)g(on)h(startup.)87
b(The)56 b(pr)m(ocedur)m(es)f(listed)g(in)h Fn(EXTERNAL)p
5197 11643 V 66 w(INITIALIZERS)g Fr(should)3661 12141
y(42)p eop end
%%Page: 43 49
TeXDict begin 43 48 bop 166 1146 a Fr(take)64 b(no)g(ar)m(guments)e
(and)h(have)g(a)h(r)m(eturn)f(type)h(of)f Fn(void)p Fr(.)112
b(After)63 b(changing)g(the)h(de\002nitions)166 1372
y(of)69 b(any)h(of)f(these)h(variables)e(you)h(should)h(do)f
Fn(make)110 b(scheme48vm)70 b Fr(to)g(r)m(ebuild)e(the)i(virtual)166
1597 y(machine.)166 2190 y Fk(6.5)238 b(Dynamic)59 b(loading)166
2612 y Fr(External)47 b(code)h(can)f(be)h(loaded)g(into)f(a)h(r)o
(unning)e(Scheme)h(48)h(pr)m(ocess)g(and)f(C)h(object-\002le)e(bind-)
166 2838 y(ings)73 b(can)g(be)g(der)m(efer)m(enced)g(at)g(r)o(untime)f
(and)h(their)h(values)e(called)i(\(although)e(not)i(all)f(ver)m(-)166
3063 y(sions)52 b(of)f(Unix)g(support)h(all)g(of)f(this\).)74
b(The)52 b(r)m(equir)m(ed)e(Scheme)h(functions)g(ar)m(e)g(in)g(the)g
(str)o(uctur)m(e)166 3289 y Fn(dynamic-externals)p Fr(.)202
3608 y Fj(\017)91 b Fn(\(dynamic-load)h Fq(string)p Fn(\))166
3927 y(Dynamic-load)66 b Fr(loads)g(the)f(named)f(\002le)h(into)h(the)f
(curr)m(ent)f(pr)m(ocess,)70 b(raising)65 b(an)g(exception)166
4152 y(if)e(the)g(\002le)g(cannot)g(be)g(found)f(or)i(if)e(dynamic)h
(loading)g(is)g(not)g(supported)h(by)f(the)h(operating)166
4378 y(system.)93 b(The)58 b(\002le)f(must)g(have)g(been)g(compiled)g
(and)g(linked)g(appr)m(opriately)-20 b(.)93 b(For)58
b(Linux,)i(the)166 4604 y(following)54 b(commands)h(compile)f
Fn(foo.c)i Fr(into)f(a)g(\002le)g Fn(foo.so)h Fr(that)f(can)g(be)g
(loaded)g(dynami-)166 4830 y(cally)-20 b(.)497 5182 y
Fn(\045)109 b(gcc)g(-c)h(-o)f(foo.o)g(foo.c)497 5407
y(\045)g(ld)g(-shared)h(-o)f(foo.so)h(foo.o)202 5759
y Fj(\017)91 b Fn(\(get-external)h Fq(string)p Fn(\))e
Fj(!)h Fq(external)202 5985 y Fj(\017)g Fn(\(external?)103
b Fq(x)p Fn(\))91 b Fj(!)g Fq(boolean)202 6211 y Fj(\017)g
Fn(\(external-name)h Fq(external)p Fn(\))d Fj(!)i Fq(string)202
6437 y Fj(\017)g Fn(\(external-value)h Fq(external)p
Fn(\))d Fj(!)i Fq(byte-vector)166 6755 y Fr(These)55
b(functions)f(give)h(access)f(to)h(values)f(bound)g(in)h(the)g(curr)m
(ent)e(pr)m(ocess,)58 b(and)d(ar)m(e)f(used)g(for)166
6981 y(r)m(etrieving)h(values)f(fr)m(om)h(dynamically-loaded)f
(\002les.)87 b Fn(Get-external)56 b Fr(r)m(eturns)f(an)g
Fq(external)166 7207 y Fr(object)45 b(that)h(contains)g(the)g(value)f
(of)h Fq(name)p Fr(,)g(raising)f(an)h(exception)g(if)f(ther)m(e)h(is)f
(no)h(such)f(value)g(in)166 7433 y(the)k(curr)m(ent)e(pr)m(ocess.)66
b Fn(External?)h Fr(is)49 b(the)f(pr)m(edicate)h(for)f(externals,)h
(and)g Fn(external-name)166 7659 y Fr(and)66 b Fn(external-value)h
Fr(r)m(eturn)e(the)i(name)e(and)h(value)f(of)h(an)g(external.)118
b(The)67 b(value)e(is)h(r)m(e-)166 7885 y(turned)50 b(as)g(byte)g
(vector)g(of)g(length)g(four)f(\(on)h(32-bit)f(ar)m(chitectur)m(es\).)
69 b(The)50 b(value)g(is)g(that)g(which)166 8110 y(was)69
b(extant)g(when)f Fn(get-external)i Fr(was)f(called.)127
b(The)69 b(following)g(two)g(functions)f(can)g(be)166
8336 y(used)45 b(to)h(update)g(the)g(values)f(of)g(externals.)202
8655 y Fj(\017)91 b Fn(\(lookup-external)i Fq(external)p
Fn(\))c Fj(!)h Fq(boolean)202 8881 y Fj(\017)h Fn
(\(lookup-all-externals\))i Fj(!)e Fq(boolean)166 9199
y Fn(Lookup-external)118 b Fr(updates)f(the)g(value)f(of)g
Fq(external)f Fr(by)h(looking)h(up)f(its)h(name)f(in)166
9425 y(the)e(curr)m(ent)f(pr)m(ocess,)131 b(r)m(eturning)112
b Fn(#t)i Fr(if)f(the)h(name)f(is)h(bound)f(and)h Fn(#f)g
Fr(if)f(it)h(is)f(not.)166 9651 y Fn(Lookup-all-externals)63
b Fr(calls)f Fn(lookup-external)h Fr(on)e(all)h(extant)f(externals,)66
b(r)m(eturn-)166 9877 y(ing)45 b Fn(#f)h Fr(any)f(ar)m(e)g(unbound.)202
10195 y Fj(\017)91 b Fn(\(call-external)h Fq(external)d(ar)m(g)2929
10222 y Fl(0)3098 10195 y Fq(.)27 b(.)g(.)g Fn(\))104
b Fj(!)91 b Fq(value)166 10514 y Fr(An)52 b(external)e(whose)i(value)e
(is)h(a)g(C)h(pr)m(ocedur)m(e)e(can)h(be)g(called)f(using)h
Fn(call-external)p Fr(.)75 b(See)166 10740 y(Section)46
b(6.3)91 b(for)45 b(mor)m(e)g(information.)448 10966
y(In)52 b(some)f(versions)g(of)f(Unix)i(r)m(etrieving)e(a)h(value)f(fr)
m(om)g(the)i(curr)m(ent)e(pr)m(ocess)h(may)f(r)m(equir)m(e)166
11191 y(a)j(non-trivial)e(amount)i(of)f(computation.)79
b(W)-17 b(e)53 b(r)m(ecommend)f(that)h(a)f(dynamically-loaded)g(\002le)
166 11417 y(contain)65 b(a)g(single)h(initialization)f(pr)m(ocedur)m(e)
f(that)i(cr)m(eates)f(shar)m(ed)g(bindings)f(for)h(the)h(values)166
11643 y(exported)46 b(by)f(the)h(\002le.)3495 12141 y(43)p
eop end
%%Page: 44 50
TeXDict begin 44 49 bop 332 1146 a Fk(6.6)238 b(Compatibility)332
1573 y Fr(Scheme)128 b(48's)f(old)h Fn(external-call)h
Fr(function)e(is)h(still)g(available)f(in)g(the)h(str)o(uctur)m(e)332
1799 y Fn(externals)p Fr(,)45 b(which)d(now)h(also)g(includes)g
Fn(external-name)h Fr(and)f Fn(external-value)p Fr(.)58
b(The)332 2025 y(old)46 b Fn(scheme48.h)g Fr(\002le)g(has)f(been)g(r)m
(enamed)f Fn(old-scheme48.h)p Fr(.)332 2640 y Fk(6.7)238
b(Accessing)60 b(Scheme)e(data)h(from)g(C)332 3067 y
Fr(The)67 b(C)g(header)f(\002le)h Fn(scheme48.h)g Fr(pr)m(ovides)g
(access)f(to)h(Scheme)f(48)h(data)g(str)o(uctur)m(es.)119
b(The)332 3293 y(type)74 b Fn(s48)p 1100 3293 55 7 v
66 w(value)g Fr(is)f(used)g(for)g(Scheme)g(values.)140
b(When)73 b(the)h(type)g(of)f(a)g(value)g(is)g(known,)332
3519 y(such)50 b(as)h(the)g(integer)g(r)m(eturned)f(by)g
Fn(vector-length)i Fr(or)f(the)g(boolean)g(r)m(eturned)f(by)g
Fn(pair?)p Fr(,)332 3745 y(the)57 b(corr)m(esponding)g(C)g(pr)m(ocedur)
m(e)f(r)m(eturns)g(a)h(C)g(value)f(of)h(the)g(appr)m(opriate)g(type,)k
(and)c(not)g(a)332 3971 y Fn(s48)p 670 3971 V 66 w(value)p
Fr(.)g(Pr)m(edicates)45 b(r)m(eturn)g Fn(1)g Fr(for)g(tr)o(ue)g(and)g
Fn(0)h Fr(for)f(false.)332 4498 y Fe(6.7.1)198 b(Constants)332
4857 y Fr(The)46 b(following)f(macr)m(os)f(denote)i(Scheme)g
(constants:)605 5244 y Fj(\017)91 b Fn(S48)p 1125 5244
V 65 w(FALSE)46 b Fr(is)g Fn(#f)p Fr(.)605 5630 y Fj(\017)91
b Fn(S48)p 1125 5630 V 65 w(TRUE)46 b Fr(is)g Fn(#t)p
Fr(.)605 6017 y Fj(\017)91 b Fn(S48)p 1125 6017 V 65
w(NULL)46 b Fr(is)g(the)f(empty)h(list.)605 6404 y Fj(\017)91
b Fn(S48)p 1125 6404 V 65 w(UNSPECIFIC)103 b Fr(is)f(a)f(value)g(used)h
(for)f(functions)g(which)f(have)i(no)f(meaning-)787 6629
y(ful)74 b(r)m(eturn)g(value)g(\(in)h(Scheme)f(48)h(this)g(value)f(r)m
(eturned)h(by)g(the)g(nullary)f(pr)m(ocedur)m(e)787 6855
y Fn(unspecific)46 b Fr(in)f(the)h(str)o(uctur)m(e)e
Fn(util)p Fr(\).)605 7242 y Fj(\017)91 b Fn(S48)p 1125
7242 V 65 w(EOF)73 b Fr(is)f(the)g(end-of-\002le)f(object)h(\(in)g
(Scheme)g(48)g(this)g(value)f(is)i(r)m(eturned)e(by)h(the)787
7468 y(nullary)44 b(pr)m(ocedur)m(e)h Fn(eof-object)h
Fr(in)f(the)h(str)o(uctur)m(e)e Fn(i/o-internal)p Fr(\).)332
7995 y Fe(6.7.2)198 b(Converting)48 b(values)332 8354
y Fr(The)f(following)f(macr)m(os)g(and)g(functions)g(convert)g(values)g
(between)h(Scheme)f(and)g(C)h(r)m(epr)m(esen-)332 8580
y(tations.)122 b(The)68 b(`extract')e(ones)h(convert)g(fr)m(om)f
(Scheme)h(to)h(C)f(and)g(the)g(`enter)13 b('s)67 b(go)h(the)f(other)332
8806 y(way)-20 b(.)368 9159 y Fj(\017)91 b Fn(int)637
b(S48)p 1852 9159 V 66 w(EXTRACT)p 2681 9159 V 66 w(BOOLEAN\(s48)p
3946 9159 V 66 w(value\))368 9385 y Fj(\017)91 b Fn(unsigned)h(char)f
(s48)p 2379 9385 V 66 w(extract)p 3208 9385 V 66 w(char\(s48)p
4146 9385 V 66 w(value\))368 9611 y Fj(\017)g Fn(char)h(*)363
b(s48)p 1888 9611 V 66 w(extract)p 2717 9611 V 66 w(string\(s48)p
3873 9611 V 66 w(value\))368 9836 y Fj(\017)91 b Fn(char)h(*)363
b(s48)p 1888 9836 V 66 w(extract)p 2717 9836 V 66 w(byte)p
3219 9836 V 66 w(vector\(s48)p 4375 9836 V 66 w(value\))368
10062 y Fj(\017)91 b Fn(long)546 b(s48)p 1870 10062 V
66 w(extract)p 2699 10062 V 66 w(integer\(s48)p 3964
10062 V 66 w(value\))1712 b Fr(\(may)45 b(GC\))368 10288
y Fj(\017)91 b Fn(double)364 b(s48)p 1906 10288 V 66
w(extract)p 2735 10288 V 66 w(double\(s48)p 3891 10288
V 67 w(value\))368 10514 y Fj(\017)91 b Fn(s48)p 888
10514 V 66 w(value)g(S48)p 1917 10514 V 66 w(ENTER)p
2528 10514 V 66 w(BOOLEAN\(int\))368 10740 y Fj(\017)g
Fn(s48)p 888 10740 V 66 w(value)g(s48)p 1917 10740 V
66 w(enter)p 2528 10740 V 66 w(char\(unsigned)h(char\))368
10966 y Fj(\017)f Fn(s48)p 888 10966 V 66 w(value)g(s48)p
1917 10966 V 66 w(enter)p 2528 10966 V 66 w(string\(char)h(*\))2293
b Fr(\(may)45 b(GC\))368 11191 y Fj(\017)91 b Fn(s48)p
888 11191 V 66 w(value)g(s48)p 1917 11191 V 66 w(enter)p
2528 11191 V 66 w(byte)p 3030 11191 V 66 w(vector\(char)h(*,)f(long\))
1155 b Fr(\(may)45 b(GC\))368 11417 y Fj(\017)91 b Fn(s48)p
888 11417 V 66 w(value)g(s48)p 1917 11417 V 66 w(enter)p
2528 11417 V 66 w(integer\(long\))2385 b Fr(\(may)45
b(GC\))368 11643 y Fj(\017)91 b Fn(s48)p 888 11643 V
66 w(value)g(s48)p 1917 11643 V 66 w(enter)p 2528 11643
V 66 w(double\(double\))2276 b Fr(\(may)45 b(GC\))3661
12141 y(44)p eop end
%%Page: 45 51
TeXDict begin 45 50 bop 166 1146 a Fn(S48)p 504 1146
55 7 v 66 w(EXTRACT)p 1333 1146 V 66 w(BOOLEAN)145 b
Fr(is)h(false)e(if)h(its)g(ar)m(gument)f(is)h Fn(#f)g
Fr(and)g(tr)o(ue)g(otherwise.)166 1372 y Fn(S48)p 504
1372 V 66 w(ENTER)p 1115 1372 V 66 w(BOOLEAN)46 b Fr(is)f
Fn(#f)h Fr(if)f(its)g(ar)m(gument)g(is)g(zer)m(o)h(and)f
Fn(#t)g Fr(otherwise.)448 1597 y Fn(s48)p 786 1597 V
66 w(extract)p 1615 1597 V 66 w(string)71 b Fr(and)e
Fn(s48)p 3110 1597 V 66 w(extract)p 3939 1597 V 66 w(byte)p
4441 1597 V 66 w(vector)i Fr(r)m(eturn)e(pointers)h(to)h(the)166
1823 y(actual)41 b(storage)g(used)g(by)g(the)g(string)g(or)h(byte)f
(vector)-13 b(.)54 b(These)42 b(pointers)g(ar)m(e)e(valid)h(only)g
(until)g(the)166 2049 y(next)k(garbage)g(collection;)h(see)g(Section)g
(6.9.)448 2275 y(The)g(second)g(ar)m(gument)e(to)i Fn(s48)p
2775 2275 V 66 w(enter)p 3386 2275 V 66 w(byte)p 3888
2275 V 65 w(vector)g Fr(is)g(the)g(length)f(of)g(byte)h(vector)-13
b(.)448 2501 y Fn(s48)p 786 2501 V 66 w(enter)p 1397
2501 V 66 w(integer\(\))54 b Fr(needs)g(to)g(allocate)f(storage)h(when)
f(its)h(ar)m(gument)e(is)h(too)h(lar)m(ge)166 2726 y(to)70
b(\002t)f(in)f(a)h(Scheme)g(48)g(\002xnum.)126 b(In)69
b(cases)g(wher)m(e)f(the)h(number)f(is)g(known)h(to)h(\002t)f(within)f
(a)166 2952 y(\002xnum)57 b(\(curr)m(ently)g(30)h(bits)f(including)h
(the)g(sign\),)j(the)d(following)g(pr)m(ocedur)m(es)f(can)h(be)g(used.)
166 3178 y(These)68 b(have)f(the)h(disadvantage)f(of)g(only)h(having)f
(a)g(limited)g(range,)73 b(but)67 b(the)h(advantage)f(of)166
3404 y(never)41 b(causing)f(a)h(garbage)f(collection.)55
b Fn(S48)p 3346 3404 V 66 w(FIXNUM)p 4066 3404 V 66 w(P)41
b Fr(is)g(a)g(macr)m(o)f(that)h(tr)o(ue)f(if)h(its)g(ar)m(gument)166
3630 y(is)k(a)h(\002xnum)e(and)h(false)g(otherwise.)202
3959 y Fj(\017)91 b Fn(int)637 b(S48)p 1686 3959 V 66
w(TRUE)p 2188 3959 V 65 w(P\(s48)p 2798 3959 V 66 w(value\))202
4185 y Fj(\017)91 b Fn(int)637 b(S48)p 1686 4185 V 66
w(FALSE)p 2297 4185 V 65 w(P\(s48)p 2907 4185 V 66 w(value\))166
4515 y(S48)p 504 4515 V 66 w(TRUE)p 1006 4515 V 66 w(P)51
b Fr(is)h(tr)o(ue)f(if)h(its)g(ar)m(gument)e(is)i Fn(S48)p
3542 4515 V 66 w(TRUE)g Fr(and)g Fn(S48)p 4783 4515 V
65 w(FALSE)p 5393 4515 V 66 w(P)g Fr(is)g(tr)o(ue)f(if)g(its)h(ar)m
(gu-)166 4740 y(ment)45 b(is)h Fn(S48)p 1138 4740 V 65
w(FALSE)p Fr(.)202 5070 y Fj(\017)91 b Fn(int)637 b(S48)p
1686 5070 V 66 w(FIXNUM)p 2406 5070 V 66 w(P\(s48)p 3017
5070 V 65 w(value\))202 5296 y Fj(\017)91 b Fn(long)546
b(s48)p 1704 5296 V 66 w(extract)p 2533 5296 V 66 w(fixnum\(s48)p
3689 5296 V 66 w(value\))202 5522 y Fj(\017)91 b Fn(s48)p
722 5522 V 66 w(value)g(s48)p 1751 5522 V 66 w(enter)p
2362 5522 V 66 w(fixnum\(long\))202 5747 y Fj(\017)g
Fn(long)546 b(S48)p 1704 5747 V 66 w(MAX)p 2097 5747
V 65 w(FIXNUM)p 2816 5747 V 66 w(VALUE)202 5973 y Fj(\017)91
b Fn(long)546 b(S48)p 1704 5973 V 66 w(MIN)p 2097 5973
V 65 w(FIXNUM)p 2816 5973 V 66 w(VALUE)166 6303 y Fr(An)44
b(err)m(or)f(is)h(signalled)f(if)g Fn(s48)p 2343 6303
V 66 w(extract)p 3172 6303 V 66 w(fixnum)p Fr('s)h(ar)m(gument)e(is)i
(not)g(a)f(\002xnum)g(or)g(if)g(the)h(ar)m(-)166 6529
y(gument)51 b(to)h Fn(s48)p 1389 6529 V 66 w(enter)p
2000 6529 V 66 w(fixnum)g Fr(is)g(less)f(than)h Fn(S48)p
4040 6529 V 65 w(MIN)p 4432 6529 V 66 w(FIXNUM)p 5152
6529 V 66 w(VALUE)g Fr(or)g(gr)m(eater)f(than)166 6754
y Fn(S48)p 504 6754 V 66 w(MAX)p 897 6754 V 65 w(FIXNUM)p
1616 6754 V 66 w(VALUE)46 b Fr(\()p Fj(\000)p Fg(2)2555
6688 y Fl(29)2750 6754 y Fr(and)f Fg(2)3194 6688 y Fl(29)3384
6754 y Fj(\000)c Fg(1)k Fr(in)h(the)f(curr)m(ent)g(system\).)166
7261 y Fe(6.7.3)198 b(C)49 b(versions)h(of)f(Scheme)g(procedures)166
7615 y Fr(The)76 b(following)f(macr)m(os)f(and)i(pr)m(ocedur)m(es)f(ar)
m(e)g(C)g(versions)h(of)f(Scheme)g(pr)m(ocedur)m(es.)147
b(The)166 7841 y(names)45 b(wer)m(e)g(derived)g(by)g(r)m(eplacing)g(`)p
Fn(-)p Fr(')f(with)i(`)p 3617 7841 V 65 w(',)f(`)p Fn(?)p
Fr(')56 b(with)45 b(`)p 4556 7841 V 65 w Fn(P)p Fr(',)g(and)g(dr)m
(opping)h(`)p Fn(!)p Fr(.)202 8170 y Fj(\017)91 b Fn(int)637
b(S48)p 1686 8170 V 66 w(EQ)p 1970 8170 V 65 w(P\(s48)p
2580 8170 V 66 w(value,)92 b(s48)p 3719 8170 V 65 w(VALUE\))202
8396 y Fj(\017)f Fn(int)637 b(S48)p 1686 8396 V 66 w(CHAR)p
2188 8396 V 65 w(P\(s48)p 2798 8396 V 66 w(value\))202
8726 y Fj(\017)91 b Fn(int)637 b(S48)p 1686 8726 V 66
w(PAIR)p 2188 8726 V 65 w(P\(s48)p 2798 8726 V 66 w(value\))202
8952 y Fj(\017)91 b Fn(s48)p 722 8952 V 66 w(value)g(S48)p
1751 8952 V 66 w(CAR\(s48)p 2580 8952 V 66 w(value\))202
9177 y Fj(\017)g Fn(s48)p 722 9177 V 66 w(value)g(S48)p
1751 9177 V 66 w(CDR\(s48)p 2580 9177 V 66 w(value\))202
9403 y Fj(\017)g Fn(void)546 b(S48)p 1704 9403 V 66 w(SET)p
2097 9403 V 65 w(CAR\(s48)p 2925 9403 V 67 w(value,)91
b(s48)p 4064 9403 V 66 w(value\))202 9629 y Fj(\017)g
Fn(void)546 b(S48)p 1704 9629 V 66 w(SET)p 2097 9629
V 65 w(CDR\(s48)p 2925 9629 V 67 w(value,)91 b(s48)p
4064 9629 V 66 w(value\))202 9855 y Fj(\017)g Fn(s48)p
722 9855 V 66 w(value)g(s48)p 1751 9855 V 66 w(cons\(s48)p
2689 9855 V 66 w(value,)h(s48)p 3828 9855 V 65 w(value\))1683
b Fr(\(may)45 b(GC\))202 10081 y Fj(\017)91 b Fn(long)546
b(s48)p 1704 10081 V 66 w(length\(s48)p 2860 10081 V
66 w(value\))202 10410 y Fj(\017)91 b Fn(int)637 b(S48)p
1686 10410 V 66 w(VECTOR)p 2406 10410 V 66 w(P\(s48)p
3017 10410 V 65 w(value\))202 10636 y Fj(\017)91 b Fn(long)546
b(S48)p 1704 10636 V 66 w(VECTOR)p 2424 10636 V 66 w(LENGTH\(s48)p
3580 10636 V 66 w(value\))202 10862 y Fj(\017)91 b Fn(s48)p
722 10862 V 66 w(value)g(S48)p 1751 10862 V 66 w(VECTOR)p
2471 10862 V 66 w(REF\(s48)p 3300 10862 V 66 w(value,)h(long\))202
11088 y Fj(\017)f Fn(void)546 b(S48)p 1704 11088 V 66
w(VECTOR)p 2424 11088 V 66 w(SET\(s48)p 3253 11088 V
66 w(value,)91 b(long,)h(s48)p 5028 11088 V 65 w(value\))202
11314 y Fj(\017)f Fn(s48)p 722 11314 V 66 w(value)g(s48)p
1751 11314 V 66 w(make)p 2253 11314 V 66 w(vector\(long,)h(s48)p
4046 11314 V 66 w(value\))1464 b Fr(\(may)45 b(GC\))202
11643 y Fj(\017)91 b Fn(int)637 b(S48)p 1686 11643 V
66 w(STRING)p 2406 11643 V 66 w(P\(s48)p 3017 11643 V
65 w(value\))3495 12141 y Fr(45)p eop end
%%Page: 46 52
TeXDict begin 46 51 bop 368 1146 a Fj(\017)91 b Fn(long)546
b(S48)p 1870 1146 55 7 v 66 w(STRING)p 2590 1146 V 66
w(LENGTH\(s48)p 3746 1146 V 66 w(value\))368 1372 y Fj(\017)91
b Fn(char)546 b(S48)p 1870 1372 V 66 w(STRING)p 2590
1372 V 66 w(REF\(s48)p 3419 1372 V 66 w(value,)91 b(long\))368
1597 y Fj(\017)g Fn(void)546 b(S48)p 1870 1597 V 66 w(STRING)p
2590 1597 V 66 w(SET\(s48)p 3419 1597 V 66 w(value,)91
b(long,)h(char\))368 1823 y Fj(\017)f Fn(s48)p 888 1823
V 66 w(value)g(s48)p 1917 1823 V 66 w(make)p 2419 1823
V 66 w(string\(long,)h(char\))1966 b Fr(\(may)45 b(GC\))368
2219 y Fj(\017)91 b Fn(int)637 b(S48)p 1852 2219 V 66
w(SYMBOL)p 2572 2219 V 66 w(P\(s48)p 3183 2219 V 66 w(value\))368
2445 y Fj(\017)91 b Fn(s48)p 888 2445 V 66 w(value)g(s48)p
1917 2445 V 66 w(SYMBOL)p 2637 2445 V 66 w(TO)p 2921
2445 V 66 w(STRING\(s48)p 4077 2445 V 66 w(value\))368
2840 y Fj(\017)g Fn(int)637 b(S48)p 1852 2840 V 66 w(BYTE)p
2354 2840 V 65 w(VECTOR)p 3073 2840 V 66 w(P\(s48)p 3684
2840 V 66 w(value\))368 3066 y Fj(\017)91 b Fn(long)546
b(S48)p 1870 3066 V 66 w(BYTE)p 2372 3066 V 66 w(VECTOR)p
3092 3066 V 66 w(LENGTH\(s48)p 4248 3066 V 66 w(value\))368
3292 y Fj(\017)91 b Fn(char)546 b(S48)p 1870 3292 V 66
w(BYTE)p 2372 3292 V 66 w(VECTOR)p 3092 3292 V 66 w(REF\(s48)p
3921 3292 V 66 w(value,)91 b(long\))368 3518 y Fj(\017)g
Fn(void)546 b(S48)p 1870 3518 V 66 w(BYTE)p 2372 3518
V 66 w(VECTOR)p 3092 3518 V 66 w(SET\(s48)p 3921 3518
V 66 w(value,)91 b(long,)h(int\))368 3744 y Fj(\017)f
Fn(s48)p 888 3744 V 66 w(value)g(s48)p 1917 3744 V 66
w(make)p 2419 3744 V 66 w(byte)p 2921 3744 V 66 w(vector\(long,)h
(int\))1573 b Fr(\(may)45 b(GC\))332 4451 y Fk(6.8)238
b(Calling)58 b(Scheme)h(functions)g(from)h(C)332 4909
y Fr(External)c(code)h(that)g(has)g(been)f(called)g(fr)m(om)g(Scheme)g
(can)g(call)g(back)g(to)h(Scheme)g(pr)m(ocedur)m(es)332
5135 y(using)45 b(the)h(following)f(function.)368 5548
y Fj(\017)91 b Fn(scheme)p 1215 5548 V 66 w(value)h(s48)p
2245 5548 V 65 w(call)p 2746 5548 V 66 w(scheme\(s48)p
3902 5548 V 67 w(value)f(p,)g(long)g(nargs,)h(...\))332
5962 y Fr(This)61 b(calls)f(the)h(Scheme)f(pr)m(ocedur)m(e)g
Fn(p)h Fr(on)g Fn(nargs)g Fr(ar)m(guments,)j(which)59
b(ar)m(e)i(passed)g(as)g(addi-)332 6188 y(tional)40 b(ar)m(guments)f
(to)i Fn(s48)p 2270 6188 V 65 w(call)p 2771 6188 V 66
w(scheme)p Fr(.)56 b(Ther)m(e)40 b(may)f(be)h(at)g(most)g(twelve)g(ar)m
(guments.)54 b(The)332 6413 y(value)36 b(r)m(eturned)h(by)f(the)h
(Scheme)g(pr)m(ocedur)m(e)f(is)h(r)m(eturned)f(by)h(the)g(C)g(pr)m
(ocedur)m(e.)53 b(Invoking)37 b(any)332 6639 y(Scheme)45
b(pr)m(ocedur)m(e)g(may)g(potentially)h(cause)f(a)g(garbage)g
(collection.)614 6883 y(Ther)m(e)74 b(ar)m(e)f(some)h(complications)f
(that)h(occur)f(when)f(mixing)h(calls)g(fr)m(om)g(C)g(to)h(Scheme)332
7109 y(with)91 b(continuations)g(and)g(thr)m(eads.)193
b(C)91 b(only)g(supports)h(downwar)m(d)e(continuations)h(\(via)332
7335 y Fn(longjmp\(\))p Fr(\).)138 b(Scheme)72 b(continuations)g(that)h
(captur)m(e)e(a)i(portion)f(of)h(the)f(C)g(stack)h(have)f(to)332
7560 y(follow)f(the)i(same)e(r)m(estriction.)136 b(For)72
b(example,)78 b(suppose)73 b(Scheme)e(pr)m(ocedur)m(e)h
Fn(s0)g Fr(captur)m(es)332 7786 y(continuation)52 b Fn(a)g
Fr(and)g(then)g(calls)g(C)g(pr)m(ocedur)m(e)g Fn(c0)p
Fr(,)i(which)d(in)h(turn)g(calls)g(Scheme)g(pr)m(ocedur)m(e)332
8012 y Fn(s1)p Fr(.)68 b(Pr)m(ocedur)m(e)48 b Fn(s1)h
Fr(can)f(safely)h(call)f(the)h(continuation)g Fn(a)p
Fr(,)i(because)d(that)h(is)g(a)g(downwar)m(d)f(use.)332
8238 y(When)59 b Fn(a)h Fr(is)g(called)f(Scheme)g(48)h(will)f(r)m
(emove)g(the)h(portion)g(of)g(the)g(C)f(stack)h(used)f(by)h(the)g(call)
332 8464 y(to)55 b Fn(c0)p Fr(.)84 b(On)54 b(the)h(other)g(hand,)i(if)c
Fn(s1)i Fr(captur)m(es)f(a)h(continuation,)h(that)f(continuation)f
(cannot)g(be)332 8690 y(used)g(fr)m(om)g Fn(s0)p Fr(,)j(because)d(by)g
(the)h(time)f(contr)m(ol)g(r)m(eturns)g(to)h Fn(s0)g
Fr(the)g(C)f(stack)g(used)h(by)f Fn(c0)h Fr(will)332
8915 y(no)50 b(longer)g(be)g(valid.)69 b(An)51 b(attempt)f(to)h(invoke)
f(an)f(upwar)m(d)g(continuation)h(that)g(is)g(closed)g(over)332
9141 y(a)45 b(portion)i(of)e(the)g(C)h(stack)f(will)g(raise)g(an)h
(exception.)614 9385 y(In)k(Scheme)f(48)h(thr)m(eads)f(ar)m(e)g
(implemented)h(using)f(continuations,)i(so)f(the)f(downwar)m(d)g(r)m
(e-)332 9611 y(striction)63 b(applies)g(to)g(them)f(as)g(well.)108
b(An)62 b(attempt)i(to)f(r)m(eturn)e(fr)m(om)h(Scheme)g(to)h(C)f(at)h
(a)f(time)332 9836 y(when)38 b(the)h(appr)m(opriate)g(C)g(frame)f(is)g
(not)h(on)g(top)h(of)e(the)h(C)g(stack)g(will)f(cause)g(the)h(curr)m
(ent)e(thr)m(ead)332 10062 y(to)50 b(block)f(until)f(the)i(frame)e(is)h
(available.)67 b(For)49 b(example,)h(suppose)g(thr)m(ead)f
Fn(t0)h Fr(calls)e(a)i(C)f(pr)m(oce-)332 10288 y(dur)m(e)d(which)e
(calls)i(back)f(to)i(Scheme,)f(at)h(which)e(point)h(contr)m(ol)g
(switches)g(to)h(thr)m(ead)e Fn(t1)p Fr(,)i(which)332
10514 y(also)42 b(calls)g(C)g(and)g(then)g(back)g(to)g(Scheme.)56
b(At)43 b(this)f(point)h(both)f Fn(t0)g Fr(and)g Fn(t1)g
Fr(have)g(active)g(calls)g(to)332 10740 y(C)50 b(on)g(the)g(C)g(stack,)
h(with)f Fn(t1)p Fr('s)f(C)h(frame)f(above)g Fn(t0)p
Fr('s.)70 b(If)50 b(thr)m(ead)f Fn(t0)h Fr(attempts)h(to)f(r)m(eturn)f
(fr)m(om)332 10966 y(Scheme)61 b(to)g(C)g(it)g(will)g(block,)j(as)d
(its)h(frame)d(is)i(not)h(accessible.)102 b(Once)60 b
Fn(t1)i Fr(has)e(r)m(eturned)h(to)g(C)332 11191 y(and)41
b(fr)m(om)f(ther)m(e)h(to)h(Scheme,)g Fn(t0)g Fr(will)e(be)h(able)g(to)
h(r)m(esume.)54 b(The)42 b(r)m(eturn)e(to)i(Scheme)f(is)g(r)m(equir)m
(ed)332 11417 y(because)53 b(context)h(switches)g(can)g(only)g(occur)f
(while)g(Scheme)h(code)g(is)g(r)o(unning.)81 b Fn(T0)55
b Fr(will)e(also)332 11643 y(be)45 b(able)g(to)h(r)m(esume)f(if)f
Fn(t1)i Fr(uses)f(a)h(continuation)f(to)h(thr)m(ow)f(past)h(its)g(call)
e(to)i(C.)3661 12141 y(46)p eop end
%%Page: 47 53
TeXDict begin 47 52 bop 166 1146 a Fk(6.9)238 b(Interacting)58
b(with)h(the)g(Scheme)g(heap)166 1568 y Fr(Scheme)44
b(48)h(uses)f(a)g(copying,)i(pr)m(ecise)e(garbage)g(collector)-13
b(.)56 b(Any)45 b(pr)m(ocedur)m(e)e(that)i(allocates)g(ob-)166
1793 y(jects)63 b(within)g(the)h(Scheme)f(48)g(heap)g(may)g(trigger)h
(a)f(garbage)g(collection.)111 b(V)-17 b(ariables)63
b(bound)166 2019 y(to)77 b(values)f(in)g(the)h(Scheme)g(48)f(heap)h
(need)f(to)h(be)g(r)m(egister)m(ed)f(with)g(the)h(garbage)f(collector)
166 2245 y(so)e(that)f(the)h(value)e(will)h(be)g(r)m(etained)f(and)i
(so)f(that)h(the)f(variables)f(will)h(be)g(updated)g(if)g(the)166
2471 y(garbage)61 b(collector)h(moves)f(the)h(object.)106
b(The)62 b(garbage)f(collector)h(has)f(no)h(facility)f(for)g(updat-)166
2697 y(ing)41 b(pointers)i(to)f(the)g(interiors)f(of)h(objects,)g(so)g
(such)f(pointers,)i(for)f(example)f(the)h(ones)g(r)m(eturned)166
2923 y(by)j Fn(EXTRACT)p 1187 2923 55 7 v 66 w(STRING)p
Fr(,)i(will)d(likely)i(become)f(invalid)f(when)h(a)h(garbage)e
(collection)i(occurs.)166 3431 y Fe(6.9.1)198 b(Registering)49
b(objects)i(with)f(the)f(GC)166 3785 y Fr(A)41 b(set)g(of)f(macr)m(os)f
(ar)m(e)h(used)g(to)h(manage)f(the)g(r)m(egistration)h(of)f(local)g
(variables)f(with)h(the)h(garbage)166 4011 y(collector)-13
b(.)202 4349 y Fj(\017)91 b Fn(S48)p 722 4349 V 66 w(DECLARE)p
1551 4349 V 66 w(GC)p 1835 4349 V 66 w(PROTECT\()p Ff(n)p
Fn(\))202 4575 y Fj(\017)g Fn(void)g(S48)p 1249 4575
V 66 w(GC)p 1533 4575 V 66 w(PROTECT)p 2362 4575 V 66
w Ff(n)p Fn(\(s48)p 2973 4575 V 66 w(value)3573 4602
y Fl(1)3652 4575 y Fn(,)g Ff(:)30 b(:)g(:)o Fn(,)91 b(s48)p
4602 4575 V 66 w(value)5202 4602 y Fd(n)5296 4575 y Fn(\))202
4800 y Fj(\017)g Fn(void)g(S48)p 1249 4800 V 66 w(GC)p
1533 4800 V 66 w(UNPROTECT\(\))448 5138 y(S48)p 786 5138
V 66 w(DECLARE)p 1615 5138 V 66 w(GC)p 1899 5138 V 66
w(PROTECT\()p Ff(n)p Fn(\))p Fr(,)79 b(wher)m(e)71 b
Fg(1)99 b Fj(\024)h Ff(n)f Fj(\024)h Fg(9)p Fr(,)78 b(allocates)72
b(storage)g(for)g(r)m(egis-)166 5364 y(tering)66 b Ff(n)g
Fr(variables.)118 b(At)66 b(most)h(one)f(use)g(of)g Fn(S48)p
3767 5364 V 65 w(DECLARE)p 4595 5364 V 66 w(GC)p 4879
5364 V 66 w(PROTECT)h Fr(may)e(occur)g(in)h(a)166 5590
y(block.)59 b Fn(S48)p 1043 5590 V 66 w(GC)p 1327 5590
V 65 w(PROTECT)p 2155 5590 V 66 w Ff(n)p Fn(\()p Ff(v)2516
5617 y Fl(1)2596 5590 y Fn(,)109 b Ff(:)30 b(:)g(:)o
Fn(,)109 b Ff(v)3332 5617 y Fd(n)3426 5590 y Fn(\))46
b Fr(r)m(egisters)h(the)f Ff(n)h Fr(variables)e(\(l-values\))f(with)i
(the)166 5816 y(garbage)59 b(collector)-13 b(.)97 b(It)59
b(must)g(be)g(within)f(scope)i(of)f(a)g Fn(S48)p 4381
5816 V 65 w(DECLARE)p 5209 5816 V 67 w(GC)p 5494 5816
V 65 w(PROTECT\()p Ff(n)p Fn(\))h Fr(and)166 6042 y(be)e(befor)m(e)f
(any)g(code)h(which)f(can)g(cause)h(a)g(GC.)g Fn(S48)p
4016 6042 V 65 w(GC)p 4299 6042 V 66 w(UNPROTECT)h Fr(r)m(emoves)e(the)
h(block's)166 6267 y(pr)m(otected)43 b(variables)e(fr)m(om)g(the)h
(garbage)g(collector)13 b('s)42 b(list.)56 b(It)43 b(must)e(be)h
(called)g(at)g(the)h(end)f(of)g(the)166 6493 y(block)k(after)g(any)g
(code)h(which)e(may)h(cause)g(a)g(garbage)g(collection.)59
b(Omitting)46 b(any)g(of)h(the)f(thr)m(ee)166 6719 y(may)54
b(cause)h(serious)g(and)f(har)m(d-to-debug)f(pr)m(oblems.)85
b(Notably)-20 b(,)57 b(the)e(garbage)g(collector)f(may)166
6945 y(r)m(elocate)45 b(an)g(object)g(and)h(invalidate)f
Fn(s48)p 3138 6945 V 65 w(value)h Fr(variables)f(which)f(ar)m(e)h(not)h
(pr)m(otected.)448 7171 y(A)40 b Fn(gc-protection-mismatch)h
Fr(exception)e(is)g(raised)g(if,)h(when)e(a)h(C)g(pr)m(ocedur)m(e)f(r)m
(eturns)166 7397 y(to)46 b(Scheme,)g(the)f(calls)h(to)g
Fn(S48)p 2318 7397 V 65 w(GC)p 2601 7397 V 66 w(PROTECT\(\))g
Fr(have)f(not)h(been)f(matched)g(by)g(an)h(equal)e(num-)166
7622 y(ber)h(of)g(calls)g(to)h Fn(S48)p 1618 7622 V 66
w(GC)p 1902 7622 V 66 w(UNPROTECT\(\))p Fr(.)448 7848
y(Global)f(variables)f(may)h(also)h(be)f(r)m(egister)m(ed)g(with)g(the)
h(garbage)f(collector)-13 b(.)202 8186 y Fj(\017)91 b
Fn(void)g(S48)p 1249 8186 V 66 w(GC)p 1533 8186 V 66
w(PROTECT)p 2362 8186 V 66 w(GLOBAL\()p Fq(value)p Fn(\))166
8524 y(S48)p 504 8524 V 66 w(GC)p 788 8524 V 65 w(PROTECT)p
1616 8524 V 66 w(GLOBAL)54 b Fr(permanently)f(r)m(egisters)g(the)h
(variable)e Fq(value)g Fr(\(an)h(l-value\))e(with)166
8750 y(the)46 b(garbage)f(collector)-13 b(.)56 b(Ther)m(e)45
b(is)h(no)f(way)g(to)h(unr)m(egister)f(the)h(variable.)166
9259 y Fe(6.9.2)198 b(Keeping)49 b(C)g(data)g(structures)h(in)g(the)g
(Scheme)f(heap)166 9612 y Fr(C)68 b(data)g(str)o(uctur)m(es)f(can)g(be)
h(kept)g(in)g(the)g(Scheme)g(heap)g(by)f(embedding)h(them)f(inside)h
(byte)166 9838 y(vectors.)57 b(The)46 b(following)e(macr)m(os)h(can)g
(be)g(used)g(to)h(cr)m(eate)f(and)h(access)f(embedded)g(C)g(objects.)
202 10176 y Fj(\017)91 b Fn(s48)p 722 10176 V 66 w(value)g(S48)p
1751 10176 V 66 w(MAKE)p 2253 10176 V 66 w(VALUE\(type\))2712
b Fr(\(may)45 b(GC\))202 10402 y Fj(\017)91 b Fn(type)546
b(S48)p 1704 10402 V 66 w(EXTRACT)p 2533 10402 V 66 w(VALUE\(s48)p
3580 10402 V 66 w(value,)92 b(type\))202 10628 y Fj(\017)f
Fn(type)g(*)364 b(S48)p 1722 10628 V 66 w(EXTRACT)p 2551
10628 V 66 w(VALUE)p 3162 10628 V 66 w(POINTER\(s48)p
4427 10628 V 66 w(value,)92 b(type\))202 10853 y Fj(\017)f
Fn(void)546 b(S48)p 1704 10853 V 66 w(SET)p 2097 10853
V 65 w(VALUE\(s48)p 3143 10853 V 67 w(value,)91 b(type,)h(value\))232
11191 y(S48)p 570 11191 V 66 w(MAKE)p 1072 11191 V 66
w(VALUE)67 b Fr(makes)f(a)g(byte)g(vector)h(lar)m(ge)f(enough)g(to)h
(hold)f(an)g(object)g(whose)g(type)166 11417 y(is)c Fq(type)p
Fr(.)103 b Fn(S48)p 1158 11417 V 66 w(EXTRACT)p 1987
11417 V 66 w(VALUE)62 b Fr(r)m(eturns)f(the)g(contents)h(of)g(a)f(byte)
g(vector)h(cast)f(to)h Fq(type)p Fr(,)j(and)166 11643
y Fn(S48)p 504 11643 V 66 w(EXTRACT)p 1333 11643 V 66
w(VALUE)p 1944 11643 V 66 w(POINTER)c Fr(r)m(eturns)g(a)g(pointer)g(to)
h(the)f(contents)g(of)g(the)g(byte)g(vector)-13 b(.)3495
12141 y(47)p eop end
%%Page: 48 54
TeXDict begin 48 53 bop 332 1146 a Fr(The)72 b(value)f(r)m(eturned)g
(by)g Fn(S48)p 2606 1146 55 7 v 66 w(EXTRACT)p 3435 1146
V 66 w(VALUE)p 4046 1146 V 66 w(POINTER)h Fr(is)f(valid)h(only)f(until)
g(the)h(next)332 1372 y(garbage)45 b(collection.)614
1599 y Fn(S48)p 952 1599 V 66 w(SET)p 1345 1599 V 66
w(VALUE)h Fr(stor)m(es)g Fn(value)f Fr(into)h(the)g(byte)f(vector)-13
b(.)332 2122 y Fe(6.9.3)198 b(C)50 b(code)f(and)g(heap)f(images)332
2480 y Fr(Scheme)95 b(48)g(uses)g(dumped)f(heap)i(images)e(to)i(r)m
(estor)m(e)f(a)g(pr)m(evious)f(system)i(state.)206 b(The)332
2706 y(Scheme)40 b(48)h(heap)g(is)f(written)h(into)g(a)f(\002le)h(in)f
(a)h(machine-independent)e(and)h(operating-system-)332
2932 y(independent)58 b(format.)91 b(The)58 b(pr)m(ocedur)m(es)e
(described)h(above)f(may)h(be)g(used)g(to)h(cr)m(eate)f(objects)332
3158 y(in)d(the)g(Scheme)g(heap)g(that)h(contain)e(information)h
(speci\002c)f(to)i(the)f(curr)m(ent)f(machine,)j(operat-)332
3383 y(ing)46 b(system,)h(or)f(pr)m(ocess.)60 b(A)46
b(heap)h(image)e(containing)h(such)g(objects)f(may)h(not)h(work)f(corr)
m(ectly)332 3609 y(when)f(r)m(esumed.)614 3837 y(T)-17
b(o)59 b(addr)m(ess)e(this)h(pr)m(oblem,)i(a)e(r)m(ecor)m(d)f(type)h
(may)f(be)g(given)g(a)h(`r)m(esumer)13 b(')56 b(pr)m(ocedur)m(e.)92
b(On)332 4063 y(startup,)50 b(the)f(r)m(esumer)e(pr)m(ocedur)m(e)h(for)
g(a)h(type)g(is)g(applied)g(to)g(each)f(r)m(ecor)m(d)g(of)g(that)h
(type)h(in)e(the)332 4289 y(image)c(being)f(r)m(estarted.)57
b(This)44 b(pr)m(ocedur)m(e)g(can)f(update)i(the)f(r)m(ecor)m(d)f(in)h
(a)g(manner)g(appr)m(opriate)332 4515 y(to)i(the)g(machine,)e
(operating)i(system,)g(or)g(pr)m(ocess)f(used)h(to)g(r)m(esume)e(the)i
(image.)368 4865 y Fj(\017)91 b Fn(\(define-record-resumer)i
Fq(r)m(ecord-type)88 b(pr)m(ocedur)m(e)p Fn(\))332 5216
y(Define-record-resumer)48 b Fr(de\002nes)f Fq(pr)m(ocedur)m(e)p
Fr(,)e(which)g(should)i(accept)f(one)h(ar)m(gument,)f(to)332
5442 y(be)60 b(the)g(r)m(esumer)f(for)h Fq(r)m(ecord-type)m
Fr(.)101 b(The)61 b(or)m(der)f(in)g(which)f(r)m(esumer)g(pr)m(ocedur)m
(es)h(ar)m(e)f(called)h(is)332 5668 y(not)46 b(speci\002ed.)614
5895 y(The)52 b Fq(pr)m(ocedur)m(e)d Fr(ar)m(gument)h(to)h
Fn(define-record-resumer)i Fr(may)e(be)f Fn(#f)p Fr(,)k(in)c(which)g
(case)332 6121 y(r)m(ecor)m(ds)59 b(of)h(the)g(given)f(type)h(ar)m(e)g
(not)g(written)f(out)h(in)g(heap)g(images.)99 b(When)59
b(writing)g(a)h(heap)332 6347 y(image)42 b(any)h(r)m(efer)m(ence)e(to)j
(such)e(a)g(r)m(ecor)m(d)h(is)f(r)m(eplaced)h(by)f(the)h(value)f(of)h
(the)g(r)m(ecor)m(d's)f(\002rst)h(\002eld,)332 6573 y(and)i(an)h
(exception)f(is)h(raised)f(after)g(the)h(image)f(is)g(written.)332
7183 y Fk(6.10)238 b(Using)59 b(Scheme)g(records)h(in)f(C)h(code)332
7610 y Fr(External)45 b(modules)g(can)g(cr)m(eate)g(r)m(ecor)m(ds)g
(and)g(access)h(their)f(slots)h(positionally)-20 b(.)368
7960 y Fj(\017)91 b Fn(s48)p 888 7960 V 66 w(value)g(S48)p
1917 7960 V 66 w(MAKE)p 2419 7960 V 66 w(RECORD\(s48)p
3575 7960 V 66 w(value\))2101 b Fr(\(may)45 b(GC\))368
8186 y Fj(\017)91 b Fn(int)637 b(S48)p 1852 8186 V 66
w(RECORD)p 2572 8186 V 66 w(P\(s48)p 3183 8186 V 66 w(value\))368
8412 y Fj(\017)91 b Fn(s48)p 888 8412 V 66 w(value)g(S48)p
1917 8412 V 66 w(RECORD)p 2637 8412 V 66 w(TYPE\(s48)p
3575 8412 V 66 w(value\))368 8638 y Fj(\017)g Fn(s48)p
888 8638 V 66 w(value)g(S48)p 1917 8638 V 66 w(RECORD)p
2637 8638 V 66 w(REF\(s48)p 3466 8638 V 66 w(value,)h(long\))368
8863 y Fj(\017)f Fn(void)546 b(S48)p 1870 8863 V 66 w(RECORD)p
2590 8863 V 66 w(SET\(s48)p 3419 8863 V 66 w(value,)91
b(long,)h(s48)p 5194 8863 V 65 w(value\))332 9214 y Fr(The)72
b(ar)m(gument)e(to)i Fn(S48)p 2130 9214 V 65 w(MAKE)p
2631 9214 V 66 w(RECORD)g Fr(should)f(be)g(a)g(shar)m(ed)g(binding)f
(whose)h(value)g(is)g(a)332 9440 y(r)m(ecor)m(d)66 b(type.)122
b(In)67 b(C)g(the)g(\002elds)g(of)g(Scheme)f(r)m(ecor)m(ds)g(ar)m(e)h
(only)g(accessible)f(via)g(of)m(fsets,)72 b(with)332
9666 y(the)61 b(\002rst)h(\002eld)f(having)f(of)m(fset)h(zer)m(o,)k
(the)d(second)f(of)m(fset)f(one,)66 b(and)61 b(so)h(forth.)103
b(If)61 b(the)g(or)m(der)g(of)332 9892 y(the)56 b(\002elds)f(is)h
(changed)f(in)g(the)h(Scheme)f(de\002nition)h(of)f(the)h(r)m(ecor)m(d)e
(type)j(the)e(C)h(code)f(must)g(be)332 10117 y(updated)46
b(as)f(well.)614 10345 y(For)h(example,)g(given)f(the)g(following)g(r)m
(ecor)m(d-type)g(de\002nition)663 10731 y Fn(\(define-record-type)111
b(thing)e(:thing)881 10959 y(\(make-thing)h(a)f(b\))881
11187 y(thing?)881 11415 y(\(a)g(thing-a\))881 11643
y(\(b)g(thing-b\)\))3661 12141 y Fr(48)p eop end
%%Page: 49 55
TeXDict begin 49 54 bop 166 1146 a Fr(the)46 b(identi\002er)f
Fn(:thing)h Fr(is)g(bound)e(to)i(the)g(r)m(ecor)m(d)f(type)h(and)f(can)
g(be)g(exported)h(to)g(C:)497 1495 y Fn(\(define-exported-binding)111
b("thing-record-type")g(:thing\))166 1845 y(Thing)46
b Fr(r)m(ecor)m(ds)f(can)g(then)g(be)g(made)g(in)g(C:)497
2195 y Fn(static)109 b(scheme_value)715 2420 y
(thing_record_type_binding)i(=)e(SCHFALSE;)497 2872 y(void)g
(initialize_things\(void\))497 3098 y Fj(f)715 3324 y
Fn(S48_GC_PROTECT_GLOBAL\(thing_record_type_binding\);)715
3549 y(thing_record_type_binding)i(=)1042 3775 y
(s48_get_imported_binding\("thing-record-type"\);)497
4001 y Fj(g)497 4453 y Fn(scheme_value)f(make_thing\(scheme_value)h(a,)
e(scheme_value)i(b\))497 4679 y Fj(f)715 4904 y Fn(s48_value)f(thing;)
715 5130 y(s48_DECLARE_GC_PROTECT\(2\);)715 5582 y
(S48_GC_PROTECT_2\(a,)h(b\);)715 6033 y(thing)e(=)h
(s48_make_record\(thing_record_type_binding\);)715 6259
y(S48_RECORD_SET\(thing,)h(0,)e(a\);)715 6485 y(S48_RECORD_SET\(thing,)
i(1,)e(b\);)715 6937 y(S48_GC_UNPROTECT\(\);)715 7388
y(return)h(thing;)497 7614 y Fj(g)166 7964 y Fr(Note)48
b(that)f(the)h(variables)e Fn(a)h Fr(and)g Fn(b)g Fr(must)g(be)g(pr)m
(otected)h(against)f(the)g(possibility)h(of)f(a)g(garbage)166
8190 y(collection)e(occuring)g(during)g(the)g(call)g(to)h
Fn(s48)p 3490 8190 55 7 v 66 w(make)p 3992 8190 V 66
w(record\(\))p Fr(.)166 8782 y Fk(6.11)238 b(Raising)58
b(exceptions)g(from)h(external)f(code)166 9204 y Fr(The)115
b(following)g(macr)m(os)f(explicitly)h(raise)g(certain)f(err)m(ors,)133
b(immediately)114 b(r)m(eturning)g(to)166 9429 y(Scheme)51
b(48.)75 b(Raising)51 b(an)g(exception)h(performs)f(all)g(necessary)g
(clean-up)f(actions)i(to)g(pr)m(operly)166 9655 y(r)m(eturn)45
b(to)h(Scheme)f(48,)h(including)e(adjusting)h(the)g(stack)h(of)f(pr)m
(otected)h(variables.)202 9972 y Fj(\017)91 b Fn(s48)p
722 9972 V 66 w(raise)p 1333 9972 V 66 w(scheme)p 2053
9972 V 66 w(exception\(int)h(type,)f(int)g(nargs,)h(...\))166
10288 y(s48)p 504 10288 V 66 w(raise)p 1115 10288 V 66
w(scheme)p 1835 10288 V 66 w(exception)54 b Fr(is)g(the)g(base)f(pr)m
(ocedur)m(e)g(for)g(raising)h(exceptions.)82 b Fn(type)166
10514 y Fr(is)58 b(the)f(type)h(of)g(exception,)j(and)c(should)h(be)f
(one)g(of)h(the)f Fn(S48)p 4614 10514 V 66 w(EXCEPTION)p
5661 10514 V 66 w Fr(.)27 b(.)g(.)g(constants)60 b(de-)166
10740 y(\002ned)81 b(in)g Fn(scheme48arch.h)p Fr(.)166
b Fn(nargs)82 b Fr(is)f(the)h(number)e(of)h(additional)g(values)g(to)h
(be)f(in-)166 10966 y(cluded)56 b(in)g(the)h(exception;)62
b(these)57 b(follow)f(the)h Fn(nargs)f Fr(ar)m(gument)g(and)g(should)g
(all)g(have)g(type)166 11191 y Fn(s48)p 504 11191 V 66
w(value)p Fr(.)h Fn(s48)p 1544 11191 V 66 w(raise)p 2155
11191 V 66 w(scheme)p 2875 11191 V 66 w(exception)46
b Fr(never)f(r)m(eturns.)448 11417 y(The)55 b(following)f(pr)m(ocedur)m
(es)g(ar)m(e)g(available)f(for)h(raising)g(particular)g(types)h(of)f
(exceptions.)166 11643 y(Like)46 b Fn(s48)p 902 11643
V 65 w(raise)p 1512 11643 V 66 w(scheme)p 2232 11643
V 66 w(exception)h Fr(these)e(never)g(r)m(eturn.)3495
12141 y(49)p eop end
%%Page: 50 56
TeXDict begin 50 55 bop 368 1146 a Fj(\017)91 b Fn(s48)p
888 1146 55 7 v 66 w(raise)p 1499 1146 V 66 w(argument)p
2437 1146 V 66 w(type)p 2939 1146 V 66 w(error\(scheme)p
4313 1146 V 66 w(value\))368 1372 y Fj(\017)g Fn(s48)p
888 1372 V 66 w(raise)p 1499 1372 V 66 w(argument)p 2437
1372 V 66 w(number)p 3157 1372 V 66 w(error\(int)h(nargs,)f(int)g(min,)
h(int)f(max\))368 1597 y Fj(\017)g Fn(s48)p 888 1597
V 66 w(raise)p 1499 1597 V 66 w(range)p 2110 1597 V 66
w(error\(long)h(value,)f(long)g(min,)h(long)f(max\))368
1823 y Fj(\017)g Fn(s48)p 888 1823 V 66 w(raise)p 1499
1823 V 66 w(closed)p 2219 1823 V 66 w(channel)p 3048
1823 V 66 w(error\(\))368 2049 y Fj(\017)g Fn(s48)p 888
2049 V 66 w(raise)p 1499 2049 V 66 w(os)p 1783 2049 V
66 w(error\(int)g(errno\))368 2275 y Fj(\017)g Fn(s48)p
888 2275 V 66 w(raise)p 1499 2275 V 66 w(out)p 1892 2275
V 66 w(of)p 2176 2275 V 65 w(memory)p 2895 2275 V 66
w(error\(\))332 2627 y Fr(An)48 b(ar)m(gument)e(type)j(err)m(or)e
(indicates)g(that)h(the)f(given)h(value)e(is)i(of)f(the)h(wr)m(ong)f
(type.)64 b(An)47 b(ar)m(gu-)332 2853 y(ment)55 b(number)e(err)m(or)h
(is)h(raised)g(when)f(the)h(number)e(of)i(ar)m(guments,)i
Fn(nargs)p Fr(,)h(should)c(be,)k(but)332 3079 y(isn't,)44
b(between)g Fn(min)g Fr(and)g Fn(max)p Fr(,)h(inclusive.)55
b(Similarly)-20 b(,)44 b(a)g(range)f(err)m(or)h(indicates)g(that)g
Fn(value)g Fr(is)332 3304 y(not)i(between)f(between)g
Fn(min)h Fr(and)f Fn(max)p Fr(,)h(inclusive.)614 3533
y(The)51 b(following)f(macr)m(os)g(raise)g(ar)m(gument)f(type)j(err)m
(ors)e(if)g(their)g(ar)m(gument)g(does)h(not)g(have)332
3759 y(the)j(r)m(equir)m(ed)f(type.)83 b Fn(S48)p 2201
3759 V 66 w(CHECK)p 2812 3759 V 66 w(BOOLEAN)54 b Fr(raises)g(an)g(err)
m(or)g(if)f(its)h(ar)m(gument)f(is)h(neither)g Fn(#t)332
3984 y Fr(or)46 b Fn(#f)p Fr(.)368 4336 y Fj(\017)91
b Fn(void)h(S48)p 1416 4336 V 65 w(CHECK)p 2026 4336
V 66 w(BOOLEAN\(s48)p 3291 4336 V 67 w(value\))368 4562
y Fj(\017)f Fn(void)h(S48)p 1416 4562 V 65 w(CHECK)p
2026 4562 V 66 w(SYMBOL\(s48)p 3182 4562 V 67 w(value\))368
4788 y Fj(\017)f Fn(void)h(S48)p 1416 4788 V 65 w(CHECK)p
2026 4788 V 66 w(PAIR\(s48)p 2964 4788 V 66 w(value\))368
5014 y Fj(\017)f Fn(void)h(S48)p 1416 5014 V 65 w(CHECK)p
2026 5014 V 66 w(STRING\(s48)p 3182 5014 V 67 w(value\))368
5240 y Fj(\017)f Fn(void)h(S48)p 1416 5240 V 65 w(CHECK)p
2026 5240 V 66 w(INTEGER\(s48)p 3291 5240 V 67 w(value\))368
5466 y Fj(\017)f Fn(void)h(S48)p 1416 5466 V 65 w(CHECK)p
2026 5466 V 66 w(CHANNEL\(s48)p 3291 5466 V 67 w(value\))368
5691 y Fj(\017)f Fn(void)h(S48)p 1416 5691 V 65 w(CHECK)p
2026 5691 V 66 w(BYTE)p 2528 5691 V 66 w(VECTOR\(s48)p
3684 5691 V 66 w(value\))368 5917 y Fj(\017)f Fn(void)h(S48)p
1416 5917 V 65 w(CHECK)p 2026 5917 V 66 w(RECORD\(s48)p
3182 5917 V 67 w(value\))368 6143 y Fj(\017)f Fn(void)h(S48)p
1416 6143 V 65 w(CHECK)p 2026 6143 V 66 w(SHARED)p 2746
6143 V 66 w(BINDING\(s48)p 4011 6143 V 67 w(value\))332
6756 y Fk(6.12)238 b(Unsafe)59 b(functions)g(and)h(macros)332
7183 y Fr(All)48 b(of)f(the)g(C)g(pr)m(ocedur)m(es)g(and)g(macr)m(os)f
(described)h(above)g(check)g(that)g(their)g(ar)m(guments)g(have)332
7409 y(the)61 b(appr)m(opriate)h(types)f(and)g(that)g(indexes)g(ar)m(e)
g(in)f(range.)103 b(The)62 b(following)e(pr)m(ocedur)m(es)g(and)332
7634 y(macr)m(os)d(ar)m(e)g(identical)g(to)i(those)f(described)f
(above,)k(except)c(that)h(they)g(do)g(not)g(perform)f(type)332
7860 y(and)c(range)h(checks.)80 b(They)54 b(ar)m(e)f(pr)m(ovided)g(for)
g(the)h(purpose)g(of)f(writing)g(mor)m(e)g(ef)m(\002cient)f(code;)332
8086 y(their)45 b(general)h(use)f(is)g(not)h(r)m(ecommended.)368
8438 y Fj(\017)91 b Fn(char)546 b(S48)p 1870 8438 V 66
w(UNSAFE)p 2590 8438 V 66 w(EXTRACT)p 3419 8438 V 66
w(CHAR\(s48)p 4357 8438 V 66 w(value\))368 8664 y Fj(\017)91
b Fn(char)h(*)363 b(S48)p 1888 8664 V 66 w(UNSAFE)p 2608
8664 V 66 w(EXTRACT)p 3437 8664 V 66 w(STRING\(s48)p
4593 8664 V 66 w(value\))368 8890 y Fj(\017)91 b Fn(long)546
b(S48)p 1870 8890 V 66 w(UNSAFE)p 2590 8890 V 66 w(EXTRACT)p
3419 8890 V 66 w(DOUBLE\(s48)p 4575 8890 V 66 w(value\))368
9239 y Fj(\017)91 b Fn(long)546 b(S48)p 1870 9239 V 66
w(UNSAFE)p 2590 9239 V 66 w(EXTRACT)p 3419 9239 V 66
w(FIXNUM\(s48)p 4575 9239 V 66 w(value\))368 9465 y Fj(\017)91
b Fn(s48)p 888 9465 V 66 w(value)g(S48)p 1917 9465 V
66 w(UNSAFE)p 2637 9465 V 66 w(ENTER)p 3248 9465 V 66
w(FIXNUM\(long\))368 9815 y Fj(\017)g Fn(s48)p 888 9815
V 66 w(value)g(S48)p 1917 9815 V 66 w(UNSAFE)p 2637 9815
V 66 w(CAR\(s48)p 3466 9815 V 66 w(value\))368 10041
y Fj(\017)g Fn(s48)p 888 10041 V 66 w(value)g(S48)p 1917
10041 V 66 w(UNSAFE)p 2637 10041 V 66 w(CDR\(s48)p 3466
10041 V 66 w(value\))368 10266 y Fj(\017)g Fn(void)546
b(S48)p 1870 10266 V 66 w(UNSAFE)p 2590 10266 V 66 w(SET)p
2983 10266 V 66 w(CAR\(s48)p 3812 10266 V 66 w(value,)91
b(s48)p 4950 10266 V 66 w(value\))368 10492 y Fj(\017)g
Fn(void)546 b(S48)p 1870 10492 V 66 w(UNSAFE)p 2590 10492
V 66 w(SET)p 2983 10492 V 66 w(CDR\(s48)p 3812 10492
V 66 w(value,)91 b(s48)p 4950 10492 V 66 w(value\))368
10842 y Fj(\017)g Fn(long)546 b(S48)p 1870 10842 V 66
w(UNSAFE)p 2590 10842 V 66 w(VECTOR)p 3310 10842 V 66
w(LENGTH\(s48)p 4466 10842 V 66 w(value\))368 11068 y
Fj(\017)91 b Fn(s48)p 888 11068 V 66 w(value)g(S48)p
1917 11068 V 66 w(UNSAFE)p 2637 11068 V 66 w(VECTOR)p
3357 11068 V 66 w(REF\(s48)p 4186 11068 V 66 w(value,)h(long\))368
11293 y Fj(\017)f Fn(void)546 b(S48)p 1870 11293 V 66
w(UNSAFE)p 2590 11293 V 66 w(VECTOR)p 3310 11293 V 66
w(SET\(s48)p 4139 11293 V 66 w(value,)91 b(long,)h(s48)p
5914 11293 V 65 w(value\))368 11643 y Fj(\017)f Fn(long)546
b(S48)p 1870 11643 V 66 w(UNSAFE)p 2590 11643 V 66 w(STRING)p
3310 11643 V 66 w(LENGTH\(s48)p 4466 11643 V 66 w(value\))3661
12141 y Fr(50)p eop end
%%Page: 51 57
TeXDict begin 51 56 bop 202 1146 a Fj(\017)91 b Fn(char)546
b(S48)p 1704 1146 55 7 v 66 w(UNSAFE)p 2424 1146 V 66
w(STRING)p 3144 1146 V 66 w(REF\(s48)p 3973 1146 V 66
w(value,)91 b(long\))202 1372 y Fj(\017)g Fn(void)546
b(S48)p 1704 1372 V 66 w(UNSAFE)p 2424 1372 V 66 w(STRING)p
3144 1372 V 66 w(SET\(s48)p 3973 1372 V 66 w(value,)91
b(long,)h(char\))202 1714 y Fj(\017)f Fn(s48)p 722 1714
V 66 w(value)g(S48)p 1751 1714 V 66 w(UNSAFE)p 2471 1714
V 66 w(SYMBOL)p 3191 1714 V 66 w(TO)p 3475 1714 V 66
w(STRING\(s48)p 4631 1714 V 66 w(value\))202 2056 y Fj(\017)g
Fn(long)546 b(S48)p 1704 2056 V 66 w(UNSAFE)p 2424 2056
V 66 w(BYTE)p 2926 2056 V 66 w(VECTOR)p 3646 2056 V 66
w(LENGTH\(s48)p 4802 2056 V 66 w(value\))202 2281 y Fj(\017)91
b Fn(char)546 b(S48)p 1704 2281 V 66 w(UNSAFE)p 2424
2281 V 66 w(BYTE)p 2926 2281 V 66 w(VECTOR)p 3646 2281
V 66 w(REF\(s48)p 4475 2281 V 66 w(value,)91 b(long\))202
2507 y Fj(\017)g Fn(void)546 b(S48)p 1704 2507 V 66 w(UNSAFE)p
2424 2507 V 66 w(BYTE)p 2926 2507 V 66 w(VECTOR)p 3646
2507 V 66 w(SET\(s48)p 4475 2507 V 66 w(value,)91 b(long,)g(int\))202
2849 y Fj(\017)g Fn(s48)p 722 2849 V 66 w(value)g(S48)p
1751 2849 V 66 w(UNSAFE)p 2471 2849 V 66 w(SHARED)p 3191
2849 V 66 w(BINDING)p 4020 2849 V 66 w(REF\(s48)p 4849
2849 V 66 w(value)h(s)p 5661 2849 V 65 w(b\))202 3075
y Fj(\017)f Fn(int)637 b(S48)p 1686 3075 V 66 w(UNSAFE)p
2406 3075 V 66 w(SHARED)p 3126 3075 V 66 w(BINDING)p
3955 3075 V 66 w(P\(x\))202 3301 y Fj(\017)91 b Fn(int)637
b(S48)p 1686 3301 V 66 w(UNSAFE)p 2406 3301 V 66 w(SHARED)p
3126 3301 V 66 w(BINDING)p 3955 3301 V 66 w(IS)p 4239
3301 V 65 w(IMPORT)p 4958 3301 V 66 w(P\(s48)p 5569 3301
V 66 w(value)92 b(s)p 6381 3301 V 65 w(b\))202 3527 y
Fj(\017)f Fn(s48)p 722 3527 V 66 w(value)g(S48)p 1751
3527 V 66 w(UNSAFE)p 2471 3527 V 66 w(SHARED)p 3191 3527
V 66 w(BINDING)p 4020 3527 V 66 w(NAME\(s48)p 4958 3527
V 66 w(value)h(s)p 5770 3527 V 65 w(b\))202 3753 y Fj(\017)f
Fn(void)546 b(S48)p 1704 3753 V 66 w(UNSAFE)p 2424 3753
V 66 w(SHARED)p 3144 3753 V 66 w(BINDING)p 3973 3753
V 66 w(SET\(s48)p 4802 3753 V 66 w(value)91 b(s)p 5613
3753 V 66 w(b,)g(s48)p 6315 3753 V 66 w(value)g(value\))202
4095 y Fj(\017)g Fn(s48)p 722 4095 V 66 w(value)g(S48)p
1751 4095 V 66 w(UNSAFE)p 2471 4095 V 66 w(RECORD)p 3191
4095 V 66 w(TYPE\(s48)p 4129 4095 V 66 w(value\))202
4320 y Fj(\017)g Fn(s48)p 722 4320 V 66 w(value)g(S48)p
1751 4320 V 66 w(UNSAFE)p 2471 4320 V 66 w(RECORD)p 3191
4320 V 66 w(REF\(s48)p 4020 4320 V 66 w(value,)h(long\))202
4546 y Fj(\017)f Fn(void)546 b(S48)p 1704 4546 V 66 w(UNSAFE)p
2424 4546 V 66 w(RECORD)p 3144 4546 V 66 w(SET\(s48)p
3973 4546 V 66 w(value,)91 b(long,)h(s48)p 5748 4546
V 65 w(value\))202 4888 y Fj(\017)f Fn(type)546 b(S48)p
1704 4888 V 66 w(UNSAFE)p 2424 4888 V 66 w(EXTRACT)p
3253 4888 V 66 w(VALUE\(s48)p 4300 4888 V 66 w(value,)92
b(type\))202 5114 y Fj(\017)f Fn(type)g(*)364 b(S48)p
1722 5114 V 66 w(UNSAFE)p 2442 5114 V 66 w(EXTRACT)p
3271 5114 V 66 w(VALUE)p 3882 5114 V 66 w(POINTER\(s48)p
5147 5114 V 66 w(value,)92 b(type\))202 5340 y Fj(\017)f
Fn(void)546 b(S48)p 1704 5340 V 66 w(UNSAFE)p 2424 5340
V 66 w(SET)p 2817 5340 V 65 w(VALUE\(s48)p 3863 5340
V 67 w(value,)91 b(type,)h(value\))3495 12141 y Fr(51)p
eop end
%%Page: 52 58
TeXDict begin 52 57 bop 332 2391 a Fm(Appendix)88 b(A)332
3221 y Fp(ASCII)104 b(character)e(encoding)332 4144 y
Fr(\223ASCII\224)80 b(stands)e(for)g(\223American)g(Standar)m(d)g(Code)
h(for)f(Information)g(Inter)m(change\224.)155 b(The)332
4370 y(ASCII)60 b(standar)m(d)e(is)h(a)f(seven-bit)g(code)g(published)g
(by)g(the)h(United)g(States)h(of)e(America)g(Stan-)332
4596 y(dar)m(ds)42 b(Institute)h(\(USASI\))h(in)e(1968.)55
b(The)43 b(ASCII)h(encoding)e(forms)g(the)g(\002rst)h(half)f(of)g
(ISO-8859-1)332 4822 y(\(Latin1\))j(which)f(in)h(turn)g(forms)g(the)g
(\002rst)h(page)g(of)f(ISO)h(10646)f(\(Unicode\).)614
5048 y(The)67 b(Scheme)f(48)f(pr)m(ocedur)m(es)h Fn(char->ascii)h
Fr(and)f Fn(ascii->char)h Fr(\(section)e(5.1\))h(give)332
5273 y(access)45 b(to)h(the)g(ASCII)h(encoding.)444 5663
y Fc(n)541 5688 y Fb(10)880 5663 y Fc(n)977 5688 y Fb(16)2037
5663 y Fc(Unicode)41 b(name)1079 b(n)4281 5688 y Fb(10)4620
5663 y Fc(n)4717 5688 y Fb(16)5587 5663 y Fc(Unicode)41
b(name)581 5863 y Fa(0)337 b(0)199 b Fc(NUL)352 b(null)1892
b Fa(64)236 b(40)199 b(@)430 b Fc(commer)m(cial)40 b(at)581
6062 y Fa(1)337 b(1)199 b Fc(SOH)364 b(start)41 b(of)h(heading)1031
b Fa(65)236 b(41)199 b(A)430 b Fc(latin)42 b(capital)g(letter)f(a)581
6261 y Fa(2)337 b(2)199 b Fc(STX)420 b(start)41 b(of)h(text)1355
b Fa(66)236 b(42)199 b(B)430 b Fc(latin)42 b(capital)g(letter)f(b)581
6460 y Fa(3)337 b(3)199 b Fc(ETX)406 b(end)41 b(of)g(text)1405
b Fa(67)236 b(43)199 b(C)430 b Fc(latin)42 b(capital)g(letter)f(c)581
6660 y Fa(4)337 b(4)199 b Fc(EOT)386 b(end)41 b(of)g(transmission)738
b Fa(68)236 b(44)199 b(D)430 b Fc(latin)42 b(capital)g(letter)f(d)581
6859 y Fa(5)337 b(5)199 b Fc(ENQ)350 b(enquiry)1609 b
Fa(69)236 b(45)199 b(E)430 b Fc(latin)42 b(capital)g(letter)f(e)581
7058 y Fa(6)337 b(6)199 b Fc(ACK)352 b(acknowledge)1209
b Fa(70)236 b(46)199 b(F)430 b Fc(latin)42 b(capital)g(letter)f(f)581
7257 y Fa(7)337 b(7)199 b Fc(BEL)417 b(bell)1917 b Fa(71)236
b(47)199 b(G)430 b Fc(latin)42 b(capital)g(letter)f(g)581
7457 y Fa(8)337 b(8)199 b Fc(BS)532 b(backspace)1437
b Fa(72)236 b(48)199 b(H)430 b Fc(latin)42 b(capital)g(letter)f(h)581
7656 y Fa(9)337 b(9)199 b Fc(HT)480 b(horizontal)40 b(tabulation)637
b Fa(73)236 b(49)199 b(I)430 b Fc(latin)42 b(capital)g(letter)f(i)482
7855 y Fa(10)336 b(A)199 b Fc(LF)527 b(line)41 b(feed)1555
b Fa(74)236 b(4A)199 b(J)430 b Fc(latin)42 b(capital)g(letter)f(j)482
8055 y Fa(11)336 b(B)199 b Fc(VT)498 b(vertical)41 b(tabulation)847
b Fa(75)236 b(4B)199 b(K)430 b Fc(latin)42 b(capital)g(letter)f(k)482
8254 y Fa(12)336 b(C)199 b Fc(FF)536 b(form)40 b(feed)1470
b Fa(76)236 b(4C)199 b(L)430 b Fc(latin)42 b(capital)g(letter)f(l)482
8453 y Fa(13)336 b(D)199 b Fc(CR)491 b(carriage)40 b(r)m(eturn)1093
b Fa(77)236 b(4D)199 b(M)430 b Fc(latin)42 b(capital)g(letter)f(m)482
8652 y Fa(14)336 b(E)199 b Fc(SO)502 b(shift)42 b(out)1574
b Fa(78)236 b(4E)199 b(N)430 b Fc(latin)42 b(capital)g(letter)f(n)482
8852 y Fa(15)336 b(F)199 b Fc(SI)577 b(shift)42 b(in)1674
b Fa(79)236 b(4F)199 b(O)430 b Fc(latin)42 b(capital)g(letter)f(o)482
9051 y Fa(16)236 b(10)199 b Fc(DLE)389 b(data)42 b(link)g(escape)1008
b Fa(80)236 b(50)199 b(P)430 b Fc(latin)42 b(capital)g(letter)f(p)482
9250 y Fa(17)236 b(11)199 b Fc(DC1)390 b(device)41 b(contr)m(ol)f(one)
841 b Fa(81)236 b(51)199 b(Q)430 b Fc(latin)42 b(capital)g(letter)f(q)
482 9449 y Fa(18)236 b(12)199 b Fc(DC2)390 b(device)41
b(contr)m(ol)f(two)826 b Fa(82)236 b(52)199 b(R)430 b
Fc(latin)42 b(capital)g(letter)f(r)482 9649 y Fa(19)236
b(13)199 b Fc(DC3)390 b(device)41 b(contr)m(ol)f(thr)m(ee)735
b Fa(83)236 b(53)199 b(S)430 b Fc(latin)42 b(capital)g(letter)f(s)482
9848 y Fa(20)236 b(14)199 b Fc(DC4)390 b(device)41 b(contr)m(ol)f(four)
797 b Fa(84)236 b(54)199 b(T)430 b Fc(latin)42 b(capital)g(letter)f(t)
482 10047 y Fa(21)236 b(15)199 b Fc(NAK)332 b(negative)40
b(acknowledge)541 b Fa(85)236 b(55)199 b(U)430 b Fc(latin)42
b(capital)g(letter)f(u)482 10246 y Fa(22)236 b(16)199
b Fc(SYN)384 b(synchr)m(onous)40 b(idle)926 b Fa(86)236
b(56)199 b(V)430 b Fc(latin)42 b(capital)g(letter)f(v)482
10446 y Fa(23)236 b(17)199 b Fc(ETB)416 b(end)41 b(of)g(transmission)h
(block)299 b Fa(87)236 b(57)199 b(W)430 b Fc(latin)42
b(capital)g(letter)f(w)482 10645 y Fa(24)236 b(18)199
b Fc(CAN)335 b(cancel)1729 b Fa(88)236 b(58)199 b(X)430
b Fc(latin)42 b(capital)g(letter)f(x)482 10844 y Fa(25)236
b(19)199 b Fc(EM)462 b(end)41 b(of)g(medium)1056 b Fa(89)236
b(59)199 b(Y)430 b Fc(latin)42 b(capital)g(letter)f(y)482
11043 y Fa(26)236 b(1A)199 b Fc(SUB)403 b(substitute)1463
b Fa(90)236 b(5A)199 b(Z)430 b Fc(latin)42 b(capital)g(letter)f(z)482
11243 y Fa(27)236 b(1B)199 b Fc(ESC)414 b(escape)1698
b Fa(91)236 b(5B)199 b([)430 b Fc(left)42 b(squar)m(e)f(bracket)482
11442 y Fa(28)236 b(1C)199 b Fc(FS)541 b(\002le)41 b(separator)1223
b Fa(92)236 b(5C)199 b(\\)430 b Fc(r)m(everse)40 b(solidus)482
11641 y Fa(29)236 b(1D)199 b Fc(GS)506 b(gr)m(oup)41
b(separator)1005 b Fa(93)236 b(5D)199 b(])430 b Fc(right)42
b(squar)m(e)f(bracket)3661 12141 y Fr(52)p eop end
%%Page: 53 59
TeXDict begin 53 58 bop 278 1146 a Fc(n)375 1171 y Fb(10)714
1146 y Fc(n)811 1171 y Fb(16)1871 1146 y Fc(Unicode)41
b(name)1078 b(n)4114 1171 y Fb(10)4454 1146 y Fc(n)4551
1171 y Fb(16)5421 1146 y Fc(Unicode)41 b(name)316 1345
y Fa(30)236 b(1E)199 b Fc(RS)522 b(r)m(ecor)m(d)40 b(separator)980
b Fa(94)236 b(5E)199 b(\210)430 b Fc(cir)m(cum\003ex)40
b(accent)316 1544 y Fa(31)236 b(1F)199 b Fc(US)504 b(unit)41
b(separator)1152 b Fa(95)236 b(5F)199 b(_)430 b Fc(low)42
b(line)316 1743 y Fa(32)236 b(20)199 b Fc(SP)-15 b(ACE)200
b(space)1778 b Fa(96)236 b(60)199 b(`)430 b Fc(grave)41
b(accent)316 1943 y Fa(33)236 b(21)199 b(!)620 b Fc(exclamation)40
b(mark)866 b Fa(97)236 b(61)199 b(a)430 b Fc(latin)42
b(small)g(letter)f(a)316 2142 y Fa(34)236 b(22)199 b(")620
b Fc(quotation)41 b(mark)1045 b Fa(98)236 b(62)199 b(b)430
b Fc(latin)42 b(small)g(letter)f(b)316 2341 y Fa(35)236
b(23)199 b(#)620 b Fc(number)39 b(sign)1257 b Fa(99)236
b(63)199 b(c)430 b Fc(latin)42 b(small)g(letter)f(c)316
2540 y Fa(36)236 b(24)199 b($)620 b Fc(dollar)41 b(sign)1300
b Fa(100)236 b(64)199 b(d)430 b Fc(latin)42 b(small)g(letter)f(d)316
2740 y Fa(37)236 b(25)199 b(\045)620 b Fc(per)m(cent)39
b(sign)1191 b Fa(101)236 b(65)199 b(e)430 b Fc(latin)42
b(small)g(letter)f(e)316 2939 y Fa(38)236 b(26)199 b(&)620
b Fc(ampersand)1258 b Fa(102)236 b(66)199 b(f)430 b Fc(latin)42
b(small)g(letter)f(f)316 3138 y Fa(39)236 b(27)199 b(')620
b Fc(apostr)m(ophe)1256 b Fa(103)236 b(67)199 b(g)430
b Fc(latin)42 b(small)g(letter)f(g)316 3337 y Fa(40)236
b(28)199 b(\()620 b Fc(left)41 b(par)m(enthesis)965 b
Fa(104)236 b(68)199 b(h)430 b Fc(latin)42 b(small)g(letter)f(h)316
3537 y Fa(41)236 b(29)199 b(\))620 b Fc(right)41 b(par)m(enthesis)845
b Fa(105)236 b(69)199 b(i)430 b Fc(latin)42 b(small)g(letter)f(i)316
3736 y Fa(42)236 b(2A)199 b(*)620 b Fc(asterisk)1522
b Fa(106)236 b(6A)199 b(j)430 b Fc(latin)42 b(small)g(letter)f(j)316
3935 y Fa(43)236 b(2B)199 b(+)620 b Fc(plus)42 b(sign)1418
b Fa(107)236 b(6B)199 b(k)430 b Fc(latin)42 b(small)g(letter)f(k)316
4134 y Fa(44)236 b(2C)199 b(,)620 b Fc(comma)1543 b Fa(108)236
b(6C)199 b(l)430 b Fc(latin)42 b(small)g(letter)f(l)316
4334 y Fa(45)236 b(2D)199 b(-)620 b Fc(hyphen-minus)1005
b Fa(109)236 b(6D)199 b(m)430 b Fc(latin)42 b(small)g(letter)f(m)316
4533 y Fa(46)236 b(2E)199 b(.)620 b Fc(full)42 b(stop)1477
b Fa(110)236 b(6E)199 b(n)430 b Fc(latin)42 b(small)g(letter)f(n)316
4732 y Fa(47)236 b(2F)199 b(/)620 b Fc(solidus)1557 b
Fa(111)236 b(6F)199 b(o)430 b Fc(latin)42 b(small)g(letter)f(o)316
4932 y Fa(48)236 b(30)199 b(0)620 b Fc(digit)43 b(zer)m(o)1382
b Fa(112)236 b(70)199 b(p)430 b Fc(latin)42 b(small)g(letter)f(p)316
5131 y Fa(49)236 b(31)199 b(1)620 b Fc(digit)43 b(one)1431
b Fa(113)236 b(71)199 b(q)430 b Fc(latin)42 b(small)g(letter)f(q)316
5330 y Fa(50)236 b(32)199 b(2)620 b Fc(digit)43 b(two)1416
b Fa(114)236 b(72)199 b(r)430 b Fc(latin)42 b(small)g(letter)f(r)316
5529 y Fa(51)236 b(33)199 b(3)620 b Fc(digit)43 b(thr)m(ee)1325
b Fa(115)236 b(73)199 b(s)430 b Fc(latin)42 b(small)g(letter)f(s)316
5729 y Fa(52)236 b(34)199 b(4)620 b Fc(digit)43 b(four)1387
b Fa(116)236 b(74)199 b(t)430 b Fc(latin)42 b(small)g(letter)f(t)316
5928 y Fa(53)236 b(35)199 b(5)620 b Fc(digit)43 b(\002ve)1425
b Fa(117)236 b(75)199 b(u)430 b Fc(latin)42 b(small)g(letter)f(u)316
6127 y Fa(54)236 b(36)199 b(6)620 b Fc(digit)43 b(six)1495
b Fa(118)236 b(76)199 b(v)430 b Fc(latin)42 b(small)g(letter)f(v)316
6326 y Fa(55)236 b(37)199 b(7)620 b Fc(digit)43 b(seven)1278
b Fa(119)236 b(77)199 b(w)430 b Fc(latin)42 b(small)g(letter)f(w)316
6526 y Fa(56)236 b(38)199 b(8)620 b Fc(digit)43 b(eight)1328
b Fa(120)236 b(78)199 b(x)430 b Fc(latin)42 b(small)g(letter)f(x)316
6725 y Fa(57)236 b(39)199 b(9)620 b Fc(digit)43 b(nine)1377
b Fa(121)236 b(79)199 b(y)430 b Fc(latin)42 b(small)g(letter)f(y)316
6924 y Fa(58)236 b(3A)199 b(:)620 b Fc(colon)1684 b Fa(122)236
b(7A)199 b(z)430 b Fc(latin)42 b(small)g(letter)f(z)316
7123 y Fa(59)236 b(3B)199 b(;)620 b Fc(semicolon)1339
b Fa(123)236 b(7B)199 b({)430 b Fc(left)42 b(curly)g(bracket)316
7323 y Fa(60)236 b(3C)199 b(<)620 b Fc(less-than)41 b(sign)1083
b Fa(124)236 b(7C)199 b(|)430 b Fc(vertical)41 b(line)316
7522 y Fa(61)236 b(3D)199 b(=)620 b Fc(equals)41 b(sign)1263
b Fa(125)236 b(7D)199 b(})430 b Fc(right)42 b(curly)f(bracket)316
7721 y Fa(62)236 b(3E)199 b(>)620 b Fc(gr)m(eater)m(-than)40
b(sign)837 b Fa(126)236 b(7E)199 b(\230)430 b Fc(tilde)316
7920 y Fa(63)236 b(3F)199 b(?)620 b Fc(question)41 b(mark)1023
b Fa(127)236 b(7F)199 b Fc(DEL)g(delete)3495 12141 y
Fr(53)p eop end
%%Page: 54 60
TeXDict begin 54 59 bop 332 2474 a Fp(Bibliography)423
3397 y Fr([1])90 b(Information)37 b(technology)g(\226)h(Portable)f
(Operating)g(System)h(Interface)f(\(POSIX\).)48 b(ISO/IEC)726
3623 y(9945-1)c(ANSI/IEEE)k(Std)e(1003.1.)66 b(2nd)45
b(Ed.,)i(1996.)423 3998 y([2])90 b(W)-10 b(illiam)44
b(Clinger)h(and)g(Jonathan)g(Rees.)67 b(Macr)m(os)45
b(that)g(work.)66 b Fq(Principles)43 b(of)i(Pr)m(ogramming)726
4224 y(Languages)p Fr(,)g(January)f(1991.)423 4599 y([3])90
b(W)-10 b(illiam)45 b(Clinger)h(and)h(Jonathan)f(Rees)h(\(editors\).)69
b(Revised)5026 4533 y Fl(4)5152 4599 y Fr(r)m(eport)47
b(on)f(the)h(algorithmic)726 4825 y(language)e(Scheme.)65
b Fq(LISP)46 b(Pointers)d Fr(IV\(3\):1\22655,)j(July-September)e(1991.)
423 5200 y([4])90 b(Pavel)41 b(Curtis)g(and)g(James)f(Rauen.)57
b(A)42 b(module)f(system)g(for)g(Scheme.)57 b Fq(ACM)42
b(Confer)m(ence)d(on)726 5426 y(Lisp)45 b(and)g(Functional)f(Pr)m
(ogramming,)h Fr(pages)h(13\22619,)f(1990.)423 5801 y([5])90
b(Richar)m(d)39 b(Kelsey)h(and)f(Jonathan)g(Rees.)54
b(A)40 b(T)-16 b(ractable)39 b(Scheme)g(Implementation.)53
b Fq(Lisp)39 b(and)726 6027 y(Symbolic)45 b(Computation)f
Fr(7:315\226335)h(1994.)423 6403 y([6])90 b(Richar)m(d)66
b(Kelsey)-20 b(,)73 b(W)-10 b(ill)67 b(Clinger)-13 b(,)72
b(Jonathan)67 b(Rees)g(\(editors\).)135 b(Revised)5886
6337 y Fl(5)6032 6403 y Fr(Report)69 b(on)e(the)726 6628
y(Algorithmic)55 b(Language)h(Scheme.)98 b Fq(Higher-Order)54
b(and)h(Symbolic)g(Computation,)i Fr(V)-20 b(ol.)57 b(11,)726
6854 y(No.)42 b(1,)h(September)-13 b(,)42 b(1998.)57
b(and)42 b Fq(ACM)f(SIGPLAN)i(Notices)p Fr(,)e(V)-20
b(ol.)42 b(33,)h(No.)f(9,)h(October)-13 b(,)42 b(1998.)423
7229 y([7])90 b(David)48 b(MacQueen.)74 b(Modules)49
b(for)f(Standar)m(d)g(ML.)76 b Fq(ACM)48 b(Confer)m(ence)f(on)h(Lisp)g
(and)g(Func-)726 7455 y(tional)c(Pr)m(ogramming,)h Fr(1984.)423
7831 y([8])90 b(Jonathan)36 b(Rees)i(and)f(Br)o(uce)f(Donald.)48
b(Pr)m(ogram)36 b(mobile)h(r)m(obots)g(in)g(Scheme.)47
b Fq(International)726 8056 y(Confer)m(ence)d(on)h(Robotics)f(and)h
(Automation,)g Fr(IEEE,)h(1992.)423 8432 y([9])90 b(Mark)68
b(A.)i(Sheldon)e(and)h(David)e(K.)i(Gif)m(for)m(d.)138
b(Static)69 b(dependent)g(types)h(for)e(\002rst-class)726
8657 y(modules.)61 b Fq(ACM)44 b(Confer)m(ence)e(on)h(Lisp)g(and)h
(Functional)e(Pr)m(ogramming,)h Fr(pages)h(20\22629,)g(1990.)332
9033 y([10])90 b(Olin)115 b(Shivers)h(and)f(Brian)g(D.)h(Calrstr)m(om.)
290 b(Scsh)116 b(Refer)m(ence)f(Manual,)133 b(scsh)115
b(r)m(e-)726 9259 y(lease)100 b(0.4.)239 b(MIT)100 b(Laboratory)g(for)f
(Computer)g(Science)239 b(Also)100 b(available)e(at)i(URL)726
9484 y(http://swissnet.ai.mit.edu/scsh/.)332 9860 y([11])90
b(Olin)57 b(Shivers.)105 b(A)58 b(universal)e(scripting)h(framework,)j
(or)e(Lambda:)80 b(the)58 b(ultimate)f(\223little)726
10085 y(language\224.)131 b Fq(Concurr)m(ency)65 b(and)h(Parallelism,)j
(Pr)m(ogramming,)i(Networking,)f(and)c(Security)-7 b(,)726
10311 y Fr(pages)46 b(254\226265,)f(Springer)h(1996.)65
b(Joxan)45 b(Jaf)m(far)f(and)h(Roland)h(H.)g(C.)g(Y)-17
b(ap,)46 b(editors.)3661 12141 y(54)p eop end
%%Page: 55 61
TeXDict begin 55 60 bop 166 2090 a Fp(Index)166 2944
y Fr(The)59 b(principal)f(entry)h(for)f(each)g(term,)63
b(pr)m(oce-)166 3170 y(dur)m(e,)52 b(or)e(keywor)m(d)h(is)f(listed)h
(\002rst,)h(separated)166 3396 y(fr)m(om)44 b(the)i(other)g(entries)f
(by)g(a)h(semicolon.)166 4019 y Fn(accessible?)137 b
Fr(72)166 4245 y Fn(add-signal-queue-signal!)i Fr(68)166
4472 y Fn(any-match?)e Fr(47)166 4699 y Fn(arithmetic-shift)h
Fr(28)166 4926 y Fn(array)f Fr(30)166 5153 y Fn(array->vector)h
Fr(30)166 5380 y Fn(array-dimensions)g Fr(30)166 5606
y Fn(array-ref)f Fr(30)166 5833 y Fn(array-set!)g Fr(30)166
6060 y Fn(array?)g Fr(30)166 6287 y Fn(ascii->char)g
Fr(28)166 6514 y Fn(ascii-limit)g Fr(28)166 6741 y Fn(ascii-range)g
Fr(45)166 6967 y Fn(ascii-ranges)g Fr(45)166 7194 y Fn
(ascii-whitespaces)h Fr(28)166 7604 y Fn(bit-count)f
Fr(29)166 7831 y Fn(bitwise-and)g Fr(28)166 8058 y Fn(bitwise-ior)g
Fr(28)166 8284 y Fn(bitwise-not)g Fr(28)166 8511 y Fn(bitwise-xor)g
Fr(28)166 8738 y Fn(byte-vector)g Fr(29)166 8965 y Fn
(byte-vector-length)h Fr(29)166 9192 y Fn(byte-vector-ref)g
Fr(29)166 9419 y Fn(byte-vector-set!)g Fr(29)166 9645
y Fn(byte-vector?)f Fr(29)166 10055 y Fn(call-external)h
Fr(55;)45 b(54)166 10282 y Fn(call-external-value)138
b Fr(54)166 10509 y Fn(call-imported-binding)g Fr(54)166
10736 y Fn(cell-ref)f Fr(29)166 10963 y Fn(cell-set!)g
Fr(29)166 11189 y Fn(cell?)g Fr(29)166 11416 y Fn(char->ascii)g
Fr(28)166 11643 y Fn(close-all-but)h Fr(76)3669 2944
y Fn(close-directory-stream)g Fr(70)3669 3171 y Fn(close-on-exec?)g
Fr(76)3669 3398 y Fn(close-socket)g Fr(38)3669 3624 y
Fn(compound-interface)g Fr(21)3669 3851 y Fn(copy-array)f
Fr(30)3669 4078 y Fn(current-column)h Fr(37)3669 4304
y Fn(current-row)f Fr(37)3669 4531 y Fn(current-time)h
Fr(74)3669 4937 y Fn(default-hash-function)g Fr(36)3669
5164 y Fn(define-exported-binding)h Fr(52)3669 5391 y
Fn(define-imported-binding)g Fr(53)3669 5617 y Fn(define-interface)f
Fr(20)3669 5844 y Fn(define-record-discloser)h Fr(33;)45
b(31)3669 6071 y Fn(define-record-resumer)138 b Fr(60;)46
b(33)3669 6297 y Fn(define-structure)138 b Fr(18)3669
6524 y Fn(delete-from-queue!)g Fr(29)3669 6751 y Fn(dequeue!)f
Fr(29)3669 6977 y Fn(dequeue-signal!)h Fr(67)3669 7204
y Fn(directory-stream?)g Fr(70)3669 7430 y Fn(dup)f Fr(75)3669
7657 y Fn(dup-switching-mode)h Fr(75)3669 7884 y Fn(dup2)f
Fr(75)3669 8110 y Fn(dynamic-load)h Fr(55)3669 8517 y
Fn(enqueue!)f Fr(29)3669 8743 y Fn(environment-alist)h
Fr(69)3669 8970 y Fn(exact-match?)g Fr(47)3669 9197 y
Fn(exec)f Fr(65)3669 9423 y Fn(exec-file)g Fr(65)3669
9650 y Fn(exec-file-with-environment)i Fr(65)3669 9877
y Fn(exec-with-alias)f Fr(65)3669 10103 y Fn(exec-with-environment)g
Fr(65)3669 10330 y Fn(exit)f Fr(65)3669 10557 y Fn(external-name)h
Fr(55)3669 10783 y Fn(external-value)g Fr(55)3669 11010
y Fn(external?)f Fr(55)3669 11416 y Fn(fd-port?)g Fr(75)3669
11643 y Fn(file-info-device)h Fr(73)3495 12141 y(55)p
eop end
%%Page: 56 62
TeXDict begin 56 61 bop 332 1146 a Fn(file-info-group)138
b Fr(73)332 1374 y Fn(file-info-inode)g Fr(73)332 1603
y Fn(file-info-last-access)g Fr(73)332 1831 y Fn
(file-info-last-info-change)h Fr(73)332 2060 y Fn
(file-info-last-modification)g Fr(73)332 2289 y Fn
(file-info-link-count)f Fr(73)332 2517 y Fn(file-info-mode)g
Fr(73)332 2746 y Fn(file-info-name)g Fr(72)332 2974 y
Fn(file-info-owner)g Fr(73)332 3203 y Fn(file-info-size)g
Fr(73)332 3431 y Fn(file-info-type)g Fr(72)332 3660 y
Fn(file-info?)f Fr(72)332 3889 y Fn(file-mode+)g Fr(73)332
4117 y Fn(file-mode-)g Fr(73)332 4346 y Fn(file-mode->integer)h
Fr(74)332 4574 y Fn(file-mode<=?)g Fr(73)332 4803 y Fn(file-mode=?)f
Fr(73)332 5031 y Fn(file-mode>=?)h Fr(73)332 5260 y Fn(file-mode?)f
Fr(73)332 5488 y Fn(file-options-on?)h Fr(71)332 5717
y Fn(file-type-name)g Fr(72)332 5946 y Fn(file-type?)f
Fr(72)332 6174 y Fn(fluid)g Fr(37)332 6403 y Fn(fork)g
Fr(64)332 6631 y Fn(fork-and-forget)h Fr(64)332 6860
y Fn(fresh-line)f Fr(37)332 7300 y Fn(get-effective-group-id)h
Fr(68)332 7529 y Fn(get-effective-user-id)g Fr(68)332
7757 y Fn(get-external)g Fr(55)332 7986 y Fn(get-file-info)g
Fr(72)332 8215 y Fn(get-file/link-info)g Fr(72)332 8443
y Fn(get-group-id)g Fr(68)332 8672 y Fn(get-groups)f
Fr(68)332 8900 y Fn(get-host-name)h Fr(38)332 9129 y
Fn(get-login-name)g Fr(68)332 9357 y Fn(get-parent-process-id)g
Fr(68)332 9586 y Fn(get-port-info)g Fr(72)332 9815 y
Fn(get-process-id)g Fr(68)332 10043 y Fn(get-user-id)f
Fr(68)332 10272 y Fn(group-id->group-info)h Fr(69)332
10500 y Fn(group-id->integer)g Fr(69)332 10729 y Fn(group-id=?)f
Fr(69)332 10957 y Fn(group-id?)g Fr(69)332 11186 y Fn(group-info-id)h
Fr(69)332 11414 y Fn(group-info-members)g Fr(69)332 11643
y Fn(group-info-name)g Fr(69)3835 1146 y Fn(group-info?)f
Fr(69)3835 1557 y Fn(have-system?)h Fr(38)3835 1969 y
Fn(i/o-flags)f Fr(76)3835 2196 y Fn(ignore-case)g Fr(47)3835
2423 y Fn(integer->file-mode)h Fr(74)3835 2650 y Fn(integer->group-id)g
Fr(69)3835 2877 y Fn(integer->process-id)g Fr(65)3835
3104 y Fn(integer->signal)g Fr(66)3835 3331 y Fn(integer->user-id)g
Fr(69)3835 3558 y Fn(intersection)g Fr(45)3835 3969 y
Fn(let-fluid)f Fr(37)3835 4196 y Fn(let-fluids)g Fr(37)3835
4423 y Fn(limit-output)h Fr(36)3835 4650 y Fn(link)f
Fr(72)3835 4877 y Fn(list->queue)g Fr(29)3835 5104 y
Fn(list-directory)h Fr(70)3835 5331 y Fn(lookup-all-externals)g
Fr(55)3835 5558 y Fn(lookup-environment-variable)h Fr(69)3835
5785 y Fn(lookup-exported-binding)g Fr(53)3835 6012 y
Fn(lookup-external)f Fr(55)3835 6239 y Fn(lookup-imported-binding)h
Fr(53)3835 6650 y Fn(machine-name)f Fr(70)3835 6877 y
Fn(make-array)f Fr(30)3835 7104 y Fn(make-byte-vector)h
Fr(29)3835 7331 y Fn(make-cell)f Fr(29)3835 7558 y Fn(make-directory)h
Fr(72)3835 7785 y Fn(make-fifo)f Fr(72)3835 8012 y Fn(make-fluid)g
Fr(37)3835 8239 y Fn(make-integer-table)h Fr(35)3835
8466 y Fn(make-queue)f Fr(29)3835 8693 y Fn(make-record)g
Fr(32)3835 8920 y Fn(make-record-type)h Fr(33)3835 9147
y Fn(make-regexp)f Fr(76)3835 9374 y Fn(make-shared-array)h
Fr(30)3835 9601 y Fn(make-signal-queue)g Fr(67)3835 9828
y Fn(make-string-input-port)g Fr(36)3835 10054 y Fn
(make-string-output-port)h Fr(36)3835 10281 y Fn(make-string-table)f
Fr(35)3835 10508 y Fn(make-symbol-table)g Fr(35)3835
10735 y Fn(make-table)f Fr(35)3835 10962 y Fn(make-table-immutable!)h
Fr(35)3835 11189 y Fn(make-table-maker)g Fr(35)3835 11416
y Fn(make-time)f Fr(74)3835 11643 y Fn(make-tracking-input-port)i
Fr(36)3661 12141 y(56)p eop end
%%Page: 57 63
TeXDict begin 57 62 bop 166 1146 a Fn(make-tracking-output-port)139
b Fr(37)166 1372 y Fn(match)e Fr(47)166 1597 y Fn(match-end)g
Fr(77;)46 b(47)166 1823 y Fn(match-start)137 b Fr(77;)46
b(47)166 2049 y Fn(match-submatches)138 b Fr(47)166 2275
y Fn(match?)f Fr(77)166 2501 y Fn(maybe-dequeue-signal!)h
Fr(67)166 2726 y Fn(modify)f Fr(18)166 3110 y Fn(name->group-info)h
Fr(69)166 3336 y Fn(name->signal)f Fr(66)166 3561 y Fn(name->user-info)
h Fr(69)166 3787 y Fn(negate)f Fr(45)166 4013 y Fn(no-submatches)h
Fr(47)166 4396 y Fn(one-of)f Fr(46)166 4622 y Fn(open-directory-stream)
h Fr(70)166 4848 y Fn(open-file)f Fr(70)166 5074 y Fn(open-pipe)g
Fr(75)166 5299 y Fn(open-socket)g Fr(38)166 5525 y Fn(os-name)g
Fr(70)166 5751 y Fn(os-node-name)g Fr(70)166 5977 y Fn(os-release-name)
h Fr(70)166 6203 y Fn(os-version-name)g Fr(70)166 6586
y Fn(port->fd)f Fr(75)166 6812 y Fn(port-is-a-terminal?)h
Fr(76)166 7038 y Fn(port-terminal-name)g Fr(76)166 7263
y Fn(prefix)f Fr(18)166 7489 y Fn(process-id->integer)h
Fr(65)166 7715 y Fn(process-id-exit-status)g Fr(65)166
7941 y Fn(process-id-terminating-signal)830 8167 y Fr(65)166
8393 y Fn(process-id=?)f Fr(65)166 8618 y Fn(process-id?)g
Fr(65)166 9002 y Fn(queue->list)g Fr(29)166 9227 y Fn(queue-empty?)g
Fr(29)166 9453 y Fn(queue-length)g Fr(29)166 9679 y Fn(queue?)g
Fr(29)166 10062 y Fn(range)g Fr(45)166 10288 y Fn(ranges)g
Fr(45)166 10514 y Fn(read-directory-stream)h Fr(70)166
10740 y Fn(record)f Fr(32)166 10966 y Fn(record-accessor)h
Fr(33)166 11191 y Fn(record-constructor)g Fr(33)166 11417
y Fn(record-length)g Fr(32)166 11643 y Fn(record-modifier)g
Fr(33)3669 1146 y Fn(record-predicate)g Fr(33)3669 1374
y Fn(record-ref)f Fr(32)3669 1603 y Fn(record-set!)g
Fr(32)3669 1832 y Fn(record-type)g Fr(32)3669 2060 y
Fn(record-type-field-names)i Fr(33)3669 2289 y Fn(record-type-name)f
Fr(33)3669 2517 y Fn(record-type?)g Fr(33)3669 2746 y
Fn(record?)f Fr(32)3669 2975 y Fn(regexp-match)h Fr(77)3669
3203 y Fn(regexp?)f Fr(76)3669 3432 y Fn(remap-file-descriptors)h
Fr(75)3669 3660 y Fn(remove-directory)g Fr(72)3669 3889
y Fn(remove-signal-queue-signal!)h Fr(68)3669 4118 y
Fn(rename)e Fr(72)3669 4346 y Fn(repeat)g Fr(46)3669
4787 y Fn(sequence)g Fr(46)3669 5016 y Fn(set)g Fr(45)3669
5245 y Fn(set-close-on-exec?!)h Fr(76)3669 5473 y Fn
(set-file-creation-mask!)h Fr(71)3669 5702 y Fn(set-group-id!)f
Fr(68)3669 5931 y Fn(set-i/o-flags!)g Fr(76)3669 6159
y Fn(set-user-id!)g Fr(68)3669 6388 y Fn(set-working-directory!)g
Fr(70)3669 6616 y Fn(shared-binding-is-import?)h Fr(53)3669
6845 y Fn(shared-binding-name)f Fr(53)3669 7074 y Fn
(shared-binding-ref)g Fr(53)3669 7302 y Fn(shared-binding-set!)g
Fr(53)3669 7531 y Fn(shared-binding?)g Fr(53)3669 7759
y Fn(signal-name)f Fr(66)3669 7988 y Fn(signal-os-number)h
Fr(66)3669 8217 y Fn(signal-process)g Fr(67)3669 8445
y Fn(signal-queue-monitored-signals)4333 8671 y Fr(67)3669
8900 y Fn(signal-queue?)g Fr(67)3669 9128 y Fn(signal=?)f
Fr(66)3669 9357 y Fn(signal?)g Fr(66)3669 9586 y Fn(socket-accept)h
Fr(38)3669 9814 y Fn(socket-client)g Fr(39)3669 10043
y Fn(socket-port-number)g Fr(38)3669 10271 y Fn(string-end)f
Fr(46)3669 10500 y Fn(string-hash)g Fr(36)3669 10729
y Fn(string-output-port-output)i Fr(36)3669 10957 y Fn(string-start)f
Fr(46)3669 11186 y Fn(submatch)f Fr(47)3669 11414 y Fn(subset)g
Fr(18)3669 11643 y Fn(subtract)g Fr(45)3495 12141 y(57)p
eop end
%%Page: 58 64
TeXDict begin 58 63 bop 332 1146 a Fn(system)137 b Fr(38)332
1538 y Fn(table-ref)g Fr(36)332 1763 y Fn(table-set!)g
Fr(36)332 1989 y Fn(table-walk)g Fr(36)332 2215 y Fn(table?)g
Fr(36)332 2441 y Fn(text)g Fr(46)332 2667 y Fn(time->string)h
Fr(75)332 2892 y Fn(time-seconds)g Fr(74)332 3118 y Fn(time<=?)f
Fr(74)332 3344 y Fn(time<?)g Fr(74)332 3570 y Fn(time=?)g
Fr(74)332 3796 y Fn(time>=?)g Fr(74)332 4022 y Fn(time>?)g
Fr(74)332 4247 y Fn(time?)g Fr(74)332 4639 y Fn
(undefine-exported-binding)i Fr(53)332 4865 y Fn
(undefine-imported-binding)g Fr(53)332 5091 y Fn(union)e
Fr(45)332 5317 y Fn(unlink)g Fr(72)332 5543 y Fn(use-case)g
Fr(47)332 5768 y Fn(user-id->integer)h Fr(69)332 5994
y Fn(user-id->user-info)g Fr(69)332 6220 y Fn(user-id=?)f
Fr(69)332 6446 y Fn(user-id?)g Fr(69)332 6672 y Fn(user-info-group)h
Fr(69)332 6897 y Fn(user-info-home-directory)h Fr(69)332
7123 y Fn(user-info-id)f Fr(69)332 7349 y Fn(user-info-name)g
Fr(69)332 7575 y Fn(user-info-shell)g Fr(69)332 7801
y Fn(user-info?)f Fr(69)332 8193 y Fn(wait-for-child-process)h
Fr(65)332 8418 y Fn(working-directory)g Fr(70)3661 12141
y(58)p eop end
%%Trailer

userdict /end-hook known{end-hook}if
%%EOF
